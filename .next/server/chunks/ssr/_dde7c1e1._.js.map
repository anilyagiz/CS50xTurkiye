{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/connection/lib/fetcher.ts"],"sourcesContent":["import type { FetchResult } from \"@repo/connection/lib/types\";\nimport ky, { HTTPError, TimeoutError } from \"ky\";\n\nconst url =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:3002\"\n    : \"https://api.nakafa.com\";\n\nconst URL_DETAILS_REGEX = /:.*$/;\n\nexport async function fetcher<T>(\n  endpoint: string,\n  options: RequestInit\n): Promise<FetchResult<T | null>> {\n  try {\n    const response = await ky<T>(`${url}${endpoint}`, {\n      ...options,\n    }).json();\n\n    return { data: response, error: null };\n  } catch (error) {\n    if (error instanceof TimeoutError) {\n      return {\n        data: null,\n        error: {\n          status: 408,\n          message: \"Request timed out. Please try again later.\",\n        },\n      };\n    }\n\n    if (error instanceof SyntaxError) {\n      return { data: null, error: null };\n    }\n\n    if (error instanceof HTTPError) {\n      return {\n        data: null,\n        error: {\n          status: error.response.status,\n          message: error.message.replace(URL_DETAILS_REGEX, \"\"),\n        },\n      };\n    }\n\n    return {\n      data: null,\n      error: {\n        status: 500,\n        message: \"Internal server error.\",\n      },\n    };\n  }\n}\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;;AAEA,MAAM,MACJ,uCACI,0BACA;AAEN,MAAM,oBAAoB;AAEnB,eAAe,QACpB,QAAgB,EAChB,OAAoB;IAEpB,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,sKAAE,EAAI,GAAG,MAAM,UAAU,EAAE;YAChD,GAAG,OAAO;QACZ,GAAG,IAAI;QAEP,OAAO;YAAE,MAAM;YAAU,OAAO;QAAK;IACvC,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,4KAAY,EAAE;YACjC,OAAO;gBACL,MAAM;gBACN,OAAO;oBACL,QAAQ;oBACR,SAAS;gBACX;YACF;QACF;QAEA,IAAI,iBAAiB,aAAa;YAChC,OAAO;gBAAE,MAAM;gBAAM,OAAO;YAAK;QACnC;QAEA,IAAI,iBAAiB,sKAAS,EAAE;YAC9B,OAAO;gBACL,MAAM;gBACN,OAAO;oBACL,QAAQ,MAAM,QAAQ,CAAC,MAAM;oBAC7B,SAAS,MAAM,OAAO,CAAC,OAAO,CAAC,mBAAmB;gBACpD;YACF;QACF;QAEA,OAAO;YACL,MAAM;YACN,OAAO;gBACL,QAAQ;gBACR,SAAS;YACX;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/connection/lib/utils.ts"],"sourcesContent":["/**\n * Clean a slug, remove slash at the beginning and the end\n * @param slug - The slug to clean, example: \"/hello/world\" -> \"hello/world\"\n * @returns The cleaned slug\n */\nexport function cleanSlug(slug: string): string {\n  return slug.replace(/^\\/+|\\/+$/g, \"\");\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACM,SAAS,UAAU,IAAY;IACpC,OAAO,KAAK,OAAO,CAAC,cAAc;AACpC","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/connection/routes/contents.ts"],"sourcesContent":["import { fetcher } from \"@repo/connection/lib/fetcher\";\nimport type { FetchResult } from \"@repo/connection/lib/types\";\nimport { cleanSlug } from \"@repo/connection/lib/utils\";\nimport type { Content } from \"@repo/contents/_types/content\";\nimport type { Surah } from \"@repo/contents/_types/quran\";\n\nconst PREFIX = \"/contents\";\n\nexport const contents = {\n  getContents,\n  getContent,\n  getSurah,\n};\n\nasync function getContents({\n  slug,\n  withRaw = true,\n  ...base\n}: { slug: string; withRaw?: boolean } & RequestInit): Promise<\n  FetchResult<Content[]>\n> {\n  const url = `${PREFIX}/${cleanSlug(slug)}`;\n  const { data, error } = await fetcher<Content[]>(url, {\n    method: \"GET\",\n    ...base,\n  });\n\n  if (error) {\n    return {\n      data: [],\n      error,\n    };\n  }\n\n  if (!data) {\n    return {\n      data: [],\n      error: {\n        status: 404,\n        message: \"Contents not found\",\n      },\n    };\n  }\n\n  if (!withRaw) {\n    return {\n      data: data.map((item) => ({ ...item, raw: \"\" })),\n      error,\n    };\n  }\n\n  return {\n    data,\n    error,\n  };\n}\n\nasync function getContent({\n  slug,\n  ...base\n}: {\n  slug: string;\n} & RequestInit): Promise<FetchResult<Content | null>> {\n  const cleanedSlug = cleanSlug(slug);\n  const url = `${PREFIX}/${cleanedSlug}`;\n  const { data, error } = await fetcher<Content[]>(url, {\n    method: \"GET\",\n    ...base,\n  });\n\n  if (error) {\n    return {\n      data: null,\n      error,\n    };\n  }\n\n  const content = data?.find(\n    (c) => cleanSlug(`/${c.locale}/${c.slug}`) === cleanedSlug\n  );\n\n  if (!content) {\n    return {\n      data: null,\n      error: {\n        status: 404,\n        message: \"Content not found. Please find another content.\",\n      },\n    };\n  }\n\n  return {\n    data: content,\n    error,\n  };\n}\n\nasync function getSurah({\n  surah,\n  ...base\n}: {\n  surah: number;\n} & RequestInit): Promise<FetchResult<Surah | null>> {\n  const url = `${PREFIX}/quran/${surah}`;\n  const { data, error } = await fetcher<Surah>(url, {\n    method: \"GET\",\n    ...base,\n  });\n\n  if (error) {\n    return {\n      data: null,\n      error,\n    };\n  }\n\n  return {\n    data,\n    error,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAIA,MAAM,SAAS;AAER,MAAM,WAAW;IACtB;IACA;IACA;AACF;AAEA,eAAe,YAAY,EACzB,IAAI,EACJ,UAAU,IAAI,EACd,GAAG,MAC+C;IAGlD,MAAM,MAAM,GAAG,OAAO,CAAC,EAAE,IAAA,mJAAS,EAAC,OAAO;IAC1C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,mJAAO,EAAY,KAAK;QACpD,QAAQ;QACR,GAAG,IAAI;IACT;IAEA,IAAI,OAAO;QACT,OAAO;YACL,MAAM,EAAE;YACR;QACF;IACF;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;YACL,MAAM,EAAE;YACR,OAAO;gBACL,QAAQ;gBACR,SAAS;YACX;QACF;IACF;IAEA,IAAI,CAAC,SAAS;QACZ,OAAO;YACL,MAAM,KAAK,GAAG,CAAC,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,KAAK;gBAAG,CAAC;YAC9C;QACF;IACF;IAEA,OAAO;QACL;QACA;IACF;AACF;AAEA,eAAe,WAAW,EACxB,IAAI,EACJ,GAAG,MAGU;IACb,MAAM,cAAc,IAAA,mJAAS,EAAC;IAC9B,MAAM,MAAM,GAAG,OAAO,CAAC,EAAE,aAAa;IACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,mJAAO,EAAY,KAAK;QACpD,QAAQ;QACR,GAAG,IAAI;IACT;IAEA,IAAI,OAAO;QACT,OAAO;YACL,MAAM;YACN;QACF;IACF;IAEA,MAAM,UAAU,MAAM,KACpB,CAAC,IAAM,IAAA,mJAAS,EAAC,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM;IAGjD,IAAI,CAAC,SAAS;QACZ,OAAO;YACL,MAAM;YACN,OAAO;gBACL,QAAQ;gBACR,SAAS;YACX;QACF;IACF;IAEA,OAAO;QACL,MAAM;QACN;IACF;AACF;AAEA,eAAe,SAAS,EACtB,KAAK,EACL,GAAG,MAGU;IACb,MAAM,MAAM,GAAG,OAAO,OAAO,EAAE,OAAO;IACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,IAAA,mJAAO,EAAQ,KAAK;QAChD,QAAQ;QACR,GAAG,IAAI;IACT;IAEA,IAAI,OAAO;QACT,OAAO;YACL,MAAM;YACN;QACF;IACF;IAEA,OAAO;QACL;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/connection/routes/index.ts"],"sourcesContent":["import { contents } from \"@repo/connection/routes/contents\";\n\nexport const api = {\n  contents: {\n    ...contents,\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM;IACjB,UAAU;QACR,GAAG,wJAAQ;IACb;AACF","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/apps/www/lib/utils/github.ts"],"sourcesContent":["const GITHUB_URL = \"/nakafaai/nakafa.com\";\n\nexport function getGithubUrl({\n  path,\n  ref = \"/tree/main\",\n}: {\n  path: string;\n  ref?: string;\n}) {\n  return `https://github.com${GITHUB_URL}${ref}${path}` as const;\n}\n\nexport function getRawGithubUrl(path: string) {\n  const cleanPath = path.startsWith(\"/\") ? path : `/${path}`;\n  return `https://raw.githubusercontent.com${GITHUB_URL}/refs/heads/main${cleanPath}` as const;\n}\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,aAAa;AAEZ,SAAS,aAAa,EAC3B,IAAI,EACJ,MAAM,YAAY,EAInB;IACC,OAAO,CAAC,kBAAkB,EAAE,aAAa,MAAM,MAAM;AACvD;AAEO,SAAS,gBAAgB,IAAY;IAC1C,MAAM,YAAY,KAAK,UAAU,CAAC,OAAO,OAAO,CAAC,CAAC,EAAE,MAAM;IAC1D,OAAO,CAAC,iCAAiC,EAAE,WAAW,gBAAgB,EAAE,WAAW;AACrF","debugId":null}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/apps/www/components/shared/open-content.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  SiClaude,\n  SiGithub,\n  SiGooglegemini,\n  SiOpenai,\n} from \"@icons-pack/react-simple-icons\";\nimport { api } from \"@repo/connection/routes\";\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@repo/design-system/components/ui/dropdown-menu\";\nimport { SpinnerIcon } from \"@repo/design-system/components/ui/icons\";\nimport { cn } from \"@repo/design-system/lib/utils\";\nimport { Link } from \"@repo/internationalization/src/navigation\";\nimport {\n  ChevronDownIcon,\n  CopyIcon,\n  ExternalLinkIcon,\n  MessageCircleIcon,\n  SparklesIcon,\n} from \"lucide-react\";\nimport { useTranslations } from \"next-intl\";\nimport { useState, useTransition } from \"react\";\nimport { toast } from \"sonner\";\nimport { useAi } from \"@/lib/context/use-ai\";\nimport { getGithubUrl } from \"@/lib/utils/github\";\n\nexport function OpenContent({ slug }: { slug: string }) {\n  return (\n    <div className=\"inline-flex divide-x divide-secondary-foreground/10 rounded-md shadow-xs rtl:space-x-reverse\">\n      <LLmCopyButton slug={slug} />\n      <ViewOptions slug={slug} />\n    </div>\n  );\n}\n\nexport function AskAiButton() {\n  const setOpen = useAi((state) => state.setOpen);\n  const t = useTranslations(\"Ai\");\n\n  return (\n    <Button onClick={() => setOpen(true)}>\n      <SparklesIcon />\n      {t(\"ask-nina\")}\n    </Button>\n  );\n}\n\nfunction LLmCopyButton({ slug }: { slug: string }) {\n  const t = useTranslations(\"Common\");\n  const [isPending, startTransition] = useTransition();\n\n  const handleCopy = () => {\n    startTransition(async () => {\n      const { data, error } = await api.contents.getContent({\n        slug,\n      });\n\n      if (error) {\n        toast.error(error.message, {\n          position: \"bottom-center\",\n        });\n        return;\n      }\n\n      if (!data) {\n        toast.error(t(\"copy-error\"), {\n          position: \"bottom-center\",\n        });\n        return;\n      }\n\n      navigator.clipboard\n        .writeText(data.raw)\n        .then(() => {\n          toast.success(t(\"copy-success\"), {\n            position: \"bottom-center\",\n          });\n        })\n        .catch((e) => {\n          toast.error(e.message, {\n            position: \"bottom-center\",\n          });\n        });\n    });\n  };\n\n  return (\n    <Button\n      className=\"rounded-none shadow-none first:rounded-s-md last:rounded-e-md focus-visible:z-10\"\n      disabled={isPending}\n      onClick={handleCopy}\n      variant=\"secondary\"\n    >\n      {isPending ? (\n        <SpinnerIcon className=\"size-4\" />\n      ) : (\n        <CopyIcon className=\"size-4\" />\n      )}\n      {t(\"copy-content\")}\n    </Button>\n  );\n}\n\nfunction ViewOptions({ slug }: { slug: string }) {\n  const t = useTranslations(\"Common\");\n\n  const locale = slug.split(\"/\")[1];\n  const path = `/${slug.split(\"/\").slice(2).join(\"/\")}`;\n\n  const markdownUrl = new URL(`${slug}.mdx`, \"https://nakafa.com\");\n  const q = `Iâ€™m looking at this ${markdownUrl}, help me understand. Explain to me what is this about.`;\n\n  const claude = `https://claude.ai/new?${new URLSearchParams({\n    q,\n  })}`;\n  const gpt = `https://chatgpt.com/?${new URLSearchParams({\n    hints: \"search\",\n    q,\n  })}`;\n  const gemini = `https://gemini.google.com/app?${new URLSearchParams({\n    q,\n  })}`;\n  const t3 = `https://t3.chat/new?${new URLSearchParams({\n    q,\n  })}`;\n\n  const githubUrl = getGithubUrl({\n    path: `/packages/contents${path}/${locale}.mdx`,\n  });\n\n  const [open, setOpen] = useState(false);\n\n  return (\n    <DropdownMenu onOpenChange={setOpen} open={open}>\n      <DropdownMenuTrigger asChild>\n        <Button\n          className=\"rounded-none shadow-none first:rounded-s-md last:rounded-e-md focus-visible:z-10\"\n          size=\"icon\"\n          variant=\"secondary\"\n        >\n          <span className=\"sr-only\">{t(\"open\")}</span>\n          <ChevronDownIcon\n            className={cn(\"size-4 transition-transform\", open && \"rotate-180\")}\n          />\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent className=\"w-56\">\n        {[\n          {\n            title: t(\"open-in-github\"),\n            href: githubUrl,\n            icon: <SiGithub />,\n          },\n          {\n            title: t(\"open-in-chatgpt\"),\n            href: gpt,\n            icon: <SiOpenai />,\n          },\n          {\n            title: t(\"open-in-gemini\"),\n            href: gemini,\n            icon: <SiGooglegemini />,\n          },\n          {\n            title: t(\"open-in-claude\"),\n            href: claude,\n            icon: <SiClaude />,\n          },\n          {\n            title: t(\"open-in-t3-chat\"),\n            href: t3,\n            icon: <MessageCircleIcon />,\n          },\n        ].map((item) => (\n          <DropdownMenuItem asChild className=\"cursor-pointer\" key={item.title}>\n            <Link href={item.href} target=\"_blank\">\n              {item.icon}\n              {item.title}\n\n              <ExternalLinkIcon className=\"ms-auto size-3.5\" />\n            </Link>\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/ui/card.tsx"],"sourcesContent":["import { cn } from \"@repo/design-system/lib/utils\";\nimport type * as React from \"react\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\n        \"flex flex-col gap-6 rounded-xl border bg-card py-6 text-card-foreground shadow-sm\",\n        className\n      )}\n      data-slot=\"card\"\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      data-slot=\"card-header\"\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\"font-semibold leading-tight\", className)}\n      data-slot=\"card-title\"\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      data-slot=\"card-description\"\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      data-slot=\"card-action\"\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\"px-6\", className)}\n      data-slot=\"card-content\"\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      data-slot=\"card-footer\"\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;AAGA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EACX,qFACA;QAEF,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EACX,8JACA;QAEF,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EAAC,+BAA+B;QAC7C,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EAAC,iCAAiC;QAC/C,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EACX,kEACA;QAEF,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EAAC,QAAQ;QACtB,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,WAAW,IAAA,kJAAE,EAAC,2CAA2C;QACzD,aAAU;QACT,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/apps/www/components/shared/ref-content.tsx"],"sourcesContent":["\"use client\";\n\nimport { SiDiscord, SiGithub, SiYoutube } from \"@icons-pack/react-simple-icons\";\nimport type { Reference } from \"@repo/contents/_types/content\";\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport { ScrollArea } from \"@repo/design-system/components/ui/scroll-area\";\nimport { Separator } from \"@repo/design-system/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@repo/design-system/components/ui/sheet\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@repo/design-system/components/ui/tooltip\";\nimport { cleanupUrl, cn, formatUrl } from \"@repo/design-system/lib/utils\";\nimport {\n  BookIcon,\n  BookOpenIcon,\n  CalendarIcon,\n  GlobeIcon,\n  LayersIcon,\n  PencilIcon,\n} from \"lucide-react\";\nimport { useTranslations } from \"next-intl\";\nimport { useState } from \"react\";\n\ntype Props = {\n  /** The URL of the GitHub repository. */\n  githubUrl?: string;\n  /** The title of the references (sheet title) */\n  title?: string;\n  /** The references to display (sheet content) */\n  references?: Reference[];\n  /** The className of the references. */\n  className?: string;\n};\n\nexport function RefContent({ title, references, githubUrl, className }: Props) {\n  const t = useTranslations(\"Common\");\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const showSheet = references && title;\n\n  return (\n    <>\n      <div className={cn(\"space-y-4\", className)}>\n        <h2\n          className=\"scroll-mt-28 font-medium text-2xl leading-tight tracking-tight\"\n          id={t(\"references\")}\n        >\n          {t(\"references\")}\n        </h2>\n\n        <div className=\"flex flex-wrap items-center gap-2\">\n          {showSheet && (\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  aria-label={t(\"bibliography\")}\n                  onClick={() => setOpen(!open)}\n                  size=\"icon\"\n                  variant=\"outline\"\n                >\n                  <span className=\"sr-only\">{t(\"bibliography\")}</span>\n                  <LayersIcon className=\"size-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent side=\"bottom\">\n                <p>{t(\"bibliography\")}</p>\n              </TooltipContent>\n            </Tooltip>\n          )}\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                aria-label={t(\"source-code\")}\n                asChild\n                size=\"icon\"\n                variant=\"outline\"\n              >\n                <a\n                  href={githubUrl ?? \"https://github.com/nakafaai/nakafa.com\"}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                  title={t(\"source-code\")}\n                >\n                  <span className=\"sr-only\">{t(\"source-code\")}</span>\n                  <SiGithub className=\"size-4\" />\n                </a>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"bottom\">\n              <p>{t(\"source-code\")}</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button asChild size=\"icon\" variant=\"outline\">\n                <a\n                  href=\"https://www.youtube.com/@nakafaa\"\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                  title={t(\"videos\")}\n                >\n                  <span className=\"sr-only\">{t(\"videos\")}</span>\n                  <SiYoutube className=\"size-4\" />\n                </a>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"bottom\">\n              <p>{t(\"videos\")}</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button asChild size=\"icon\" variant=\"outline\">\n                <a\n                  href=\"https://discord.gg/CPCSfKhvfQ\"\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                  title={t(\"community\")}\n                >\n                  <span className=\"sr-only\">{t(\"community\")}</span>\n                  <SiDiscord className=\"size-4\" />\n                </a>\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent side=\"bottom\">\n              <p>{t(\"community\")}</p>\n            </TooltipContent>\n          </Tooltip>\n        </div>\n      </div>\n\n      {showSheet && (\n        <Sheet modal={false} onOpenChange={setOpen} open={open}>\n          <SheetContent className=\"w-6/7 sm:max-w-xl\">\n            <div className=\"flex h-full flex-col\">\n              <SheetHeader>\n                <SheetTitle className=\"text-2xl\">\n                  {references.length} {t(\"references\")}\n                </SheetTitle>\n                <SheetDescription>{title}</SheetDescription>\n              </SheetHeader>\n\n              <Separator />\n\n              <div className=\"flex flex-1 flex-col overflow-hidden\">\n                <ScrollArea className=\"h-full px-4\">\n                  <div className=\"flex flex-col gap-4 py-4\">\n                    {references.map((reference) => {\n                      const url = reference.url\n                        ? formatUrl(reference.url)\n                        : t(\"no-website\");\n                      const cleanUrl = cleanupUrl(url).split(\"/\")[0];\n\n                      return (\n                        <Card key={reference.title}>\n                          <CardHeader>\n                            <CardTitle\n                              className=\"line-clamp-1 capitalize\"\n                              title={reference.title}\n                            >\n                              {reference.title.toLowerCase()}\n                            </CardTitle>\n                            <CardDescription className=\"flex items-center gap-1\">\n                              <GlobeIcon className=\"size-4 shrink-0\" />\n                              {reference.url ? (\n                                <a\n                                  className=\"underline-offset-4 hover:underline\"\n                                  href={reference.url}\n                                  rel=\"noopener noreferrer\"\n                                  target=\"_blank\"\n                                >\n                                  {cleanUrl}\n                                </a>\n                              ) : (\n                                <span>{t(\"no-website\")}</span>\n                              )}\n                            </CardDescription>\n                          </CardHeader>\n\n                          <CardContent className=\"space-y-2\">\n                            <div className=\"flex items-center gap-1\">\n                              <PencilIcon className=\"size-4 shrink-0\" />\n                              <span className=\"line-clamp-1 text-sm\">\n                                {reference.authors}\n                              </span>\n                            </div>\n\n                            <div className=\"flex items-center gap-1\">\n                              <CalendarIcon className=\"size-4 shrink-0\" />\n                              <span className=\"text-sm\">{reference.year}</span>\n                            </div>\n\n                            {reference.publication && (\n                              <div className=\"flex items-center gap-1\">\n                                <BookOpenIcon className=\"size-4 shrink-0\" />\n                                <span className=\"line-clamp-1 text-sm\">\n                                  {reference.publication}\n                                </span>\n                              </div>\n                            )}\n\n                            {reference.details && (\n                              <div className=\"flex items-center gap-1\">\n                                <BookIcon className=\"size-4 shrink-0\" />\n                                <span className=\"text-sm\">\n                                  {reference.details}\n                                </span>\n                              </div>\n                            )}\n                          </CardContent>\n                        </Card>\n                      );\n                    })}\n                  </div>\n                </ScrollArea>\n              </div>\n            </div>\n          </SheetContent>\n        </Sheet>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1179, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/code-block/index.tsx"],"sourcesContent":["\"use client\";\n\nimport { type IconType, SiGnometerminal } from \"@icons-pack/react-simple-icons\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectTrigger,\n  SelectValue,\n} from \"@repo/design-system/components/ui/select\";\nimport { filenameIconMap } from \"@repo/design-system/lib/programming\";\nimport { cn } from \"@repo/design-system/lib/utils\";\nimport {\n  transformerNotationDiff,\n  transformerNotationErrorLevel,\n  transformerNotationFocus,\n  transformerNotationHighlight,\n  transformerNotationWordHighlight,\n} from \"@shikijs/transformers\";\nimport { CheckIcon, CopyIcon } from \"lucide-react\";\nimport { useTranslations } from \"next-intl\";\nimport type {\n  ComponentProps,\n  HTMLAttributes,\n  ReactElement,\n  ReactNode,\n} from \"react\";\nimport { cloneElement, useEffect, useState } from \"react\";\nimport {\n  type BundledLanguage,\n  type CodeOptionsMultipleThemes,\n  codeToHtml,\n} from \"shiki\";\nimport { createContext, useContextSelector } from \"use-context-selector\";\n\nexport type { BundledLanguage } from \"shiki\";\n\nconst lineNumberClassNames = cn(\n  \"[&_code]:[counter-reset:line]\",\n  \"[&_code]:[counter-increment:line_0]\",\n  \"[&_.line]:before:content-[counter(line)]\",\n  \"[&_.line]:before:inline-block\",\n  \"[&_.line]:before:[counter-increment:line]\",\n  \"[&_.line]:before:w-4\",\n  \"[&_.line]:before:mr-4\",\n  \"[&_.line]:before:text-[13px]\",\n  \"[&_.line]:before:text-right\",\n  \"[&_.line]:before:text-muted-foreground/50\",\n  \"[&_.line]:before:font-mono\",\n  \"[&_.line]:before:select-none\"\n);\n\nconst darkModeClassNames = cn(\n  \"dark:[&_.shiki]:!text-[var(--shiki-dark)]\",\n  \"dark:[&_.shiki]:![font-style:var(--shiki-dark-font-style)]\",\n  \"dark:[&_.shiki]:![font-weight:var(--shiki-dark-font-weight)]\",\n  \"dark:[&_.shiki]:![text-decoration:var(--shiki-dark-text-decoration)]\",\n  \"dark:[&_.shiki_span]:!text-[var(--shiki-dark)]\",\n  \"dark:[&_.shiki_span]:![font-style:var(--shiki-dark-font-style)]\",\n  \"dark:[&_.shiki_span]:![font-weight:var(--shiki-dark-font-weight)]\",\n  \"dark:[&_.shiki_span]:![text-decoration:var(--shiki-dark-text-decoration)]\"\n);\n\nconst lineHighlightClassNames = cn(\n  \"[&_.line.highlighted]:bg-blue-50\",\n  \"[&_.line.highlighted]:after:bg-blue-500\",\n  \"[&_.line.highlighted]:after:absolute\",\n  \"[&_.line.highlighted]:after:left-0\",\n  \"[&_.line.highlighted]:after:top-0\",\n  \"[&_.line.highlighted]:after:bottom-0\",\n  \"[&_.line.highlighted]:after:w-0.5\",\n  \"dark:[&_.line.highlighted]:!bg-blue-500/10\"\n);\n\nconst lineDiffClassNames = cn(\n  \"[&_.line.diff]:after:absolute\",\n  \"[&_.line.diff]:after:left-0\",\n  \"[&_.line.diff]:after:top-0\",\n  \"[&_.line.diff]:after:bottom-0\",\n  \"[&_.line.diff]:after:w-0.5\",\n  \"[&_.line.diff.add]:bg-emerald-50\",\n  \"[&_.line.diff.add]:after:bg-emerald-500\",\n  \"[&_.line.diff.remove]:bg-rose-50\",\n  \"[&_.line.diff.remove]:after:bg-rose-500\",\n  \"dark:[&_.line.diff.add]:!bg-emerald-500/10\",\n  \"dark:[&_.line.diff.remove]:!bg-rose-500/10\"\n);\n\nconst lineFocusedClassNames = cn(\n  \"[&_code:has(.focused)_.line]:blur-[2px]\",\n  \"[&_code:has(.focused)_.line.focused]:blur-none\"\n);\n\nconst wordHighlightClassNames = cn(\n  \"[&_.highlighted-word]:bg-blue-50\",\n  \"dark:[&_.highlighted-word]:!bg-blue-500/10\"\n);\n\nconst codeBlockClassName = cn(\n  \"mt-0 bg-muted/40 text-sm\",\n  \"[&_pre]:py-4\",\n  \"[&_pre]:overflow-x-auto\",\n  \"[&_.shiki]:!bg-[var(--shiki-bg)]\",\n  \"[&_code]:w-full\",\n  \"[&_code]:grid\",\n  \"[&_code]:bg-transparent\",\n  \"[&_.line]:px-4\",\n  \"[&_.line]:w-full\",\n  \"[&_.line]:relative\"\n);\n\nconst highlight = (\n  html: string,\n  language?: BundledLanguage,\n  themes?: CodeOptionsMultipleThemes[\"themes\"]\n) =>\n  codeToHtml(html, {\n    lang: language ?? \"typescript\",\n    themes: themes ?? {\n      light: \"github-light\",\n      dark: \"github-dark-default\",\n    },\n    transformers: [\n      transformerNotationDiff({\n        matchAlgorithm: \"v3\",\n      }),\n      transformerNotationHighlight({\n        matchAlgorithm: \"v3\",\n      }),\n      transformerNotationWordHighlight({\n        matchAlgorithm: \"v3\",\n      }),\n      transformerNotationFocus({\n        matchAlgorithm: \"v3\",\n      }),\n      transformerNotationErrorLevel({\n        matchAlgorithm: \"v3\",\n      }),\n    ],\n  });\n\nexport type CodeBlockData = {\n  language: string;\n  filename: string;\n  code: string;\n};\n\ntype CodeBlockContextType = {\n  value: string | undefined;\n  onValueChange: ((value: string) => void) | undefined;\n  data: CodeBlockData[];\n};\n\nconst CodeBlockContext = createContext<CodeBlockContextType>({\n  value: undefined,\n  onValueChange: undefined,\n  data: [],\n});\n\nfunction useCodeBlock<T>(selector: (state: CodeBlockContextType) => T): T {\n  const ctx = useContextSelector(CodeBlockContext, (context) => context);\n  if (!ctx) {\n    throw new Error(\"CodeBlock components must be used within CodeBlock\");\n  }\n  return selector(ctx);\n}\n\nexport type CodeBlockProps = HTMLAttributes<HTMLDivElement> & {\n  defaultValue?: string;\n  value?: string;\n  onValueChange?: (value: string) => void;\n  data: CodeBlockData[];\n};\n\nexport const CodeBlock = ({\n  value: controlledValue,\n  onValueChange: controlledOnValueChange,\n  defaultValue,\n  className,\n  data,\n  ...props\n}: CodeBlockProps) => {\n  const [value, onValueChange] = useControllableState({\n    defaultProp: defaultValue ?? \"\",\n    prop: controlledValue,\n    onChange: controlledOnValueChange,\n  });\n\n  return (\n    <CodeBlockContext.Provider value={{ value, onValueChange, data }}>\n      <div\n        className={cn(\n          \"grid size-full grid-cols-1 overflow-hidden rounded-xl border shadow-sm\",\n          className\n        )}\n        {...props}\n      />\n    </CodeBlockContext.Provider>\n  );\n};\n\nexport type CodeBlockHeaderProps = HTMLAttributes<HTMLDivElement>;\n\nexport const CodeBlockHeader = ({\n  className,\n  ...props\n}: CodeBlockHeaderProps) => (\n  <div\n    className={cn(\n      \"flex flex-row items-center border-b bg-muted/80 p-1\",\n      className\n    )}\n    {...props}\n  />\n);\n\nexport type CodeBlockFilesProps = Omit<\n  HTMLAttributes<HTMLDivElement>,\n  \"children\"\n> & {\n  children: (item: CodeBlockData) => ReactNode;\n};\n\nexport const CodeBlockFiles = ({\n  className,\n  children,\n  ...props\n}: CodeBlockFilesProps) => {\n  const data = useCodeBlock((state) => state.data);\n\n  return (\n    <div\n      className={cn(\"flex min-w-0 grow flex-row items-center gap-2\", className)}\n      {...props}\n    >\n      {data.map(children)}\n    </div>\n  );\n};\n\nexport type CodeBlockFilenameProps = HTMLAttributes<HTMLDivElement> & {\n  icon?: IconType;\n  value?: string;\n};\n\nexport const CodeBlockFilename = ({\n  className,\n  icon,\n  value,\n  children,\n  ...props\n}: CodeBlockFilenameProps) => {\n  const activeValue = useCodeBlock((state) => state.value);\n  const defaultIcon = Object.entries(filenameIconMap).find(([pattern]) => {\n    const regex = new RegExp(\n      `^${pattern.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\./g, \"\\\\.\").replace(/\\*/g, \".*\")}$`\n    );\n    return regex.test(children?.toString() ?? \"\");\n  })?.[1];\n  const Icon = icon ?? defaultIcon ?? SiGnometerminal;\n\n  if (value !== activeValue) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"flex min-w-0 items-center gap-2 px-4 py-1.5 text-muted-foreground text-sm\"\n      {...props}\n    >\n      {Icon && <Icon className=\"size-4 shrink-0\" />}\n      <span className=\"min-w-0 flex-1 truncate\">{children}</span>\n    </div>\n  );\n};\n\nexport type CodeBlockSelectProps = ComponentProps<typeof Select>;\n\nexport const CodeBlockSelect = (props: CodeBlockSelectProps) => {\n  const { value, onValueChange } = useCodeBlock((state) => ({\n    value: state.value,\n    onValueChange: state.onValueChange,\n  }));\n\n  return <Select onValueChange={onValueChange} value={value} {...props} />;\n};\n\nexport type CodeBlockSelectTriggerProps = ComponentProps<typeof SelectTrigger>;\n\nexport const CodeBlockSelectTrigger = ({\n  className,\n  ...props\n}: CodeBlockSelectTriggerProps) => (\n  <SelectTrigger\n    className={cn(\n      \"w-fit border-none text-muted-foreground text-sm shadow-none\",\n      className\n    )}\n    size=\"sm\"\n    {...props}\n  />\n);\n\nexport type CodeBlockSelectValueProps = ComponentProps<typeof SelectValue>;\n\nexport const CodeBlockSelectValue = (props: CodeBlockSelectValueProps) => (\n  <SelectValue {...props} />\n);\n\nexport type CodeBlockSelectContentProps = Omit<\n  ComponentProps<typeof SelectContent>,\n  \"children\"\n> & {\n  children: (item: CodeBlockData) => ReactNode;\n};\n\nexport const CodeBlockSelectContent = ({\n  children,\n  ...props\n}: CodeBlockSelectContentProps) => {\n  const t = useTranslations(\"Common\");\n  const data = useCodeBlock((state) => state.data);\n\n  return (\n    <SelectContent {...props}>\n      <SelectGroup>\n        <SelectLabel>{t(\"language\")}</SelectLabel>\n        {data.map(children)}\n      </SelectGroup>\n    </SelectContent>\n  );\n};\n\nexport type CodeBlockSelectItemProps = ComponentProps<typeof SelectItem>;\n\nexport const CodeBlockSelectItem = ({\n  className,\n  ...props\n}: CodeBlockSelectItemProps) => (\n  <SelectItem className={cn(\"text-sm\", className)} {...props} />\n);\n\nexport type CodeBlockCopyButtonProps = ComponentProps<typeof Button> & {\n  onCopy?: () => void;\n  onError?: (error: Error) => void;\n  timeout?: number;\n};\n\nexport const CodeBlockCopyButton = ({\n  asChild,\n  onCopy,\n  onError,\n  timeout = 2000,\n  children,\n  className,\n  ...props\n}: CodeBlockCopyButtonProps) => {\n  const [isCopied, setIsCopied] = useState(false);\n  const { data, value } = useCodeBlock((state) => ({\n    data: state.data,\n    value: state.value,\n  }));\n  const code = data.find((item) => item.language === value)?.code;\n\n  const copyToClipboard = () => {\n    if (\n      typeof window === \"undefined\" ||\n      !navigator.clipboard.writeText ||\n      !code\n    ) {\n      return;\n    }\n\n    navigator.clipboard.writeText(code).then(() => {\n      setIsCopied(true);\n      onCopy?.();\n\n      setTimeout(() => setIsCopied(false), timeout);\n    }, onError);\n  };\n\n  if (asChild) {\n    return cloneElement(children as ReactElement, {\n      // @ts-expect-error - we know this is a button\n      onClick: copyToClipboard,\n    });\n  }\n\n  const Icon = isCopied ? CheckIcon : CopyIcon;\n\n  return (\n    <Button\n      className={cn(\"shrink-0\", className)}\n      onClick={copyToClipboard}\n      size=\"icon\"\n      variant=\"ghost\"\n      {...props}\n    >\n      {children ?? <Icon className=\"text-muted-foreground\" size={14} />}\n    </Button>\n  );\n};\n\ntype CodeBlockFallbackProps = HTMLAttributes<HTMLDivElement>;\n\nconst CodeBlockFallback = ({ children, ...props }: CodeBlockFallbackProps) => (\n  <div {...props}>\n    <pre className=\"w-full\">\n      <code>\n        {children\n          ?.toString()\n          .split(\"\\n\")\n          .map((line, i) => (\n            <span className=\"line\" key={`${i}-${line}`}>\n              {line}\n            </span>\n          ))}\n      </code>\n    </pre>\n  </div>\n);\n\nexport type CodeBlockBodyProps = Omit<\n  HTMLAttributes<HTMLDivElement>,\n  \"children\"\n> & {\n  children: (item: CodeBlockData) => ReactNode;\n};\n\nexport const CodeBlockBody = ({ children, ...props }: CodeBlockBodyProps) => {\n  const data = useCodeBlock((state) => state.data);\n\n  return <div {...props}>{data.map(children)}</div>;\n};\n\nexport type CodeBlockItemProps = HTMLAttributes<HTMLDivElement> & {\n  value: string;\n  lineNumbers?: boolean;\n};\n\nexport const CodeBlockItem = ({\n  children,\n  lineNumbers = true,\n  className,\n  value,\n  ...props\n}: CodeBlockItemProps) => {\n  const activeValue = useCodeBlock((state) => state.value);\n\n  if (value !== activeValue) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn(\n        codeBlockClassName,\n        lineHighlightClassNames,\n        lineDiffClassNames,\n        lineFocusedClassNames,\n        wordHighlightClassNames,\n        darkModeClassNames,\n        lineNumbers && lineNumberClassNames,\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport type CodeBlockContentProps = HTMLAttributes<HTMLDivElement> & {\n  themes?: CodeOptionsMultipleThemes[\"themes\"];\n  language?: BundledLanguage;\n  syntaxHighlighting?: boolean;\n  children: string;\n};\n\nexport const CodeBlockContent = ({\n  children,\n  themes,\n  language,\n  syntaxHighlighting = true,\n  ...props\n}: CodeBlockContentProps) => {\n  const [html, setHtml] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!syntaxHighlighting) {\n      return;\n    }\n\n    highlight(children, language, themes)\n      .then(setHtml)\n      // biome-ignore lint/suspicious/noConsole: \"it's fine\"\n      .catch(console.error);\n  }, [children, themes, syntaxHighlighting, language]);\n\n  if (!(syntaxHighlighting && html)) {\n    return <CodeBlockFallback>{children}</CodeBlockFallback>;\n  }\n\n  return (\n    <div\n      // biome-ignore lint/security/noDangerouslySetInnerHtml: \"Kinda how Shiki works\"\n      dangerouslySetInnerHTML={{ __html: html }}\n      {...props}\n    />\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1567, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/markdown/code-block.tsx"],"sourcesContent":["\"use client\";\n\nimport type {\n  BundledLanguage,\n  CodeBlockData,\n} from \"@repo/design-system/components/code-block\";\nimport {\n  CodeBlock,\n  CodeBlockBody,\n  CodeBlockContent,\n  CodeBlockCopyButton,\n  CodeBlockFilename,\n  CodeBlockFiles,\n  CodeBlockHeader,\n  CodeBlockItem,\n  CodeBlockSelect,\n  CodeBlockSelectContent,\n  CodeBlockSelectItem,\n  CodeBlockSelectTrigger,\n  CodeBlockSelectValue,\n} from \"@repo/design-system/components/code-block\";\n\nexport function CodeBlockMdx({ data }: { data: CodeBlockData[] }) {\n  return (\n    <CodeBlock className=\"my-4\" data={data} defaultValue={data[0].language}>\n      <CodeBlockHeader>\n        <CodeBlockFiles>\n          {(item) => (\n            <CodeBlockFilename key={item.language} value={item.language}>\n              {item.filename}\n            </CodeBlockFilename>\n          )}\n        </CodeBlockFiles>\n        <CodeBlockSelect>\n          <CodeBlockSelectTrigger>\n            <CodeBlockSelectValue />\n          </CodeBlockSelectTrigger>\n          <CodeBlockSelectContent align=\"end\">\n            {(item) => (\n              <CodeBlockSelectItem key={item.language} value={item.language}>\n                {item.language}\n              </CodeBlockSelectItem>\n            )}\n          </CodeBlockSelectContent>\n        </CodeBlockSelect>\n        <CodeBlockCopyButton />\n      </CodeBlockHeader>\n      <CodeBlockBody>\n        {(item) => (\n          <CodeBlockItem key={item.language} value={item.language}>\n            <CodeBlockContent language={item.language as BundledLanguage}>\n              {item.code}\n            </CodeBlockContent>\n          </CodeBlockItem>\n        )}\n      </CodeBlockBody>\n    </CodeBlock>\n  );\n}\n"],"names":[],"mappings":";;;;;AAMA;;;;;AANA;;;AAsBO,SAAS,aAAa,EAAE,IAAI,EAA6B;IAC9D,qBACE,8OAAC,kLAAS;QAAC,WAAU;QAAO,MAAM;QAAM,cAAc,IAAI,CAAC,EAAE,CAAC,QAAQ;;0BACpE,8OAAC,wLAAe;;kCACd,8OAAC,uLAAc;kCACZ,CAAC,qBACA,8OAAC,0LAAiB;gCAAqB,OAAO,KAAK,QAAQ;0CACxD,KAAK,QAAQ;+BADQ,KAAK,QAAQ;;;;;;;;;;kCAKzC,8OAAC,wLAAe;;0CACd,8OAAC,+LAAsB;0CACrB,cAAA,8OAAC,6LAAoB;;;;;;;;;;0CAEvB,8OAAC,+LAAsB;gCAAC,OAAM;0CAC3B,CAAC,qBACA,8OAAC,4LAAmB;wCAAqB,OAAO,KAAK,QAAQ;kDAC1D,KAAK,QAAQ;uCADU,KAAK,QAAQ;;;;;;;;;;;;;;;;kCAM7C,8OAAC,4LAAmB;;;;;;;;;;;0BAEtB,8OAAC,sLAAa;0BACX,CAAC,qBACA,8OAAC,sLAAa;wBAAqB,OAAO,KAAK,QAAQ;kCACrD,cAAA,8OAAC,yLAAgB;4BAAC,UAAU,KAAK,QAAQ;sCACtC,KAAK,IAAI;;;;;;uBAFM,KAAK,QAAQ;;;;;;;;;;;;;;;;AAS3C","debugId":null}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/ui/chart.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@repo/design-system/lib/utils\";\nimport { createContext, useContext, useId, useMemo } from \"react\";\nimport {\n  Legend,\n  type LegendProps,\n  ResponsiveContainer,\n  Tooltip,\n} from \"recharts\";\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const;\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode;\n    icon?: React.ComponentType;\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  );\n};\n\ntype ChartContextProps = {\n  config: ChartConfig;\n};\n\nconst ChartContext = createContext<ChartContextProps | null>(null);\n\nfunction useChart() {\n  const context = useContext(ChartContext);\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\");\n  }\n\n  return context;\n}\n\nfunction ChartContainer({\n  id,\n  className,\n  children,\n  config,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  config: ChartConfig;\n  children: React.ComponentProps<typeof ResponsiveContainer>[\"children\"];\n}) {\n  const uniqueId = useId();\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`;\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        className={cn(\n          \"flex aspect-square justify-center text-xs sm:aspect-video [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-hidden [&_.recharts-surface]:outline-hidden\",\n          className\n        )}\n        data-chart={chartId}\n        data-slot=\"chart\"\n        {...props}\n      >\n        <ChartStyle config={config} id={chartId} />\n        <ResponsiveContainer>{children}</ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  );\n}\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, itemConfig]) => itemConfig.theme || itemConfig.color\n  );\n\n  if (!colorConfig.length) {\n    return null;\n  }\n\n  const styleContent = Object.entries(THEMES)\n    .map(\n      ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color;\n    return color ? `  --color-${key}: ${color};` : null;\n  })\n  .filter(Boolean)\n  .join(\"\\n\")}\n}\n`\n    )\n    .join(\"\\n\");\n\n  return <style>{styleContent}</style>;\n};\n\nconst ChartTooltip = Tooltip;\n\nfunction ChartTooltipContent({\n  active,\n  payload,\n  className,\n  indicator = \"dot\",\n  hideLabel = false,\n  hideIndicator = false,\n  label,\n  labelFormatter,\n  labelClassName,\n  formatter,\n  color,\n  nameKey,\n  labelKey,\n}: React.ComponentProps<typeof Tooltip> &\n  React.ComponentProps<\"div\"> & {\n    hideLabel?: boolean;\n    hideIndicator?: boolean;\n    indicator?: \"line\" | \"dot\" | \"dashed\";\n    nameKey?: string;\n    labelKey?: string;\n  }) {\n  const { config } = useChart();\n\n  const tooltipLabel = useMemo(() => {\n    if (hideLabel || !payload?.length) {\n      return null;\n    }\n\n    const [item] = payload;\n    const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`;\n    const itemConfig = getPayloadConfigFromPayload(config, item, key);\n    const value =\n      !labelKey && typeof label === \"string\"\n        ? config[label as keyof typeof config]?.label || label\n        : itemConfig?.label;\n\n    if (labelFormatter) {\n      return (\n        <div className={cn(\"font-medium\", labelClassName)}>\n          {labelFormatter(value, payload)}\n        </div>\n      );\n    }\n\n    if (!value) {\n      return null;\n    }\n\n    return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>;\n  }, [\n    label,\n    labelFormatter,\n    payload,\n    hideLabel,\n    labelClassName,\n    config,\n    labelKey,\n  ]);\n\n  if (!(active && payload?.length)) {\n    return null;\n  }\n\n  const nestLabel = payload.length === 1 && indicator !== \"dot\";\n\n  return (\n    <div\n      className={cn(\n        \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n        className\n      )}\n    >\n      {nestLabel ? null : tooltipLabel}\n      <div className=\"grid gap-1.5\">\n        {payload.map((item, index) => {\n          const key = `${nameKey || item.name || item.dataKey || \"value\"}`;\n          const itemConfig = getPayloadConfigFromPayload(config, item, key);\n          const indicatorColor = color || item.payload.fill || item.color;\n\n          return (\n            <div\n              className={cn(\n                \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                indicator === \"dot\" && \"items-center\"\n              )}\n              key={item.dataKey}\n            >\n              {formatter && item?.value !== undefined && item.name ? (\n                formatter(item.value, item.name, item, index, item.payload)\n              ) : (\n                <>\n                  {itemConfig?.icon ? (\n                    <itemConfig.icon />\n                  ) : (\n                    !hideIndicator && (\n                      <div\n                        className={cn(\n                          \"shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)\",\n                          {\n                            \"h-2.5 w-2.5\": indicator === \"dot\",\n                            \"w-1\": indicator === \"line\",\n                            \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                              indicator === \"dashed\",\n                            \"my-0.5\": nestLabel && indicator === \"dashed\",\n                          }\n                        )}\n                        style={\n                          {\n                            \"--color-bg\": indicatorColor,\n                            \"--color-border\": indicatorColor,\n                          } as React.CSSProperties\n                        }\n                      />\n                    )\n                  )}\n                  <div\n                    className={cn(\n                      \"flex flex-1 justify-between gap-2 leading-none\",\n                      nestLabel ? \"items-end\" : \"items-center\"\n                    )}\n                  >\n                    <div className=\"grid gap-1.5\">\n                      {nestLabel ? tooltipLabel : null}\n                      <span className=\"text-muted-foreground\">\n                        {itemConfig?.label || item.name}\n                      </span>\n                    </div>\n                    {item.value && (\n                      <span className=\"font-medium font-mono text-foreground tabular-nums\">\n                        {item.value.toLocaleString()}\n                      </span>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nconst ChartLegend = Legend;\n\nfunction ChartLegendContent({\n  className,\n  hideIcon = false,\n  payload,\n  verticalAlign = \"bottom\",\n  nameKey,\n}: React.ComponentProps<\"div\"> &\n  Pick<LegendProps, \"payload\" | \"verticalAlign\"> & {\n    hideIcon?: boolean;\n    nameKey?: string;\n  }) {\n  const { config } = useChart();\n\n  if (!payload?.length) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-wrap items-center justify-center gap-4\",\n        verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n        className\n      )}\n    >\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || \"value\"}`;\n        const itemConfig = getPayloadConfigFromPayload(config, item, key);\n\n        return (\n          <div\n            className={cn(\n              \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n            )}\n            key={item.value}\n          >\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }}\n              />\n            )}\n            {itemConfig?.label}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return;\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined;\n\n  let configLabelKey: string = key;\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string;\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string;\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config];\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1974, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/articles/politics/kim-plus-empty-box/chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport { useTranslations } from \"next-intl\";\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  LabelList,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\ntype Props = {\n  title: string;\n  description: string;\n  footnote: string;\n};\n\nexport function ElectabilityChart({ title, description, footnote }: Props) {\n  const t = useTranslations(\"Common\");\n\n  const electabilityData = [\n    {\n      name: \"Anies Baswedan\",\n      value: 40,\n    },\n    {\n      name: \"Basuki Tjahaja Purnama\",\n      value: 24,\n    },\n    {\n      name: \"Ridwan Kamil\",\n      value: 13,\n    },\n    {\n      name: \"Tri Rismaharini\",\n      value: 1,\n    },\n    {\n      name: \"Erick Tohir\",\n      value: 1,\n    },\n    {\n      name: \"Erwin Aksa\",\n      value: 1,\n    },\n    {\n      name: \"Ahmad Sahroni\",\n      value: 1,\n    },\n    {\n      name: t(\"not-answering\"),\n      value: 16,\n    },\n  ];\n\n  const chartConfig = {\n    value: {\n      label: t(\"electability\"),\n      color: \"var(--chart-3)\",\n    },\n    label: {\n      color: \"var(--background)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <BarChart\n            accessibilityLayer\n            data={electabilityData}\n            layout=\"vertical\"\n            margin={{\n              right: 24,\n              left: 81,\n            }}\n          >\n            <CartesianGrid horizontal={false} />\n            <YAxis\n              axisLine={false}\n              dataKey=\"name\"\n              hide\n              tickLine={false}\n              tickMargin={10}\n              type=\"category\"\n            />\n            <XAxis dataKey=\"value\" hide type=\"number\" />\n            <ChartTooltip\n              content={<ChartTooltipContent indicator=\"line\" />}\n              cursor={false}\n            />\n            <Bar\n              dataKey=\"value\"\n              fill=\"var(--color-value)\"\n              layout=\"vertical\"\n              radius={8}\n            >\n              <LabelList\n                className=\"fill-foreground\"\n                dataKey=\"name\"\n                fontSize={12}\n                offset={10}\n                position=\"left\"\n                width={75}\n              />\n              <LabelList\n                className=\"fill-foreground\"\n                dataKey=\"value\"\n                fontSize={12}\n                offset={8}\n                position=\"right\"\n              />\n            </Bar>\n            <ChartLegend content={<ChartLegendContent />} />\n          </BarChart>\n        </ChartContainer>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{footnote}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAQA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnBA;;;;;;AAkCO,SAAS,kBAAkB,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAS;IACvE,MAAM,IAAI,IAAA,yNAAe,EAAC;IAE1B,MAAM,mBAAmB;QACvB;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM;YACN,OAAO;QACT;QACA;YACE,MAAM,EAAE;YACR,OAAO;QACT;KACD;IAED,MAAM,cAAc;QAClB,OAAO;YACL,OAAO,EAAE;YACT,OAAO;QACT;QACA,OAAO;YACL,OAAO;QACT;IACF;IAEA,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,QAAQ;8BACtB,cAAA,8OAAC,gKAAQ;wBACP,kBAAkB;wBAClB,MAAM;wBACN,QAAO;wBACP,QAAQ;4BACN,OAAO;4BACP,MAAM;wBACR;;0CAEA,8OAAC,8KAAa;gCAAC,YAAY;;;;;;0CAC3B,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,IAAI;gCACJ,UAAU;gCACV,YAAY;gCACZ,MAAK;;;;;;0CAEP,8OAAC,8JAAK;gCAAC,SAAQ;gCAAQ,IAAI;gCAAC,MAAK;;;;;;0CACjC,8OAAC,0KAAY;gCACX,uBAAS,8OAAC,iLAAmB;oCAAC,WAAU;;;;;;gCACxC,QAAQ;;;;;;0CAEV,8OAAC,0JAAG;gCACF,SAAQ;gCACR,MAAK;gCACL,QAAO;gCACP,QAAQ;;kDAER,8OAAC,sKAAS;wCACR,WAAU;wCACV,SAAQ;wCACR,UAAU;wCACV,QAAQ;wCACR,UAAS;wCACT,OAAO;;;;;;kDAET,8OAAC,sKAAS;wCACR,WAAU;wCACV,SAAQ;wCACR,UAAU;wCACV,QAAQ;wCACR,UAAS;;;;;;;;;;;;0CAGb,8OAAC,yKAAW;gCAAC,uBAAS,8OAAC,gLAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;0BAI/C,8OAAC,uKAAU;0BACT,cAAA,8OAAC;oBAAE,WAAU;8BAAW;;;;;;;;;;;;;;;;;AAIhC","debugId":null}},
    {"offset": {"line": 2204, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/articles/politics/merah-putih-cabinet-analysis/chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport { useTranslations } from \"next-intl\";\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  LabelList,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\nconst TICK_LABEL_CHAR_LIMIT = 3;\n\ntype Props = {\n  title: string;\n  description: string;\n  footnote: string;\n};\n\nconst CabinetChartData = [\n  { name: \"Reformasi Pembangunan\", cabinet: 37 },\n  { name: \"Persatuan Nasional\", cabinet: 36 },\n  { name: \"Gotong Royong\", cabinet: 33 },\n  { name: \"Indonesia Bersatu\", cabinet: 34 },\n  { name: \"Indonesia Bersatu II\", cabinet: 34 },\n  { name: \"Kerja\", cabinet: 34 },\n  { name: \"Indonesia Maju\", cabinet: 34 },\n  { name: \"Merah Putih\", cabinet: 48 },\n];\n\nexport function CabinetChart({ title, description, footnote }: Props) {\n  const t = useTranslations(\"Common\");\n\n  const chartConfig = {\n    cabinet: {\n      label: t(\"cabinet\"),\n      color: \"var(--chart-1)\",\n    },\n    label: {\n      color: \"var(--foreground)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <BarChart\n            accessibilityLayer\n            data={CabinetChartData}\n            layout=\"vertical\"\n            margin={{\n              right: 16,\n            }}\n          >\n            <CartesianGrid horizontal={false} />\n            <YAxis\n              axisLine={false}\n              dataKey=\"name\"\n              hide\n              tickFormatter={(value) => value.slice(0, TICK_LABEL_CHAR_LIMIT)}\n              tickLine={false}\n              tickMargin={10}\n              type=\"category\"\n            />\n            <XAxis dataKey=\"cabinet\" hide type=\"number\" />\n            <ChartTooltip\n              content={<ChartTooltipContent indicator=\"line\" />}\n              cursor={false}\n            />\n            <Bar\n              dataKey=\"cabinet\"\n              fill=\"var(--color-cabinet)\"\n              layout=\"vertical\"\n              radius={8}\n            >\n              <LabelList\n                className=\"fill-(--color-label)\"\n                dataKey=\"name\"\n                fontSize={12}\n                offset={8}\n                position=\"insideLeft\"\n              />\n              <LabelList\n                className=\"fill-foreground\"\n                dataKey=\"cabinet\"\n                fontSize={12}\n                offset={8}\n                position=\"right\"\n              />\n            </Bar>\n            <ChartLegend content={<ChartLegendContent />} />\n          </BarChart>\n        </ChartContainer>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{footnote}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n\nexport function CompositionChart({ title, description, footnote }: Props) {\n  const t = useTranslations(\"Common\");\n\n  const MinisterChartData = [{ name: t(\"minister\"), new: 31, incumbent: 18 }];\n  const GenderChartData = [{ name: t(\"gender\"), male: 43, female: 5 }];\n  const PoliticalStatusChartData = [\n    { name: t(\"political-status\"), politician: 23, non_politician: 25 },\n  ];\n\n  const chartConfig = {\n    new: {\n      label: t(\"new\"),\n      color: \"var(--chart-1)\",\n    },\n    incumbent: {\n      label: t(\"incumbent\"),\n      color: \"var(--chart-2)\",\n    },\n    male: {\n      label: t(\"male\"),\n      color: \"var(--chart-1)\",\n    },\n    female: {\n      label: t(\"female\"),\n      color: \"var(--chart-2)\",\n    },\n    politician: {\n      label: t(\"politicians\"),\n      color: \"var(--chart-1)\",\n    },\n    non_politician: {\n      label: t(\"non-politicians\"),\n      color: \"var(--chart-2)\",\n    },\n    label: {\n      color: \"var(--foreground)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"grid w-full grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n          <ChartContainer\n            className=\"aspect-square sm:aspect-square\"\n            config={chartConfig}\n          >\n            <BarChart accessibilityLayer data={MinisterChartData}>\n              <CartesianGrid vertical={false} />\n              <XAxis\n                axisLine={false}\n                dataKey=\"name\"\n                tickLine={false}\n                tickMargin={10}\n              />\n              <ChartTooltip\n                content={<ChartTooltipContent indicator=\"line\" />}\n                cursor={false}\n              />\n              <Bar dataKey=\"new\" fill=\"var(--color-new)\" radius={8} />\n              <Bar\n                dataKey=\"incumbent\"\n                fill=\"var(--color-incumbent)\"\n                radius={8}\n              />\n              <ChartLegend content={<ChartLegendContent />} />\n            </BarChart>\n          </ChartContainer>\n\n          <ChartContainer\n            className=\"aspect-square sm:aspect-square\"\n            config={chartConfig}\n          >\n            <BarChart data={GenderChartData}>\n              <CartesianGrid vertical={false} />\n              <XAxis\n                axisLine={false}\n                dataKey=\"name\"\n                tickLine={false}\n                tickMargin={10}\n              />\n              <ChartTooltip\n                content={<ChartTooltipContent indicator=\"line\" />}\n                cursor={false}\n              />\n              <Bar dataKey=\"male\" fill=\"var(--color-male)\" radius={8} />\n              <Bar dataKey=\"female\" fill=\"var(--color-female)\" radius={8} />\n              <ChartLegend content={<ChartLegendContent />} />\n            </BarChart>\n          </ChartContainer>\n\n          <ChartContainer\n            className=\"aspect-square sm:aspect-square\"\n            config={chartConfig}\n          >\n            <BarChart data={PoliticalStatusChartData}>\n              <CartesianGrid vertical={false} />\n              <XAxis\n                axisLine={false}\n                dataKey=\"name\"\n                tickLine={false}\n                tickMargin={10}\n              />\n              <ChartTooltip\n                content={<ChartTooltipContent indicator=\"line\" />}\n                cursor={false}\n              />\n              <Bar\n                dataKey=\"politician\"\n                fill=\"var(--color-politician)\"\n                radius={8}\n              />\n              <Bar\n                dataKey=\"non_politician\"\n                fill=\"var(--color-non_politician)\"\n                radius={8}\n              />\n              <ChartLegend content={<ChartLegendContent />} />\n            </BarChart>\n          </ChartContainer>\n        </div>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{footnote}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2780, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/ui/stepper.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@repo/design-system/lib/utils\";\nimport { CheckIcon, LoaderCircleIcon } from \"lucide-react\";\nimport { Slot as SlotPrimitive } from \"radix-ui\";\nimport { createContext, useCallback, useContext, useState } from \"react\";\n\n// Types\ntype StepperContextValue = {\n  activeStep: number;\n  setActiveStep: (step: number) => void;\n  orientation: \"horizontal\" | \"vertical\";\n};\n\ntype StepItemContextValue = {\n  step: number;\n  state: StepState;\n  isDisabled: boolean;\n  isLoading: boolean;\n};\n\ntype StepState = \"active\" | \"completed\" | \"inactive\" | \"loading\";\n\n// Contexts\nconst StepperContext = createContext<StepperContextValue | undefined>(\n  undefined\n);\nconst StepItemContext = createContext<StepItemContextValue | undefined>(\n  undefined\n);\n\nconst useStepper = () => {\n  const context = useContext(StepperContext);\n  if (!context) {\n    throw new Error(\"useStepper must be used within a Stepper\");\n  }\n  return context;\n};\n\nconst useStepItem = () => {\n  const context = useContext(StepItemContext);\n  if (!context) {\n    throw new Error(\"useStepItem must be used within a StepperItem\");\n  }\n  return context;\n};\n\n// Components\ninterface StepperProps extends React.HTMLAttributes<HTMLDivElement> {\n  defaultValue?: number;\n  value?: number;\n  onValueChange?: (value: number) => void;\n  orientation?: \"horizontal\" | \"vertical\";\n}\n\nfunction Stepper({\n  defaultValue = 0,\n  value,\n  onValueChange,\n  orientation = \"horizontal\",\n  className,\n  ...props\n}: StepperProps) {\n  const [activeStep, setInternalStep] = useState(defaultValue);\n\n  const setActiveStep = useCallback(\n    (step: number) => {\n      if (value === undefined) {\n        setInternalStep(step);\n      }\n      onValueChange?.(step);\n    },\n    [value, onValueChange]\n  );\n\n  const currentStep = value ?? activeStep;\n\n  return (\n    <StepperContext.Provider\n      value={{\n        activeStep: currentStep,\n        setActiveStep,\n        orientation,\n      }}\n    >\n      <div\n        className={cn(\n          \"group/stepper inline-flex data-[orientation=horizontal]:w-full data-[orientation=horizontal]:flex-row data-[orientation=vertical]:flex-col\",\n          className\n        )}\n        data-orientation={orientation}\n        data-slot=\"stepper\"\n        {...props}\n      />\n    </StepperContext.Provider>\n  );\n}\n\n// StepperItem\ninterface StepperItemProps extends React.HTMLAttributes<HTMLDivElement> {\n  step: number;\n  completed?: boolean;\n  disabled?: boolean;\n  loading?: boolean;\n}\n\nfunction StepperItem({\n  step,\n  completed = false,\n  disabled = false,\n  loading = false,\n  className,\n  children,\n  ...props\n}: StepperItemProps) {\n  const { activeStep } = useStepper();\n\n  let state: StepState;\n  if (completed || step < activeStep) {\n    state = \"completed\";\n  } else if (activeStep === step) {\n    state = \"active\";\n  } else {\n    state = \"inactive\";\n  }\n\n  const isLoading = loading && step === activeStep;\n\n  return (\n    <StepItemContext.Provider\n      value={{ step, state, isDisabled: disabled, isLoading }}\n    >\n      <div\n        className={cn(\n          \"group/step flex items-center group-data-[orientation=horizontal]/stepper:flex-row group-data-[orientation=vertical]/stepper:flex-col\",\n          className\n        )}\n        data-slot=\"stepper-item\"\n        data-state={state}\n        {...(isLoading ? { \"data-loading\": true } : {})}\n        {...props}\n      >\n        {children}\n      </div>\n    </StepItemContext.Provider>\n  );\n}\n\n// StepperTrigger\ninterface StepperTriggerProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  asChild?: boolean;\n}\n\nfunction StepperTrigger({\n  asChild = false,\n  className,\n  children,\n  ...props\n}: StepperTriggerProps) {\n  const { setActiveStep } = useStepper();\n  const { step, isDisabled } = useStepItem();\n\n  if (asChild) {\n    const Comp = asChild ? SlotPrimitive.Slot : \"span\";\n    return (\n      <Comp className={className} data-slot=\"stepper-trigger\">\n        {children}\n      </Comp>\n    );\n  }\n\n  return (\n    <button\n      className={cn(\n        \"inline-flex items-center gap-3 rounded-full outline-none focus-visible:z-10 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50\",\n        className\n      )}\n      data-slot=\"stepper-trigger\"\n      disabled={isDisabled}\n      onClick={() => setActiveStep(step)}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n\n// StepperIndicator\ninterface StepperIndicatorProps extends React.HTMLAttributes<HTMLDivElement> {\n  asChild?: boolean;\n}\n\nfunction StepperIndicator({\n  asChild = false,\n  className,\n  children,\n  ...props\n}: StepperIndicatorProps) {\n  const { state, step, isLoading } = useStepItem();\n\n  return (\n    <span\n      className={cn(\n        \"relative flex size-6 shrink-0 items-center justify-center rounded-full bg-muted font-medium text-muted-foreground text-xs data-[state=active]:bg-primary data-[state=completed]:bg-primary data-[state=active]:text-primary-foreground data-[state=completed]:text-primary-foreground\",\n        className\n      )}\n      data-slot=\"stepper-indicator\"\n      data-state={state}\n      {...props}\n    >\n      {asChild ? (\n        children\n      ) : (\n        <>\n          <span className=\"transition-all group-data-[state=completed]/step:scale-0 group-data-loading/step:scale-0 group-data-[state=completed]/step:opacity-0 group-data-loading/step:opacity-0 group-data-loading/step:transition-none\">\n            {step}\n          </span>\n          <CheckIcon\n            aria-hidden=\"true\"\n            className=\"absolute scale-0 opacity-0 transition-all group-data-[state=completed]/step:scale-100 group-data-[state=completed]/step:opacity-100\"\n            size={16}\n          />\n          {isLoading && (\n            <span className=\"absolute transition-all\">\n              <LoaderCircleIcon\n                aria-hidden=\"true\"\n                className=\"animate-spin\"\n                size={14}\n              />\n            </span>\n          )}\n        </>\n      )}\n    </span>\n  );\n}\n\n// StepperTitle\nfunction StepperTitle({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLHeadingElement>) {\n  return (\n    <h3\n      className={cn(\"font-medium text-sm\", className)}\n      data-slot=\"stepper-title\"\n      {...props}\n    />\n  );\n}\n\n// StepperDescription\nfunction StepperDescription({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLParagraphElement>) {\n  return (\n    <p\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      data-slot=\"stepper-description\"\n      {...props}\n    />\n  );\n}\n\n// StepperSeparator\nfunction StepperSeparator({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\n        \"m-0.5 bg-muted group-data-[orientation=horizontal]/stepper:h-0.5 group-data-[orientation=vertical]/stepper:h-12 group-data-[orientation=horizontal]/stepper:w-full group-data-[orientation=vertical]/stepper:w-0.5 group-data-[orientation=horizontal]/stepper:flex-1 group-data-[state=completed]/step:bg-primary\",\n        className\n      )}\n      data-slot=\"stepper-separator\"\n      {...props}\n    />\n  );\n}\n\nexport {\n  Stepper,\n  StepperDescription,\n  StepperIndicator,\n  StepperItem,\n  StepperSeparator,\n  StepperTitle,\n  StepperTrigger,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3016, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/articles/politics/pork-barrel-politics-power/chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport { format } from \"date-fns\";\nimport { useTranslations } from \"next-intl\";\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  LabelList,\n  Line,\n  LineChart,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\ntype Props = {\n  title: string;\n  description: string;\n  footnote: string;\n  yLabel: string;\n};\n\nconst BudgetChartData = [\n  {\n    year: \"2020\",\n    budget: 498,\n  },\n  {\n    year: \"2021\",\n    budget: 468.2,\n  },\n  {\n    year: \"2022\",\n    budget: 460.6,\n  },\n  {\n    year: \"2023\",\n    budget: 439.1,\n  },\n  {\n    year: \"2024\",\n    budget: 496.8,\n  },\n];\n\nexport function BudgetChart({\n  title,\n  yLabel,\n  footnote,\n}: Omit<Props, \"description\">) {\n  const t = useTranslations(\"Common\");\n\n  const chartConfig = {\n    budget: {\n      label: t(\"budget\"),\n      color: \"var(--chart-4)\",\n    },\n    label: {\n      color: \"var(--foreground)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>Kemenkeu RI, 2024a.</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <BarChart\n            accessibilityLayer\n            data={BudgetChartData}\n            margin={{\n              right: 16,\n            }}\n          >\n            <CartesianGrid vertical={false} />\n            <XAxis\n              axisLine={false}\n              dataKey=\"year\"\n              tickLine={false}\n              tickMargin={10}\n            />\n            <YAxis\n              axisLine={false}\n              label={{\n                value: yLabel,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickLine={false}\n            />\n            <ChartTooltip\n              content={<ChartTooltipContent indicator=\"line\" />}\n              cursor={false}\n            />\n            <Bar dataKey=\"budget\" fill=\"var(--color-budget)\" radius={8}>\n              <LabelList\n                className=\"fill-foreground\"\n                dataKey=\"budget\"\n                fontSize={12}\n                offset={8}\n                position=\"top\"\n              />\n            </Bar>\n            <ChartLegend content={<ChartLegendContent />} />\n          </BarChart>\n        </ChartContainer>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{footnote}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n\nconst FundChartData = [\n  {\n    year: \"2015\",\n    fund: 16.7,\n  },\n  {\n    year: \"2016\",\n    fund: 9.3,\n  },\n  {\n    year: \"2017\",\n    fund: 13.1,\n  },\n  {\n    year: \"2018\",\n    fund: 17.6,\n  },\n];\n\nexport function FundChart({ title, description, yLabel, footnote }: Props) {\n  const t = useTranslations(\"Common\");\n\n  const chartConfig = {\n    fund: {\n      label: t(\"fund\"),\n      color: \"var(--chart-5)\",\n    },\n    label: {\n      color: \"var(--foreground)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <BarChart\n            accessibilityLayer\n            data={FundChartData}\n            margin={{\n              right: 16,\n            }}\n          >\n            <CartesianGrid vertical={false} />\n            <XAxis\n              axisLine={false}\n              dataKey=\"year\"\n              tickLine={false}\n              tickMargin={10}\n            />\n            <YAxis\n              axisLine={false}\n              label={{\n                value: yLabel,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickLine={false}\n            />\n            <ChartTooltip\n              content={<ChartTooltipContent indicator=\"line\" />}\n              cursor={false}\n            />\n            <Bar dataKey=\"fund\" fill=\"var(--color-fund)\" radius={8}>\n              <LabelList\n                className=\"fill-foreground\"\n                dataKey=\"fund\"\n                fontSize={12}\n                offset={8}\n                position=\"top\"\n              />\n            </Bar>\n            <ChartLegend content={<ChartLegendContent />} />\n          </BarChart>\n        </ChartContainer>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{footnote}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n\nconst ElectabilityChartData = [\n  {\n    date: \"2021-01-01\",\n    anies_muhaimin: 23,\n    prabowo_gibran: 35,\n    ganjar_mahfud: 25,\n  },\n  {\n    date: \"2022-05-01\",\n    anies_muhaimin: 22,\n    prabowo_gibran: 33,\n    ganjar_mahfud: 33,\n  },\n  {\n    date: \"2022-06-01\",\n    anies_muhaimin: 21,\n    prabowo_gibran: 34,\n    ganjar_mahfud: 38,\n  },\n  {\n    date: \"2022-07-01\",\n    anies_muhaimin: 28,\n    prabowo_gibran: 27,\n    ganjar_mahfud: 30,\n  },\n  {\n    date: \"2022-10-01\",\n    anies_muhaimin: 28,\n    prabowo_gibran: 30,\n    ganjar_mahfud: 32,\n  },\n  {\n    date: \"2023-01-01\",\n    anies_muhaimin: 22,\n    prabowo_gibran: 22,\n    ganjar_mahfud: 38,\n  },\n  {\n    date: \"2023-02-01\",\n    anies_muhaimin: 25,\n    prabowo_gibran: 28,\n    ganjar_mahfud: 37,\n  },\n  {\n    date: \"2023-04-01\",\n    anies_muhaimin: 28,\n    prabowo_gibran: 35,\n    ganjar_mahfud: 36,\n  },\n  {\n    date: \"2023-07-01\",\n    anies_muhaimin: 20,\n    prabowo_gibran: 38,\n    ganjar_mahfud: 32,\n  },\n  {\n    date: \"2023-09-01\",\n    anies_muhaimin: 21,\n    prabowo_gibran: 37,\n    ganjar_mahfud: 31,\n  },\n  {\n    date: \"2023-10-01\",\n    anies_muhaimin: 22,\n    prabowo_gibran: 39,\n    ganjar_mahfud: 37,\n  },\n  {\n    date: \"2023-12-01\",\n    anies_muhaimin: 20,\n    prabowo_gibran: 43,\n    ganjar_mahfud: 21,\n  },\n  {\n    date: \"2024-01-01\",\n    anies_muhaimin: 22,\n    prabowo_gibran: 48,\n    ganjar_mahfud: 19,\n  },\n  {\n    date: \"2024-02-01\",\n    anies_muhaimin: 22,\n    prabowo_gibran: 56,\n    ganjar_mahfud: 18,\n  },\n];\n\nconst chartConfig = {\n  anies_muhaimin: {\n    label: \"Anies Baswedan-Muhaimin Iskandar\",\n    color: \"var(--chart-1)\",\n  },\n  prabowo_gibran: {\n    label: \"Prabowo Subianto-Gibran Rakabuming\",\n    color: \"var(--chart-2)\",\n  },\n  ganjar_mahfud: {\n    label: \"Ganjar Pranowo-Mahfud MD\",\n    color: \"var(--chart-3)\",\n  },\n} satisfies ChartConfig;\n\nexport function ElectabilityChart({\n  title,\n  description,\n  yLabel,\n  footnote,\n}: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <LineChart accessibilityLayer data={ElectabilityChartData}>\n            <CartesianGrid vertical={false} />\n            <XAxis\n              axisLine={false}\n              dataKey=\"date\"\n              tickFormatter={(value) => {\n                const date = new Date(value);\n                return format(date, \"MMM yyyy\");\n              }}\n              tickLine={false}\n              tickMargin={8}\n            />\n            <YAxis\n              axisLine={false}\n              label={{\n                value: yLabel,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickLine={false}\n            />\n            <ChartTooltip\n              content={\n                <ChartTooltipContent\n                  indicator=\"line\"\n                  labelFormatter={(value) =>\n                    format(new Date(value), \"MMMM yyyy\")\n                  }\n                />\n              }\n              cursor={false}\n            />\n            <Line\n              dataKey=\"anies_muhaimin\"\n              dot={false}\n              stroke=\"var(--color-anies_muhaimin)\"\n              strokeWidth={2}\n              type=\"natural\"\n            />\n            <Line\n              dataKey=\"prabowo_gibran\"\n              dot={false}\n              stroke=\"var(--color-prabowo_gibran)\"\n              strokeWidth={2}\n              type=\"natural\"\n            />\n            <Line\n              dataKey=\"ganjar_mahfud\"\n              dot={false}\n              stroke=\"var(--color-ganjar_mahfud)\"\n              strokeWidth={2}\n              type=\"natural\"\n            />\n            <ChartLegend content={<ChartLegendContent />} />\n          </LineChart>\n        </ChartContainer>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{footnote}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAQA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;;;;;;;AAsCA,MAAM,kBAAkB;IACtB;QACE,MAAM;QACN,QAAQ;IACV;IACA;QACE,MAAM;QACN,QAAQ;IACV;IACA;QACE,MAAM;QACN,QAAQ;IACV;IACA;QACE,MAAM;QACN,QAAQ;IACV;IACA;QACE,MAAM;QACN,QAAQ;IACV;CACD;AAEM,SAAS,YAAY,EAC1B,KAAK,EACL,MAAM,EACN,QAAQ,EACmB;IAC3B,MAAM,IAAI,IAAA,yNAAe,EAAC;IAE1B,MAAM,cAAc;QAClB,QAAQ;YACN,OAAO,EAAE;YACT,OAAO;QACT;QACA,OAAO;YACL,OAAO;QACT;IACF;IAEA,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAC;;;;;;;;;;;;0BAEnB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,QAAQ;8BACtB,cAAA,8OAAC,gKAAQ;wBACP,kBAAkB;wBAClB,MAAM;wBACN,QAAQ;4BACN,OAAO;wBACT;;0CAEA,8OAAC,8KAAa;gCAAC,UAAU;;;;;;0CACzB,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,UAAU;gCACV,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,UAAU;;;;;;0CAEZ,8OAAC,0KAAY;gCACX,uBAAS,8OAAC,iLAAmB;oCAAC,WAAU;;;;;;gCACxC,QAAQ;;;;;;0CAEV,8OAAC,0JAAG;gCAAC,SAAQ;gCAAS,MAAK;gCAAsB,QAAQ;0CACvD,cAAA,8OAAC,sKAAS;oCACR,WAAU;oCACV,SAAQ;oCACR,UAAU;oCACV,QAAQ;oCACR,UAAS;;;;;;;;;;;0CAGb,8OAAC,yKAAW;gCAAC,uBAAS,8OAAC,gLAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;0BAI/C,8OAAC,uKAAU;0BACT,cAAA,8OAAC;oBAAE,WAAU;8BAAW;;;;;;;;;;;;;;;;;AAIhC;AAEA,MAAM,gBAAgB;IACpB;QACE,MAAM;QACN,MAAM;IACR;IACA;QACE,MAAM;QACN,MAAM;IACR;IACA;QACE,MAAM;QACN,MAAM;IACR;IACA;QACE,MAAM;QACN,MAAM;IACR;CACD;AAEM,SAAS,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAS;IACvE,MAAM,IAAI,IAAA,yNAAe,EAAC;IAE1B,MAAM,cAAc;QAClB,MAAM;YACJ,OAAO,EAAE;YACT,OAAO;QACT;QACA,OAAO;YACL,OAAO;QACT;IACF;IAEA,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,QAAQ;8BACtB,cAAA,8OAAC,gKAAQ;wBACP,kBAAkB;wBAClB,MAAM;wBACN,QAAQ;4BACN,OAAO;wBACT;;0CAEA,8OAAC,8KAAa;gCAAC,UAAU;;;;;;0CACzB,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,UAAU;gCACV,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,UAAU;;;;;;0CAEZ,8OAAC,0KAAY;gCACX,uBAAS,8OAAC,iLAAmB;oCAAC,WAAU;;;;;;gCACxC,QAAQ;;;;;;0CAEV,8OAAC,0JAAG;gCAAC,SAAQ;gCAAO,MAAK;gCAAoB,QAAQ;0CACnD,cAAA,8OAAC,sKAAS;oCACR,WAAU;oCACV,SAAQ;oCACR,UAAU;oCACV,QAAQ;oCACR,UAAS;;;;;;;;;;;0CAGb,8OAAC,yKAAW;gCAAC,uBAAS,8OAAC,gLAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;0BAI/C,8OAAC,uKAAU;0BACT,cAAA,8OAAC;oBAAE,WAAU;8BAAW;;;;;;;;;;;;;;;;;AAIhC;AAEA,MAAM,wBAAwB;IAC5B;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,MAAM;QACN,gBAAgB;QAChB,gBAAgB;QAChB,eAAe;IACjB;CACD;AAED,MAAM,cAAc;IAClB,gBAAgB;QACd,OAAO;QACP,OAAO;IACT;IACA,gBAAgB;QACd,OAAO;QACP,OAAO;IACT;IACA,eAAe;QACb,OAAO;QACP,OAAO;IACT;AACF;AAEO,SAAS,kBAAkB,EAChC,KAAK,EACL,WAAW,EACX,MAAM,EACN,QAAQ,EACF;IACN,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,QAAQ;8BACtB,cAAA,8OAAC,kKAAS;wBAAC,kBAAkB;wBAAC,MAAM;;0CAClC,8OAAC,8KAAa;gCAAC,UAAU;;;;;;0CACzB,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,eAAe,CAAC;oCACd,MAAM,OAAO,IAAI,KAAK;oCACtB,OAAO,IAAA,+JAAM,EAAC,MAAM;gCACtB;gCACA,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,UAAU;gCACV,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,UAAU;;;;;;0CAEZ,8OAAC,0KAAY;gCACX,uBACE,8OAAC,iLAAmB;oCAClB,WAAU;oCACV,gBAAgB,CAAC,QACf,IAAA,+JAAM,EAAC,IAAI,KAAK,QAAQ;;;;;;gCAI9B,QAAQ;;;;;;0CAEV,8OAAC,4JAAI;gCACH,SAAQ;gCACR,KAAK;gCACL,QAAO;gCACP,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,4JAAI;gCACH,SAAQ;gCACR,KAAK;gCACL,QAAO;gCACP,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,4JAAI;gCACH,SAAQ;gCACR,KAAK;gCACL,QAAO;gCACP,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,yKAAW;gCAAC,uBAAS,8OAAC,gLAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;0BAI/C,8OAAC,uKAAU;0BACT,cAAA,8OAAC;oBAAE,WAAU;8BAAW;;;;;;;;;;;;;;;;;AAIhC","debugId":null}},
    {"offset": {"line": 3673, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/animation-bacterial.tsx"],"sourcesContent":["\"use client\";\n\nimport { useIntersection } from \"@mantine/hooks\";\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport { PauseIcon, PlayIcon, TimerResetIcon } from \"lucide-react\";\nimport { AnimatePresence, LayoutGroup, motion } from \"motion/react\";\nimport {\n  useCallback,\n  useDeferredValue,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\n\nconst MAX_BACTERIA_COUNT = 100;\nconst SPEED_INTERVAL = 1000;\nconst STAGGER_DELAY = 0.01;\nconst SCALE_INCREASE = 1.1;\nconst SPEED_VALUES_DIFFERENCE = 0.25;\nconst SPEED_VALUES = Array.from(\n  { length: 5 },\n  (_, i) => SPEED_VALUES_DIFFERENCE * (i + 1)\n);\n\ntype FormulaType = \"geometric\" | \"exponential\" | \"custom\";\n\ntype BacterialGrowthProps = {\n  /**\n   * The ratio of bacterial growth.\n   * @default 2\n   */\n  ratio?: number;\n  /**\n   * The initial count of bacteria.\n   * @default 1\n   */\n  initialCount?: number;\n  /**\n   * The maximum number of generations to display.\n   * @default 6\n   */\n  maxGenerations?: number;\n  /**\n   * The type of formula to use.\n   * @default \"geometric\"\n   */\n  formulaType?: FormulaType;\n  /**\n   * The custom formula to use.\n   */\n  customFormula?: (\n    initialCount: number,\n    ratio: number,\n    generation: number\n  ) => number;\n  /**\n   * The time interval in hours.\n   * @default 1\n   */\n  timeInterval?: number;\n  /**\n   * The time unit label (hours, minutes, etc.).\n   * @default \"h\"\n   */\n  timeUnit?: string;\n  /**\n   * The labels to use for the animation.\n   */\n  labels?: {\n    title?: string;\n    bacterial?: string;\n    initialBacteria?: string;\n  };\n};\n\nexport function BacterialGrowth({\n  ratio = 2,\n  initialCount = 1,\n  maxGenerations = 6,\n  formulaType = \"geometric\",\n  customFormula,\n  timeInterval = 1, // Default: 1 hour\n  timeUnit = \"h\", // Default: hours\n  labels = {\n    title: \"Bacterial Growth\",\n    bacterial: \"Bacterial\",\n    initialBacteria: \"Initial bacteria\",\n  },\n}: BacterialGrowthProps) {\n  const [generation, setGeneration] = useState(0);\n  const [speed, setSpeed] = useState(1);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const deferredPlaying = useDeferredValue(isPlaying);\n  const deferredGeneration = useDeferredValue(generation);\n\n  const { ref, entry } = useIntersection({\n    threshold: 0.1,\n  });\n\n  useEffect(() => {\n    if (entry) {\n      setIsPlaying(entry.isIntersecting);\n    }\n  }, [entry]);\n\n  // Start playing when component comes into view\n\n  // Calculate current bacteria count based on the selected formula type\n  const bacteriaCount = useMemo(() => {\n    if (customFormula) {\n      return customFormula(initialCount, ratio, deferredGeneration);\n    }\n\n    switch (formulaType) {\n      case \"geometric\":\n        // U_n = aÂ·r^(n-1) (standard geometric sequence formula)\n        // For bacterial growth: bacteria after n generations = initial Ã— ratio^(generation)\n        // We always start index from 0, so we don't need to subtract 1 from the generation\n        return initialCount * ratio ** deferredGeneration;\n      case \"exponential\":\n        // B(t) = Bâ‚€ Ã— e^(kt) where k = ln(ratio)\n        return initialCount * Math.exp(Math.log(ratio) * deferredGeneration);\n      default:\n        // Default to geometric for backward compatibility\n        return initialCount * ratio ** deferredGeneration;\n    }\n  }, [initialCount, deferredGeneration, ratio, formulaType, customFormula]);\n\n  // Create an array of bacteria to display\n  const bacteria = useMemo(\n    () =>\n      Array.from(\n        { length: Math.min(Math.round(bacteriaCount), MAX_BACTERIA_COUNT) },\n        (_, i) => i\n      ),\n    [bacteriaCount]\n  );\n\n  // Calculate how many bacteria to actually show (cap at 100 for performance)\n  const displayCount = useMemo(\n    () => Math.min(Math.round(bacteriaCount), MAX_BACTERIA_COUNT),\n    [bacteriaCount]\n  );\n\n  // Calculate grid dimensions based on bacteria count\n  const gridCols = useMemo(\n    () => Math.min(Math.ceil(Math.sqrt(displayCount)), 10),\n    [displayCount]\n  );\n\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n\n    // Stop playing when maximum generation is reached\n    if (deferredGeneration >= maxGenerations) {\n      setIsPlaying(false);\n      return;\n    }\n\n    if (deferredPlaying) {\n      interval = setInterval(() => {\n        setGeneration((prev) => {\n          if (prev < maxGenerations) {\n            return prev + 1;\n          }\n          return prev;\n        });\n      }, SPEED_INTERVAL / speed);\n    }\n\n    return () => clearInterval(interval);\n  }, [deferredPlaying, deferredGeneration, maxGenerations, speed]);\n\n  const resetAnimation = useCallback(() => {\n    setGeneration(0);\n    setIsPlaying(true);\n  }, []);\n\n  const togglePlayPause = useCallback(() => {\n    if (!isPlaying && generation >= maxGenerations) {\n      // If at max generation and trying to play, restart from beginning\n      setGeneration(0);\n      setIsPlaying(true);\n    } else {\n      setIsPlaying(!isPlaying);\n    }\n  }, [isPlaying, generation, maxGenerations]);\n\n  // Generate time buttons\n  const timeButtons = useMemo(\n    () =>\n      Array.from({ length: maxGenerations + 1 }).map((_, i) => {\n        const time = i * timeInterval;\n        return (\n          <Button\n            key={time.toString()}\n            onClick={() => {\n              setGeneration(i);\n              setIsPlaying(false);\n            }}\n            size=\"sm\"\n            variant={generation === i ? \"default\" : \"outline\"}\n          >\n            {time}\n            {timeUnit}\n          </Button>\n        );\n      }),\n    [generation, maxGenerations, timeInterval, timeUnit]\n  );\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{labels.title}</CardTitle>\n        <CardDescription>\n          {Math.round(bacteriaCount)} {labels.bacterial}\n        </CardDescription>\n      </CardHeader>\n\n      <CardContent>\n        <div\n          className=\"relative aspect-square w-full overflow-hidden rounded-lg border border-cyan-100 bg-cyan-50 sm:aspect-video dark:border-cyan-900 dark:bg-cyan-950\"\n          ref={ref}\n        >\n          <div\n            className=\"grid h-full w-full gap-0.5 p-2 sm:px-0\"\n            style={{\n              gridTemplateColumns: `repeat(${gridCols}, minmax(0, 1fr))`,\n            }}\n          >\n            <LayoutGroup>\n              <AnimatePresence mode=\"popLayout\">\n                {bacteria.map((id) => (\n                  <motion.div\n                    animate={{\n                      scale: 1,\n                      opacity: 1,\n                    }}\n                    className=\"relative flex items-center justify-center\"\n                    exit={{ scale: 0, opacity: 0 }}\n                    initial={{ scale: 0, opacity: 0 }}\n                    key={id}\n                    layout\n                    transition={{\n                      type: \"spring\",\n                      stiffness: 500,\n                      damping: 30,\n                      delay: id * STAGGER_DELAY, // Stagger effect\n                    }}\n                  >\n                    <motion.div\n                      animate={{\n                        scale: [1, SCALE_INCREASE, 1],\n                      }}\n                      className=\"aspect-square h-full max-h-[20px] w-full max-w-[20px] rounded-full bg-cyan-300 transition-colors hover:bg-cyan-400 sm:max-h-[32px] sm:max-w-[32px] dark:bg-cyan-500\"\n                      transition={{\n                        duration: 1,\n                        repeat: Number.POSITIVE_INFINITY,\n                        repeatType: \"reverse\",\n                      }}\n                      whileHover={{\n                        scale: SCALE_INCREASE,\n                      }}\n                    />\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </LayoutGroup>\n          </div>\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"flex flex-col gap-4 px-0\">\n        <div className=\"flex w-full flex-col items-center justify-between gap-4 px-6 sm:flex-row\">\n          <div className=\"flex justify-between gap-2\">\n            <Button\n              aria-label=\"Reset\"\n              onClick={resetAnimation}\n              size=\"icon\"\n              variant=\"outline\"\n            >\n              <TimerResetIcon className=\"size-4 shrink-0\" />\n              <span className=\"sr-only\">Reset</span>\n            </Button>\n            <Button\n              aria-label={isPlaying ? \"Pause\" : \"Play\"}\n              onClick={togglePlayPause}\n              size=\"icon\"\n              variant={isPlaying ? \"outline\" : \"default\"}\n            >\n              {isPlaying ? (\n                <PauseIcon className=\"size-4 shrink-0\" />\n              ) : (\n                <PlayIcon className=\"size-4 shrink-0\" />\n              )}\n              <span className=\"sr-only\">{isPlaying ? \"Pause\" : \"Play\"}</span>\n            </Button>\n          </div>\n\n          <div className=\"flex flex-wrap justify-center gap-2\">\n            {SPEED_VALUES.map((speedValue) => (\n              <Button\n                key={speedValue}\n                onClick={() => setSpeed(speedValue)}\n                size=\"sm\"\n                variant={speed === speedValue ? \"default\" : \"outline\"}\n              >\n                {speedValue}x\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"w-full border-t px-6 pt-4\">\n          <div className=\"flex flex-wrap justify-center gap-2\">\n            {timeButtons}\n          </div>\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4078, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/function-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport type { ChartConfig } from \"@repo/design-system/components/ui/chart\";\nimport {\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport type { ReactNode } from \"react\";\nimport { useMemo } from \"react\";\nimport { CartesianGrid, Line, LineChart, XAxis, YAxis } from \"recharts\";\n\nconst THRESHOLD_VALUE = 1000;\nconst THRESHOLD_VALUE_DECIMAL_PLACES = 0;\n\ntype Props = {\n  p: number;\n  a: number;\n  title: ReactNode;\n  description: ReactNode;\n  n?: number;\n};\n\nexport function FunctionChart({ p, a, title, description, n = 11 }: Props) {\n  const data = useMemo(\n    () =>\n      Array.from({ length: n }, (_, i) => {\n        // Handle the specific case where a=0 and x=0 (mathematically undefined)\n        if (a === 0 && i === 0) {\n          return { x: i, y: null }; // Use null to represent undefined\n        }\n        return {\n          x: i,\n          y: p * a ** i,\n        };\n      }),\n    [a, p, n]\n  );\n\n  const chartConfig = {\n    y: {\n      label: \"f(x)\",\n      color: \"var(--chart-1)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <LineChart accessibilityLayer data={data}>\n            <CartesianGrid />\n            <XAxis\n              dataKey=\"x\"\n              tickFormatter={(value) => value.toString()}\n              tickMargin={8}\n            />\n            <YAxis\n              label={{\n                value: \"f(x)\",\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickFormatter={(value) =>\n                value >= THRESHOLD_VALUE\n                  ? `${(value / THRESHOLD_VALUE).toFixed(THRESHOLD_VALUE_DECIMAL_PLACES)}k`\n                  : value\n              }\n              tickMargin={8}\n            />\n            <ChartTooltip\n              content={({ active, payload }) => {\n                if (active && payload && payload.length) {\n                  const xValue = payload[0].payload.x;\n                  const yValue = payload[0].payload.y;\n\n                  // Special handling for undefined case\n                  if (yValue === null) {\n                    return (\n                      <ChartTooltipContent\n                        active={active}\n                        label={`x = ${xValue}, y = undefined`}\n                        payload={[]}\n                      />\n                    );\n                  }\n\n                  return (\n                    <ChartTooltipContent\n                      active={active}\n                      label={`x = ${xValue}`}\n                      payload={payload}\n                    />\n                  );\n                }\n                return null;\n              }}\n            />\n            <Line\n              connectNulls={false}\n              dataKey=\"y\"\n              dot\n              name=\"y\"\n              stroke={chartConfig.y.color}\n              strokeWidth={2}\n              type=\"monotone\"\n            />\n            <ChartLegend\n              content={<ChartLegendContent verticalAlign=\"bottom\" />}\n            />\n          </LineChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAQA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAnBA;;;;;;AAqBA,MAAM,kBAAkB;AACxB,MAAM,iCAAiC;AAUhC,SAAS,cAAc,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,EAAS;IACvE,MAAM,OAAO,IAAA,gNAAO,EAClB,IACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,CAAC,GAAG;YAC5B,wEAAwE;YACxE,IAAI,MAAM,KAAK,MAAM,GAAG;gBACtB,OAAO;oBAAE,GAAG;oBAAG,GAAG;gBAAK,GAAG,kCAAkC;YAC9D;YACA,OAAO;gBACL,GAAG;gBACH,GAAG,IAAI,KAAK;YACd;QACF,IACF;QAAC;QAAG;QAAG;KAAE;IAGX,MAAM,cAAc;QAClB,GAAG;YACD,OAAO;YACP,OAAO;QACT;IACF;IAEA,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,QAAQ;8BACtB,cAAA,8OAAC,kKAAS;wBAAC,kBAAkB;wBAAC,MAAM;;0CAClC,8OAAC,8KAAa;;;;;0CACd,8OAAC,8JAAK;gCACJ,SAAQ;gCACR,eAAe,CAAC,QAAU,MAAM,QAAQ;gCACxC,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,eAAe,CAAC,QACd,SAAS,kBACL,GAAG,CAAC,QAAQ,eAAe,EAAE,OAAO,CAAC,gCAAgC,CAAC,CAAC,GACvE;gCAEN,YAAY;;;;;;0CAEd,8OAAC,0KAAY;gCACX,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;oCAC3B,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;wCACvC,MAAM,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;wCACnC,MAAM,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;wCAEnC,sCAAsC;wCACtC,IAAI,WAAW,MAAM;4CACnB,qBACE,8OAAC,iLAAmB;gDAClB,QAAQ;gDACR,OAAO,CAAC,IAAI,EAAE,OAAO,eAAe,CAAC;gDACrC,SAAS,EAAE;;;;;;wCAGjB;wCAEA,qBACE,8OAAC,iLAAmB;4CAClB,QAAQ;4CACR,OAAO,CAAC,IAAI,EAAE,QAAQ;4CACtB,SAAS;;;;;;oCAGf;oCACA,OAAO;gCACT;;;;;;0CAEF,8OAAC,4JAAI;gCACH,cAAc;gCACd,SAAQ;gCACR,GAAG;gCACH,MAAK;gCACL,QAAQ,YAAY,CAAC,CAAC,KAAK;gCAC3B,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,yKAAW;gCACV,uBAAS,8OAAC,gLAAkB;oCAAC,eAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzD","debugId":null}},
    {"offset": {"line": 4273, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/subject/high-school/10/mathematics/exponential-logarithm/function-exploration/virus-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport { CartesianGrid, Line, LineChart, XAxis, YAxis } from \"recharts\";\n\nconst EXPONENTIAL_BASE = 3;\nconst LINEAR_SCALING_FACTOR = 3;\nconst LOGARITHMIC_SCALING_FACTOR = 20;\nconst THRESHOLD_VALUE = 1000;\nconst THRESHOLD_VALUE_DECIMAL_PLACES = 0;\n\ntype Props = {\n  labels: {\n    title?: string;\n    description?: string;\n    exponential?: string;\n    linear?: string;\n    logarithmic?: string;\n    yLabel?: string;\n    caption?: string;\n    phase?: string;\n  };\n};\n\nconst data = Array.from({ length: 5 }, (_, i) => {\n  const phase = i + 1;\n  return {\n    phase,\n    exponential: EXPONENTIAL_BASE ** phase, // Exponential: 3^phase\n    linear: LINEAR_SCALING_FACTOR * phase, // Linear: 3*phase\n    logarithmic: Math.log(phase + 1) * LOGARITHMIC_SCALING_FACTOR, // Logarithmic: log(phase+1) * scaling factor\n  };\n});\n\nexport function VirusChart({\n  labels = {\n    title: \"Virus Spread\",\n    description: \"Number of people infected in each phase of the virus spread.\",\n    exponential: \"Exponential Function\",\n    linear: \"Linear Function\",\n    logarithmic: \"Logarithmic Function\",\n    yLabel: \"Number of people infected\",\n    caption:\n      \"Virus spread grows exponentially, accelerating rapidly after initial phases.\",\n    phase: \"Phase\",\n  },\n}: Props) {\n  const chartConfig = {\n    exponential: {\n      label: labels.exponential,\n      color: \"var(--chart-1)\",\n    },\n    linear: {\n      label: labels.linear,\n      color: \"var(--chart-2)\",\n    },\n    logarithmic: {\n      label: labels.logarithmic,\n      color: \"var(--chart-3)\",\n    },\n  } satisfies ChartConfig;\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{labels.title}</CardTitle>\n        <CardDescription>{labels.description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <LineChart accessibilityLayer data={data}>\n            <CartesianGrid />\n            <XAxis\n              dataKey=\"phase\"\n              tickFormatter={(value) => value.toString()}\n              tickMargin={8}\n            />\n            <YAxis\n              label={{\n                value: labels.yLabel,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickFormatter={(value) =>\n                value >= THRESHOLD_VALUE\n                  ? `${(value / THRESHOLD_VALUE).toFixed(THRESHOLD_VALUE_DECIMAL_PLACES)}k`\n                  : value\n              }\n              tickMargin={8}\n            />\n            <ChartTooltip\n              content={({ active, payload }) => {\n                if (active && payload && payload.length) {\n                  // Extract the phase value from the first payload item\n                  const phaseValue = payload[0].payload.phase;\n                  return (\n                    <ChartTooltipContent\n                      active={active}\n                      label={`${labels.phase} ${phaseValue}`}\n                      payload={payload}\n                    />\n                  );\n                }\n                return null;\n              }}\n            />\n            <Line\n              dataKey=\"exponential\"\n              dot\n              name=\"exponential\"\n              stroke={chartConfig.exponential.color}\n              strokeWidth={2}\n              type=\"monotone\"\n            />\n            <Line\n              dataKey=\"linear\"\n              dot\n              name=\"linear\"\n              stroke={chartConfig.linear.color}\n              strokeWidth={2}\n              type=\"monotone\"\n            />\n            <Line\n              dataKey=\"logarithmic\"\n              dot\n              name=\"logarithmic\"\n              stroke={chartConfig.logarithmic.color}\n              strokeWidth={2}\n              type=\"monotone\"\n            />\n            <ChartLegend\n              content={<ChartLegendContent verticalAlign=\"bottom\" />}\n            />\n          </LineChart>\n        </ChartContainer>\n      </CardContent>\n      <CardFooter>\n        <p className=\"text-sm\">{labels.caption}</p>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAQA;AAQA;AAAA;AAAA;AAAA;AAAA;AAlBA;;;;;AAoBA,MAAM,mBAAmB;AACzB,MAAM,wBAAwB;AAC9B,MAAM,6BAA6B;AACnC,MAAM,kBAAkB;AACxB,MAAM,iCAAiC;AAevC,MAAM,OAAO,MAAM,IAAI,CAAC;IAAE,QAAQ;AAAE,GAAG,CAAC,GAAG;IACzC,MAAM,QAAQ,IAAI;IAClB,OAAO;QACL;QACA,aAAa,oBAAoB;QACjC,QAAQ,wBAAwB;QAChC,aAAa,KAAK,GAAG,CAAC,QAAQ,KAAK;IACrC;AACF;AAEO,SAAS,WAAW,EACzB,SAAS;IACP,OAAO;IACP,aAAa;IACb,aAAa;IACb,QAAQ;IACR,aAAa;IACb,QAAQ;IACR,SACE;IACF,OAAO;AACT,CAAC,EACK;IACN,MAAM,cAAc;QAClB,aAAa;YACX,OAAO,OAAO,WAAW;YACzB,OAAO;QACT;QACA,QAAQ;YACN,OAAO,OAAO,MAAM;YACpB,OAAO;QACT;QACA,aAAa;YACX,OAAO,OAAO,WAAW;YACzB,OAAO;QACT;IACF;IAEA,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE,OAAO,KAAK;;;;;;kCACxB,8OAAC,4KAAe;kCAAE,OAAO,WAAW;;;;;;;;;;;;0BAEtC,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,QAAQ;8BACtB,cAAA,8OAAC,kKAAS;wBAAC,kBAAkB;wBAAC,MAAM;;0CAClC,8OAAC,8KAAa;;;;;0CACd,8OAAC,8JAAK;gCACJ,SAAQ;gCACR,eAAe,CAAC,QAAU,MAAM,QAAQ;gCACxC,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,OAAO;oCACL,OAAO,OAAO,MAAM;oCACpB,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,eAAe,CAAC,QACd,SAAS,kBACL,GAAG,CAAC,QAAQ,eAAe,EAAE,OAAO,CAAC,gCAAgC,CAAC,CAAC,GACvE;gCAEN,YAAY;;;;;;0CAEd,8OAAC,0KAAY;gCACX,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;oCAC3B,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;wCACvC,sDAAsD;wCACtD,MAAM,aAAa,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK;wCAC3C,qBACE,8OAAC,iLAAmB;4CAClB,QAAQ;4CACR,OAAO,GAAG,OAAO,KAAK,CAAC,CAAC,EAAE,YAAY;4CACtC,SAAS;;;;;;oCAGf;oCACA,OAAO;gCACT;;;;;;0CAEF,8OAAC,4JAAI;gCACH,SAAQ;gCACR,GAAG;gCACH,MAAK;gCACL,QAAQ,YAAY,WAAW,CAAC,KAAK;gCACrC,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,4JAAI;gCACH,SAAQ;gCACR,GAAG;gCACH,MAAK;gCACL,QAAQ,YAAY,MAAM,CAAC,KAAK;gCAChC,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,4JAAI;gCACH,SAAQ;gCACR,GAAG;gCACH,MAAK;gCACL,QAAQ,YAAY,WAAW,CAAC,KAAK;gCACrC,aAAa;gCACb,MAAK;;;;;;0CAEP,8OAAC,yKAAW;gCACV,uBAAS,8OAAC,gLAAkB;oCAAC,eAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAKnD,8OAAC,uKAAU;0BACT,cAAA,8OAAC;oBAAE,WAAU;8BAAW,OAAO,OAAO;;;;;;;;;;;;;;;;;AAI9C","debugId":null}},
    {"offset": {"line": 4503, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/lib/color.ts"],"sourcesContent":["/**\n * COLORS constant\n *\n * All colors are taken from Tailwind CSS's palette at the -500 shade.\n * For example, RED is tailwind's red-500, BLUE is blue-500, etc.\n */\nexport const COLORS = {\n  RED: \"#dc2626\", // tailwind red-500\n  ORANGE: \"#ea580c\", // tailwind orange-500\n  AMBER: \"#d97706\", // tailwind amber-500\n  YELLOW: \"#ca8a04\", // tailwind yellow-500\n  LIME: \"#65a30d\", // tailwind lime-500\n  GREEN: \"#16a34a\", // tailwind green-500\n  EMERALD: \"#059669\", // tailwind emerald-500\n  TEAL: \"#0d9488\", // tailwind teal-500\n  CYAN: \"#0891b2\", // tailwind cyan-500\n  SKY: \"#0284c7\", // tailwind sky-500\n  BLUE: \"#2563eb\", // tailwind blue-500\n  INDIGO: \"#4f46e5\", // tailwind indigo-500\n  VIOLET: \"#7c3aed\", // tailwind violet-500\n  PURPLE: \"#9333ea\", // tailwind purple-500\n  FUCHSIA: \"#c026d3\", // tailwind fuchsia-500\n  PINK: \"#db2777\", // tailwind pink-500\n  ROSE: \"#e11d48\", // tailwind rose-500\n};\n\n// Define a constant array of color keys at module level\nconst COLOR_KEYS = Object.keys(COLORS) as Array<keyof typeof COLORS>;\n\n/**\n * Get a color from the COLORS object\n * @param color - The key of the color to get\n * @returns The color value\n */\nexport function getColor(color: keyof typeof COLORS) {\n  return COLORS[color.toUpperCase() as keyof typeof COLORS];\n}\n\n/**\n * Get a random color from the COLORS object\n * @param exclude - The keys of the colors to exclude\n * @param seed - A seed for deterministic selection\n * @returns The random color value\n */\nexport function randomColor(\n  exclude?: (keyof typeof COLORS)[],\n  seed?: string | number\n) {\n  const availableKeys = COLOR_KEYS.filter(\n    (key) => !exclude?.some((excludeKey) => excludeKey === key)\n  );\n\n  if (availableKeys.length === 0) {\n    return COLORS[COLOR_KEYS[0]];\n  }\n\n  // Deterministic hash-based selection\n  let seedNum = 0;\n  if (typeof seed === \"number\") {\n    seedNum = seed;\n  } else if (seed) {\n    seedNum = Array.from(seed).reduce(\n      (acc, char) => acc + char.charCodeAt(0),\n      0\n    );\n  }\n  const index = seedNum % availableKeys.length;\n\n  return COLORS[availableKeys[index]];\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;AACM,MAAM,SAAS;IACpB,KAAK;IACL,QAAQ;IACR,OAAO;IACP,QAAQ;IACR,MAAM;IACN,OAAO;IACP,SAAS;IACT,MAAM;IACN,MAAM;IACN,KAAK;IACL,MAAM;IACN,QAAQ;IACR,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,MAAM;IACN,MAAM;AACR;AAEA,wDAAwD;AACxD,MAAM,aAAa,OAAO,IAAI,CAAC;AAOxB,SAAS,SAAS,KAA0B;IACjD,OAAO,MAAM,CAAC,MAAM,WAAW,GAA0B;AAC3D;AAQO,SAAS,YACd,OAAiC,EACjC,IAAsB;IAEtB,MAAM,gBAAgB,WAAW,MAAM,CACrC,CAAC,MAAQ,CAAC,SAAS,KAAK,CAAC,aAAe,eAAe;IAGzD,IAAI,cAAc,MAAM,KAAK,GAAG;QAC9B,OAAO,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;IAC9B;IAEA,qCAAqC;IACrC,IAAI,UAAU;IACd,IAAI,OAAO,SAAS,UAAU;QAC5B,UAAU;IACZ,OAAO,IAAI,MAAM;QACf,UAAU,MAAM,IAAI,CAAC,MAAM,MAAM,CAC/B,CAAC,KAAK,OAAS,MAAM,KAAK,UAAU,CAAC,IACrC;IAEJ;IACA,MAAM,QAAQ,UAAU,cAAc,MAAM;IAE5C,OAAO,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC;AACrC","debugId":null}},
    {"offset": {"line": 4559, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/_data/index.ts"],"sourcesContent":["// origin point O(0, 0, 0)\nexport const ORIGIN_COLOR = {\n  LIGHT: \"#f4f4f5\",\n  DARK: \"#18181b\",\n};\n\n// Needs to load the fonts through URLs, not direct file system paths\n// Font path for the 3D text\nexport const FONT_PATH = \"/fonts/Geist-Regular.ttf\";\nexport const MONO_FONT_PATH = \"/fonts/GeistMono-Regular.ttf\";\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;;AACnB,MAAM,eAAe;IAC1B,OAAO;IACP,MAAM;AACR;AAIO,MAAM,YAAY;AAClB,MAAM,iBAAiB","debugId":null}},
    {"offset": {"line": 4578, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/axes.tsx"],"sourcesContent":["\"use client\";\n\nimport { Line, Text } from \"@react-three/drei\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { COLORS } from \"@repo/design-system/lib/color\";\nimport { type ComponentProps, useMemo, useRef } from \"react\";\nimport { type Group, MeshBasicMaterial, Vector3 } from \"three\";\nimport { FONT_PATH, MONO_FONT_PATH } from \"./_data\";\n\n// Shared materials cache for text components\nconst textMaterialCache = new Map<string, MeshBasicMaterial>();\n\nfunction getTextMaterial(color: string): MeshBasicMaterial {\n  if (!textMaterialCache.has(color)) {\n    textMaterialCache.set(color, new MeshBasicMaterial({ color }));\n  }\n  const material = textMaterialCache.get(color);\n  if (!material) {\n    throw new Error(`Text material not found for color: ${color}`);\n  }\n  return material;\n}\n\nexport function Axes({\n  size = 10,\n  showLabels = true,\n  showZAxis = true,\n  labelSize = 0.5,\n  labelOffset = 0.5,\n  font = \"mono\",\n  ...props\n}: {\n  size?: number;\n  showLabels?: boolean;\n  showZAxis?: boolean;\n  labelSize?: number;\n  labelOffset?: number;\n  font?: \"mono\" | \"sans\";\n} & ComponentProps<\"group\">) {\n  const groupRef = useRef<Group>(null);\n\n  // Create points for each axis (now extending in both positive and negative directions)\n  const xPoints = useMemo(\n    () => [new Vector3(-size, 0, 0), new Vector3(size, 0, 0)],\n    [size]\n  );\n\n  const yPoints = useMemo(\n    () => [new Vector3(0, -size, 0), new Vector3(0, size, 0)],\n    [size]\n  );\n\n  const zPoints = useMemo(\n    () => [new Vector3(0, 0, -size), new Vector3(0, 0, size)],\n    [size]\n  );\n\n  const fontToUse = font === \"mono\" ? MONO_FONT_PATH : FONT_PATH;\n\n  // Memoize label positions to avoid recreating them\n  const labelPositions = useMemo(() => {\n    const offset = size + labelOffset;\n    return {\n      xPos: [offset, 0, 0] as [number, number, number],\n      xNeg: [-offset, 0, 0] as [number, number, number],\n      yPos: [0, offset, 0] as [number, number, number],\n      yNeg: [0, -offset, 0] as [number, number, number],\n      zPos: [0, 0, offset] as [number, number, number],\n      zNeg: [0, 0, -offset] as [number, number, number],\n    };\n  }, [size, labelOffset]);\n\n  // Enable frustum culling for the entire group\n  useFrame(() => {\n    if (groupRef.current) {\n      groupRef.current.frustumCulled = true;\n    }\n  });\n\n  // Get shared materials for text\n  const redMaterial = getTextMaterial(COLORS.RED);\n  const greenMaterial = getTextMaterial(COLORS.GREEN);\n  const blueMaterial = getTextMaterial(COLORS.BLUE);\n\n  return (\n    <group ref={groupRef} {...props}>\n      {/* Axis lines with frustum culling */}\n      <Line color={COLORS.RED} frustumCulled lineWidth={2} points={xPoints} />\n      <Line color={COLORS.GREEN} frustumCulled lineWidth={2} points={yPoints} />\n      <Line\n        color={COLORS.BLUE}\n        frustumCulled\n        lineWidth={2}\n        points={zPoints}\n        visible={showZAxis}\n      />\n\n      {/* X-axis labels */}\n      <Text\n        anchorX=\"left\"\n        color={COLORS.RED}\n        font={fontToUse}\n        fontSize={labelSize}\n        frustumCulled\n        material={redMaterial}\n        position={labelPositions.xPos}\n        visible={showLabels}\n      >\n        X\n      </Text>\n      <Text\n        anchorX=\"right\"\n        color={COLORS.RED}\n        font={fontToUse}\n        fontSize={labelSize}\n        frustumCulled\n        material={redMaterial}\n        position={labelPositions.xNeg}\n        visible={showLabels}\n      >\n        -X\n      </Text>\n\n      {/* Y-axis labels */}\n      <Text\n        anchorX=\"left\"\n        color={COLORS.GREEN}\n        font={fontToUse}\n        fontSize={labelSize}\n        frustumCulled\n        material={greenMaterial}\n        position={labelPositions.yPos}\n        visible={showLabels}\n      >\n        Y\n      </Text>\n      <Text\n        anchorX=\"left\"\n        color={COLORS.GREEN}\n        font={fontToUse}\n        fontSize={labelSize}\n        frustumCulled\n        material={greenMaterial}\n        position={labelPositions.yNeg}\n        visible={showLabels}\n      >\n        -Y\n      </Text>\n\n      {/* Z-axis labels */}\n      <Text\n        anchorX=\"left\"\n        color={COLORS.BLUE}\n        font={fontToUse}\n        fontSize={labelSize}\n        frustumCulled\n        material={blueMaterial}\n        position={labelPositions.zPos}\n        visible={showZAxis && showLabels}\n      >\n        Z\n      </Text>\n      <Text\n        anchorX=\"left\"\n        color={COLORS.BLUE}\n        font={fontToUse}\n        fontSize={labelSize}\n        frustumCulled\n        material={blueMaterial}\n        position={labelPositions.zNeg}\n        visible={showZAxis && showLabels}\n      >\n        -Z\n      </Text>\n    </group>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4819, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/camera-controls.tsx"],"sourcesContent":["\"use client\";\n\nimport { OrbitControls, PerspectiveCamera } from \"@react-three/drei\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport { useRef } from \"react\";\nimport type { OrbitControls as OrbitControlsImpl } from \"three-stdlib\";\n\nconst DEFAULT_CAMERA_X = 12;\nconst DEFAULT_CAMERA_Y = 8;\nconst DEFAULT_CAMERA_Z = 12;\n\nexport function CameraControls({\n  cameraPosition = [DEFAULT_CAMERA_X, DEFAULT_CAMERA_Y, DEFAULT_CAMERA_Z],\n  autoRotate = true,\n}: {\n  cameraPosition?: [number, number, number];\n  autoRotate?: boolean;\n}) {\n  const controlsRef = useRef<OrbitControlsImpl>(null);\n  const { invalidate, performance } = useThree();\n\n  // Handle auto-rotation with proper invalidation for on-demand rendering\n  useFrame(() => {\n    if (autoRotate && controlsRef.current) {\n      // Trigger performance regression during auto-rotation\n      performance.regress();\n      // Only invalidate if auto-rotate is actually changing something\n      controlsRef.current.update();\n      invalidate();\n    }\n  });\n\n  const handleChange = () => {\n    // Trigger performance regression on control changes (movement)\n    performance.regress();\n    invalidate();\n  };\n\n  return (\n    <>\n      <PerspectiveCamera fov={50} makeDefault position={cameraPosition} />\n      <OrbitControls\n        autoRotate={autoRotate}\n        autoRotateSpeed={0.5}\n        dampingFactor={0.05}\n        enableDamping\n        enableZoom={true}\n        makeDefault\n        maxDistance={100}\n        minDistance={1}\n        onChange={handleChange}\n        ref={controlsRef}\n        screenSpacePanning={true}\n        zoomSpeed={1.25}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAAA;AACA;AAJA;;;;;AAOA,MAAM,mBAAmB;AACzB,MAAM,mBAAmB;AACzB,MAAM,mBAAmB;AAElB,SAAS,eAAe,EAC7B,iBAAiB;IAAC;IAAkB;IAAkB;CAAiB,EACvE,aAAa,IAAI,EAIlB;IACC,MAAM,cAAc,IAAA,+MAAM,EAAoB;IAC9C,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,IAAA,2NAAQ;IAE5C,wEAAwE;IACxE,IAAA,2NAAQ,EAAC;QACP,IAAI,cAAc,YAAY,OAAO,EAAE;YACrC,sDAAsD;YACtD,YAAY,OAAO;YACnB,gEAAgE;YAChE,YAAY,OAAO,CAAC,MAAM;YAC1B;QACF;IACF;IAEA,MAAM,eAAe;QACnB,+DAA+D;QAC/D,YAAY,OAAO;QACnB;IACF;IAEA,qBACE;;0BACE,8OAAC,0LAAiB;gBAAC,KAAK;gBAAI,WAAW;gBAAC,UAAU;;;;;;0BAClD,8OAAC,kLAAa;gBACZ,YAAY;gBACZ,iBAAiB;gBACjB,eAAe;gBACf,aAAa;gBACb,YAAY;gBACZ,WAAW;gBACX,aAAa;gBACb,aAAa;gBACb,UAAU;gBACV,KAAK;gBACL,oBAAoB;gBACpB,WAAW;;;;;;;;AAInB","debugId":null}},
    {"offset": {"line": 4895, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/canvas.tsx"],"sourcesContent":["\"use client\";\n\nimport { AdaptiveDpr } from \"@react-three/drei\";\nimport { Canvas, type CanvasProps } from \"@react-three/fiber\";\nimport {\n  Button,\n  buttonVariants,\n} from \"@repo/design-system/components/ui/button\";\nimport { cn } from \"@repo/design-system/lib/utils\";\nimport { FrownIcon } from \"lucide-react\";\nimport dynamic from \"next/dynamic\";\nimport { useTranslations } from \"next-intl\";\nimport type { ReactNode } from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { SpinnerIcon } from \"../ui/icons\";\n\nfunction ErrorFallback({\n  error,\n  resetErrorBoundary,\n}: {\n  error: Error;\n  resetErrorBoundary: () => void;\n}) {\n  const t = useTranslations(\"Error\");\n  return (\n    <div className=\"flex h-full w-full flex-col items-center justify-center p-4 text-center\">\n      <div className=\"space-y-4 text-center\">\n        <h1 className=\"font-bold font-mono text-2xl text-primary\">5XX</h1>\n\n        <div className=\"space-y-2\">\n          <h2 className=\"font-mono font-semibold tracking-tight\">\n            {t(\"title\")}\n          </h2>\n\n          <p className=\"mx-auto max-w-md text-muted-foreground text-sm\">\n            {error.message}\n          </p>\n        </div>\n\n        <div className=\"mx-auto grid w-fit grid-cols-2 gap-2\">\n          <Button onClick={resetErrorBoundary} size=\"sm\" variant=\"secondary\">\n            {t(\"retry\")}\n          </Button>\n          <a\n            className={cn(buttonVariants({ variant: \"secondary\", size: \"sm\" }))}\n            href=\"https://github.com/nakafaai/nakafa.com/issues\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n            title={t(\"report\")}\n          >\n            {t(\"report\")}\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ThreeCanvasComponent({\n  children,\n  frameloop = \"demand\",\n  ...props\n}: {\n  children: ReactNode;\n  frameloop?: \"always\" | \"demand\" | \"never\";\n} & CanvasProps) {\n  return (\n    <ErrorBoundary\n      fallbackRender={({ error, resetErrorBoundary }) => (\n        <ErrorFallback error={error} resetErrorBoundary={resetErrorBoundary} />\n      )}\n    >\n      <Canvas\n        fallback={\n          <div className=\"flex h-full w-full items-center justify-center\">\n            <FrownIcon aria-hidden=\"true\" className=\"size-6 shrink-0\" />\n          </div>\n        }\n        frameloop={frameloop}\n        gl={{\n          antialias: true,\n          powerPreference: \"high-performance\",\n          alpha: true,\n        }}\n        performance={{\n          min: 0.8,\n          max: 1.0,\n          debounce: 100,\n        }}\n        shadows\n        {...props}\n      >\n        <AdaptiveDpr />\n        {children}\n      </Canvas>\n    </ErrorBoundary>\n  );\n}\n\nexport const ThreeCanvas = dynamic(\n  () => Promise.resolve(ThreeCanvasComponent),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"flex h-full w-full items-center justify-center\">\n        <SpinnerIcon aria-hidden=\"true\" className=\"size-6 shrink-0\" />\n      </div>\n    ),\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AAdA;;;;;;;;;;;AAgBA,SAAS,cAAc,EACrB,KAAK,EACL,kBAAkB,EAInB;IACC,MAAM,IAAI,IAAA,yNAAe,EAAC;IAC1B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAE1D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,EAAE;;;;;;sCAGL,8OAAC;4BAAE,WAAU;sCACV,MAAM,OAAO;;;;;;;;;;;;8BAIlB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qKAAM;4BAAC,SAAS;4BAAoB,MAAK;4BAAK,SAAQ;sCACpD,EAAE;;;;;;sCAEL,8OAAC;4BACC,WAAW,IAAA,kJAAE,EAAC,IAAA,6KAAc,EAAC;gCAAE,SAAS;gCAAa,MAAM;4BAAK;4BAChE,MAAK;4BACL,KAAI;4BACJ,QAAO;4BACP,OAAO,EAAE;sCAER,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAMf;AAEA,SAAS,qBAAqB,EAC5B,QAAQ,EACR,YAAY,QAAQ,EACpB,GAAG,OAIU;IACb,qBACE,8OAAC,gNAAa;QACZ,gBAAgB,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE,iBAC5C,8OAAC;gBAAc,OAAO;gBAAO,oBAAoB;;;;;;kBAGnD,cAAA,8OAAC,6MAAM;YACL,wBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,qNAAS;oBAAC,eAAY;oBAAO,WAAU;;;;;;;;;;;YAG5C,WAAW;YACX,IAAI;gBACF,WAAW;gBACX,iBAAiB;gBACjB,OAAO;YACT;YACA,aAAa;gBACX,KAAK;gBACL,KAAK;gBACL,UAAU;YACZ;YACA,OAAO;YACN,GAAG,KAAK;;8BAET,8OAAC,8KAAW;;;;;gBACX;;;;;;;;;;;;AAIT;AAEO,MAAM,cAAc,IAAA,0KAAO,EAChC,IAAM,QAAQ,OAAO,CAAC,uBACtB;IACE,KAAK;IACL,SAAS,kBACP,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,yKAAW;gBAAC,eAAY;gBAAO,WAAU;;;;;;;;;;;AAGhD","debugId":null}},
    {"offset": {"line": 5086, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/origin.tsx"],"sourcesContent":["import type { ComponentProps } from \"react\";\nimport { ORIGIN_COLOR } from \"./_data\";\n\nconst SPHERE_GEOMETRY_SEGMENTS = 16;\n\nexport function Origin({\n  size = 0.2,\n  color = ORIGIN_COLOR.LIGHT,\n  ...props\n}: {\n  size?: number;\n  color?: string;\n} & ComponentProps<\"mesh\">) {\n  return (\n    <mesh {...props}>\n      <sphereGeometry\n        args={[size, SPHERE_GEOMETRY_SEGMENTS, SPHERE_GEOMETRY_SEGMENTS]}\n      />\n      <meshBasicMaterial color={color} />\n    </mesh>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,MAAM,2BAA2B;AAE1B,SAAS,OAAO,EACrB,OAAO,GAAG,EACV,QAAQ,qLAAY,CAAC,KAAK,EAC1B,GAAG,OAIqB;IACxB,qBACE,8OAAC;QAAM,GAAG,KAAK;;0BACb,8OAAC;gBACC,MAAM;oBAAC;oBAAM;oBAA0B;iBAAyB;;;;;;0BAElE,8OAAC;gBAAkB,OAAO;;;;;;;;;;;;AAGhC","debugId":null}},
    {"offset": {"line": 5128, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/coordinate-system.tsx"],"sourcesContent":["\"use client\";\n\nimport { GizmoHelper, GizmoViewport, Grid } from \"@react-three/drei\";\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport { COLORS } from \"@repo/design-system/lib/color\";\nimport { cn } from \"@repo/design-system/lib/utils\";\nimport { Grid2X2XIcon, Grid2x2Icon, PauseIcon, PlayIcon } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport {\n  type CSSProperties,\n  type ReactNode,\n  Suspense,\n  useCallback,\n  useMemo,\n  useState,\n} from \"react\";\nimport { ORIGIN_COLOR } from \"./_data\";\nimport { Axes } from \"./axes\";\nimport { CameraControls } from \"./camera-controls\";\nimport { ThreeCanvas } from \"./canvas\";\nimport { Origin } from \"./origin\";\n\nconst GIZMO_MARGIN = 56;\nconst SCENE_READY_DELAY = 100;\nconst CAMERA_POSITION_X = 12;\nconst CAMERA_POSITION_Y = 8;\nconst CAMERA_POSITION_Z = 12;\n\ntype Props = {\n  /** Show the grid planes */\n  showGrid?: boolean;\n  /** Show the coordinate axes */\n  showAxes?: boolean;\n  /** Show the z-axis */\n  showZAxis?: boolean;\n  /** Show the origin point */\n  showOrigin?: boolean;\n  /** Show axis labels */\n  showLabels?: boolean;\n  /** Show the gizmo helper for orientation */\n  showGizmo?: boolean;\n  /** Size of the grid */\n  gridSize?: number;\n  /** Divisions of the grid */\n  gridDivisions?: number;\n  /** Size of the coordinate system */\n  size?: number;\n  /** Background color of the canvas */\n  backgroundColor?: CSSProperties[\"backgroundColor\"];\n  /** Custom camera position */\n  cameraPosition?: [number, number, number];\n  /** Font to use for labels and text\n   *\n   * @default \"mono\"\n   */\n  font?: \"mono\" | \"sans\";\n  /** Children elements to render inside the coordinate system */\n  children?: ReactNode;\n  /** Additional class name */\n  className?: string;\n};\n\nexport function CoordinateSystem({\n  showGrid: initialShowGrid = true,\n  showAxes = true,\n  showZAxis = true,\n  showOrigin = true,\n  showLabels = true,\n  showGizmo = true,\n  gridSize = 15,\n  gridDivisions = 15,\n  size = 15,\n  backgroundColor = \"transparent\",\n  cameraPosition = [CAMERA_POSITION_X, CAMERA_POSITION_Y, CAMERA_POSITION_Z],\n  font = \"mono\",\n  children,\n  className,\n}: Props) {\n  const { resolvedTheme } = useTheme();\n  const [showGrid, setShowGrid] = useState(initialShowGrid);\n  const [play, setPlay] = useState(false);\n  const [sceneReady, setSceneReady] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Color mapping based on color scheme\n  const gridColors = useMemo(() => {\n    switch (resolvedTheme) {\n      case \"dark\":\n        return {\n          main: \"#404040\",\n          secondary: \"#262626\",\n        };\n      default:\n        return {\n          main: \"#d4d4d4\",\n          secondary: \"#e5e5e5\",\n        };\n    }\n  }, [resolvedTheme]);\n\n  // Origin point color based on theme\n  const originColor = useMemo(\n    () => (resolvedTheme === \"dark\" ? ORIGIN_COLOR.LIGHT : ORIGIN_COLOR.DARK),\n    [resolvedTheme]\n  );\n\n  // Handle button clicks with proper invalidation for on-demand rendering\n  const handleGridToggle = useCallback(() => {\n    setShowGrid(!showGrid);\n  }, [showGrid]);\n\n  const handlePlayToggle = useCallback(() => {\n    setPlay(!play);\n  }, [play]);\n\n  // Handle pointer events for cursor changes\n  const handlePointerDown = useCallback(() => {\n    setIsDragging(true);\n  }, []);\n\n  const handlePointerUp = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  return (\n    <div\n      className={cn(\n        \"relative grid aspect-square overflow-hidden rounded-md sm:aspect-[1.43/1]\", // IMAX aspect ratio\n        isDragging ? \"cursor-grabbing\" : \"cursor-grab\",\n        className\n      )}\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n    >\n      <ThreeCanvas\n        onCreated={() =>\n          setTimeout(() => setSceneReady(true), SCENE_READY_DELAY)\n        }\n        style={{ background: backgroundColor }}\n      >\n        <Suspense fallback={null}>\n          {/* Camera Controls */}\n          <CameraControls autoRotate={play} cameraPosition={cameraPosition} />\n\n          {/* Lighting */}\n          <ambientLight intensity={0.5} />\n          <pointLight castShadow intensity={1} position={[10, 10, 10]} />\n\n          {/* Coordinate System */}\n          <Axes\n            font={font}\n            showLabels={showLabels}\n            showZAxis={showZAxis}\n            size={size}\n            visible={showAxes}\n          />\n\n          {/* Origin */}\n          <Origin color={originColor} visible={showOrigin} />\n\n          {/* Grid */}\n          <Grid\n            args={[gridSize * 2, gridSize * 2, gridDivisions, gridDivisions]}\n            cellColor={gridColors.secondary}\n            fadeDistance={50}\n            fadeStrength={1}\n            position={[0, 0, 0]}\n            rotation={[0, 0, 0]}\n            sectionColor={gridColors.main}\n            visible={showGrid}\n          />\n          <Grid\n            args={[gridSize * 2, gridSize * 2, gridDivisions, gridDivisions]}\n            cellColor={gridColors.secondary}\n            fadeDistance={50}\n            fadeStrength={1}\n            position={[0, 0, 0]}\n            rotation={[Math.PI / 2, 0, 0]}\n            sectionColor={gridColors.main}\n            visible={showGrid}\n          />\n          <Grid\n            args={[gridSize * 2, gridSize * 2, gridDivisions, gridDivisions]}\n            cellColor={gridColors.secondary}\n            fadeDistance={50}\n            fadeStrength={1}\n            position={[0, 0, 0]}\n            rotation={[0, 0, Math.PI / 2]}\n            sectionColor={gridColors.main}\n            visible={showGrid}\n          />\n\n          {/* User Content */}\n          {children}\n\n          {/* Orientation Helper */}\n          <GizmoHelper\n            alignment=\"bottom-right\"\n            margin={[GIZMO_MARGIN, GIZMO_MARGIN]}\n            visible={showGizmo}\n          >\n            <GizmoViewport\n              axisColors={[COLORS.RED, COLORS.GREEN, COLORS.BLUE]}\n              labelColor={ORIGIN_COLOR.LIGHT}\n            />\n          </GizmoHelper>\n        </Suspense>\n      </ThreeCanvas>\n\n      {/* UI Controls */}\n      <div\n        className={cn(\n          \"absolute bottom-3 left-3 flex gap-2 transition-opacity duration-300 ease-out\",\n          sceneReady ? \"opacity-100\" : \"opacity-0\"\n        )}\n      >\n        <Button onClick={handleGridToggle} size=\"icon\" variant=\"secondary\">\n          {showGrid ? (\n            <Grid2x2Icon className=\"size-4\" />\n          ) : (\n            <Grid2X2XIcon className=\"size-4\" />\n          )}\n          <span className=\"sr-only\">Toggle Grid</span>\n        </Button>\n        <Button\n          onClick={handlePlayToggle}\n          size=\"icon\"\n          variant={play ? \"secondary\" : \"default\"}\n        >\n          {play ? (\n            <PauseIcon className=\"size-4\" />\n          ) : (\n            <PlayIcon className=\"size-4\" />\n          )}\n          <span className=\"sr-only\">Toggle Play</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5479, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/line-equation.tsx"],"sourcesContent":["\"use client\";\n\nimport { Instance, Instances, Line, Text } from \"@react-three/drei\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { randomColor } from \"@repo/design-system/lib/color\";\nimport { useMemo, useRef } from \"react\";\nimport {\n  CatmullRomCurve3,\n  Color,\n  ConeGeometry,\n  type Group,\n  MeshBasicMaterial,\n  Quaternion,\n  SphereGeometry,\n  Vector3,\n} from \"three\";\nimport { FONT_PATH, MONO_FONT_PATH } from \"./_data\";\n\nconst SPHERE_GEOMETRY_RADIUS = 0.1;\nconst SPHERE_GEOMETRY_SEGMENTS = 8;\nconst CONE_GEOMETRY_SEGMENTS = 16;\nconst CONE_GEOMETRY_HEIGHT_SEGMENTS = 1;\nconst DEFAULT_ARROW_SIZE = 0.5;\nconst DEFAULT_FONT_SIZE = 0.5;\n\n// Shared geometry cache\nlet sharedSphereGeometry: SphereGeometry | null = null;\nconst sharedConeGeometries = new Map<string, ConeGeometry>();\nconst sharedMaterials = new Map<string, MeshBasicMaterial>();\n\nfunction getSharedSphereGeometry(): SphereGeometry {\n  if (!sharedSphereGeometry) {\n    // Reduced segments for better performance\n    sharedSphereGeometry = new SphereGeometry(\n      SPHERE_GEOMETRY_RADIUS,\n      SPHERE_GEOMETRY_SEGMENTS,\n      SPHERE_GEOMETRY_SEGMENTS\n    );\n  }\n  return sharedSphereGeometry;\n}\n\nfunction getSharedConeGeometry(size: number): ConeGeometry {\n  const key = `cone-${size}`;\n  if (!sharedConeGeometries.has(key)) {\n    // Reduced segments for better performance\n    sharedConeGeometries.set(\n      key,\n      new ConeGeometry(\n        size / 2,\n        size,\n        CONE_GEOMETRY_SEGMENTS,\n        CONE_GEOMETRY_HEIGHT_SEGMENTS\n      )\n    );\n  }\n  const geometry = sharedConeGeometries.get(key);\n  if (!geometry) {\n    throw new Error(`Cone geometry not found for size: ${size}`);\n  }\n  return geometry;\n}\n\nfunction getSharedMaterial(color: string | Color): MeshBasicMaterial {\n  const colorKey = color instanceof Color ? color.getHexString() : color;\n  if (!sharedMaterials.has(colorKey)) {\n    sharedMaterials.set(\n      colorKey,\n      new MeshBasicMaterial({\n        color: color instanceof Color ? color : new Color(color),\n      })\n    );\n  }\n  const material = sharedMaterials.get(colorKey);\n  if (!material) {\n    throw new Error(`Material not found for color: ${colorKey}`);\n  }\n  return material;\n}\n\nexport type Props = {\n  points: {\n    x: number;\n    y: number;\n    z: number;\n  }[];\n  color?: string | Color;\n  lineWidth?: number;\n  /**\n   * Whether to use the mono font for the labels\n   */\n  useMonoFont?: boolean;\n  showPoints?: boolean;\n  /**\n   * Whether to render the line as a smooth curve using CatmullRomCurve3\n   */\n  smooth?: boolean;\n  /**\n   * Number of points to use for the curve when smooth is true\n   * Higher values will create a smoother curve but may impact performance\n   */\n  curvePoints?: number;\n  /**\n   * Optional array of labels to render along the line. Each can specify the index of the point\n   * at which to render (defaults to midpoint), optional offset, and text styling.\n   */\n  labels?: Array<{\n    /** Text to display */\n    text: string;\n    /** Optional index into the `points` array where this label should appear; defaults to midpoint */\n    at?: number;\n    /** Optional [x,y,z] offset applied on top of the base point position */\n    offset?: [number, number, number];\n    /** Color for the label text */\n    color?: string | Color;\n    /** Font size of the label text */\n    fontSize?: number;\n  }>;\n  /**\n   * Optional cone arrowhead configuration.\n   */\n  cone?: {\n    /** Position of the cone arrowhead */\n    position: \"start\" | \"end\" | \"both\";\n    /** Size of the arrowhead */\n    size?: number;\n  };\n};\n\nexport function LineEquation({\n  points,\n  color = randomColor([\"YELLOW\", \"GREEN\", \"BLUE\"]),\n  lineWidth = 2,\n  showPoints = true,\n  smooth = true,\n  curvePoints = 30, // Reduced default from 50 for better performance\n  labels = [],\n  useMonoFont = true,\n  cone,\n}: Props) {\n  const groupRef = useRef<Group>(null);\n\n  const vectorPoints = useMemo(\n    () => points.map((point) => new Vector3(point.x, point.y, point.z)),\n    [points]\n  );\n\n  // Define cone size (default to 0.5 if not provided in cone prop)\n  const arrowSize = cone?.size ?? DEFAULT_ARROW_SIZE;\n\n  // Generate smooth curve points if smooth is true\n  const linePoints = useMemo(() => {\n    if (vectorPoints.length < 2) {\n      return vectorPoints;\n    }\n\n    let basePoints: Vector3[];\n\n    if (smooth) {\n      // Use CatmullRomCurve3 for smooth curves\n      const curve = new CatmullRomCurve3(vectorPoints);\n      basePoints = curve.getPoints(curvePoints);\n    } else {\n      // For non-smooth lines, use the original points directly\n      basePoints = [...vectorPoints];\n    }\n\n    // Adjust line end points to account for the cone size to prevent overlap\n    if (cone) {\n      if (\n        (cone.position === \"start\" || cone.position === \"both\") &&\n        basePoints.length >= 2\n      ) {\n        const startPoint = basePoints[0];\n        const nextPoint = basePoints[1];\n        const direction = new Vector3()\n          .subVectors(nextPoint, startPoint)\n          .normalize();\n        basePoints[0] = startPoint\n          .clone()\n          .add(direction.multiplyScalar(arrowSize)); // Move start point forward\n      }\n\n      if (\n        (cone.position === \"end\" || cone.position === \"both\") &&\n        basePoints.length >= 2\n      ) {\n        const endPoint = basePoints.at(-1);\n        const prevPoint = basePoints.at(-2);\n        // Ensure points exist\n        if (!(endPoint && prevPoint)) {\n          return basePoints; // Return unmodified points if check fails\n        }\n\n        const direction = new Vector3()\n          .subVectors(endPoint, prevPoint)\n          .normalize();\n        // Find the index of the last point to modify it directly\n        const lastIndex = basePoints.length - 1;\n        basePoints[lastIndex] = endPoint\n          .clone()\n          .sub(direction.multiplyScalar(arrowSize)); // Move end point backward\n      }\n    }\n    return basePoints;\n  }, [vectorPoints, smooth, curvePoints, cone, arrowSize]);\n\n  const fontPath = useMonoFont ? MONO_FONT_PATH : FONT_PATH;\n\n  // Use shared geometry and materials\n  const pointGeom = getSharedSphereGeometry();\n  const pointMat = getSharedMaterial(color);\n\n  // Cone geometry and material (reused from ArrowHelper logic)\n  const coneGeometry = useMemo(\n    () => (cone ? getSharedConeGeometry(arrowSize) : null),\n    [cone, arrowSize]\n  );\n  const coneMaterial = useMemo(\n    () => (cone ? getSharedMaterial(color) : null),\n    [cone, color]\n  );\n\n  // Calculate cone position and orientation\n  const coneData = useMemo(() => {\n    if (!cone || vectorPoints.length < 2) {\n      return null;\n    }\n\n    const cones: { position: Vector3; quaternion: Quaternion }[] = [];\n\n    // Add start cone if position is \"start\" or \"both\"\n    if (cone.position === \"start\" || cone.position === \"both\") {\n      const targetPoint = vectorPoints[0];\n      const nextPoint = vectorPoints[1];\n      // Ensure points exist (should always be true here due to length check)\n      if (targetPoint && nextPoint) {\n        const direction = new Vector3()\n          .subVectors(nextPoint, targetPoint)\n          .normalize();\n        // For start cone: position it so its tip is at the original start point\n        // The cone points backwards (opposite to line direction)\n        const conePosition = new Vector3()\n          .copy(targetPoint)\n          .add(direction.clone().multiplyScalar(arrowSize / 2));\n        const quaternion = new Quaternion().setFromUnitVectors(\n          new Vector3(0, 1, 0),\n          direction.clone().negate()\n        );\n        cones.push({ position: conePosition, quaternion });\n      }\n    }\n\n    // Add end cone if position is \"end\" or \"both\"\n    if (cone.position === \"end\" || cone.position === \"both\") {\n      const targetPoint = vectorPoints.at(-1);\n      const prevPoint = vectorPoints.at(-2);\n\n      // Ensure both points exist before proceeding\n      if (targetPoint && prevPoint) {\n        const direction = new Vector3()\n          .subVectors(targetPoint, prevPoint)\n          .normalize();\n        const conePosition = new Vector3()\n          .copy(targetPoint)\n          .sub(direction.clone().multiplyScalar(arrowSize / 2));\n        const quaternion = new Quaternion().setFromUnitVectors(\n          new Vector3(0, 1, 0),\n          direction\n        );\n        cones.push({ position: conePosition, quaternion });\n      }\n    }\n\n    return cones.length > 0 ? cones : null;\n  }, [cone, vectorPoints, arrowSize]);\n\n  // Enable frustum culling for the entire group\n  useFrame(() => {\n    if (groupRef.current) {\n      groupRef.current.frustumCulled = true;\n    }\n  });\n\n  // Pre-calculate label data to avoid recreating in render\n  const labelData = useMemo(\n    () =>\n      labels\n        .map((label, idx) => {\n          const mid = Math.floor(vectorPoints.length / 2);\n          const index = label.at ?? mid;\n          const base = vectorPoints[index];\n          if (!base) {\n            return null;\n          }\n          const [ox = 0, oy = 0, oz = 0] = label.offset || [0, 0, 0];\n          const pos: [number, number, number] = [\n            base.x + ox,\n            base.y + oy,\n            base.z + oz,\n          ];\n          return {\n            key: `label-${idx}`,\n            position: pos,\n            color: label.color ?? color,\n            fontSize: label.fontSize ?? DEFAULT_FONT_SIZE,\n            text: label.text,\n          };\n        })\n        .filter(Boolean),\n    [labels, vectorPoints, color]\n  );\n\n  return (\n    <group ref={groupRef}>\n      {/* Draw a line connecting the provided points */}\n      <Line\n        color={color}\n        frustumCulled\n        lineWidth={lineWidth}\n        points={linePoints}\n      />\n\n      {/* Render the cone(s) if configured */}\n      {coneData &&\n        coneGeometry &&\n        coneMaterial &&\n        coneData.map((data) => (\n          <mesh\n            frustumCulled\n            geometry={coneGeometry}\n            key={`cone-${data.position.x}-${data.position.y}-${data.position.z}`}\n            material={coneMaterial}\n            position={data.position}\n            quaternion={data.quaternion}\n          />\n        ))}\n\n      {/* Optionally render a small sphere at each point */}\n      <Instances\n        count={vectorPoints.length}\n        frustumCulled\n        geometry={pointGeom}\n        material={pointMat}\n        visible={showPoints}\n      >\n        {vectorPoints.map((v, index) => (\n          <Instance\n            key={`point-${index}-${v.x}-${v.y}-${v.z}`}\n            position={[v.x, v.y, v.z]}\n          />\n        ))}\n      </Instances>\n\n      {/* Render custom labels at specified indices */}\n      {labelData.map((data) => {\n        if (!data) {\n          return null;\n        }\n        return (\n          <Text\n            anchorX=\"center\"\n            anchorY=\"middle\"\n            color={data.color}\n            font={fontPath}\n            fontSize={data.fontSize}\n            frustumCulled\n            key={data.key}\n            position={data.position}\n          >\n            {data.text}\n          </Text>\n        );\n      })}\n    </group>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5767, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/lib/device.ts"],"sourcesContent":["const MOBILE_REGEX =\n  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;\nexport function isMobileDevice(): boolean {\n  return MOBILE_REGEX.test(navigator.userAgent);\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,eACJ;AACK,SAAS;IACd,OAAO,aAAa,IAAI,CAAC,UAAU,SAAS;AAC9C","debugId":null}},
    {"offset": {"line": 5779, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/inequality.tsx"],"sourcesContent":["\"use client\";\n\nimport { Text } from \"@react-three/drei\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { COLORS } from \"@repo/design-system/lib/color\";\nimport { isMobileDevice } from \"@repo/design-system/lib/device\";\nimport { useMemo, useRef } from \"react\";\nimport {\n  BufferAttribute,\n  BufferGeometry,\n  Color,\n  DoubleSide,\n  Float32BufferAttribute,\n  type Group,\n  MeshBasicMaterial,\n} from \"three\";\nimport { FONT_PATH, MONO_FONT_PATH } from \"./_data\";\n\n// Performance tuning constants\nconst MIN_CORES_FOR_HIGH_RES = 8;\nconst MIN_CORES_FOR_MEDIUM_RES = 4;\nconst MAX_RES_MOBILE_LOW_CORE = 50;\nconst MAX_RES_MEDIUM_CORE = 100;\n\n// Default geometry values\nconst DEFAULT_RANGE_MIN = -5;\nconst DEFAULT_RANGE_MAX = 5;\n\n// Geometry calculation constants\nconst COMPONENTS_PER_VERTEX = 3;\nconst VERTICES_PER_CELL = 36;\nconst INDICES_PER_CELL = 36;\nconst LAST_VERTEX_OFFSET_IN_QUAD = 3;\n\n// 2D inequality cell check thresholds\nconst SATISFIED_CORNERS_THRESHOLD_HIGH = 3;\nconst SATISFIED_CORNERS_THRESHOLD_LOW = 2;\nconst RESOLUTION_THRESHOLD_FOR_CORNERS = 80;\n\n// Boundary line constants\nconst MAX_LINE_RESOLUTION = 50;\nconst EPSILON = 1e-10;\nconst VERTICAL_CONNECTOR_DENSITY_FACTOR = 4;\n\n// Label constants\nconst DEFAULT_LABEL_FONT_SIZE = 0.5;\n\ntype Point = [number, number, number];\n\ntype Props = {\n  /** Function that determines the boundary of the inequality (where the inequality becomes equality) */\n  boundaryFunction?: (x: number, y: number) => number;\n  /** Indicates if this is a 2D inequality (like x + y <= 10) that should be extruded along z-axis */\n  is2D?: boolean;\n  /** For 2D inequalities, specifies the boundary line function where ax + by + c = 0\n   * as [a, b, c]. For example, x + y = 10 would be [1, 1, -10] */\n  boundaryLine2D?: [number, number, number];\n  /** Range for x coordinate to visualize */\n  xRange?: [number, number];\n  /** Range for y coordinate to visualize */\n  yRange?: [number, number];\n  /** Range for z coordinate to visualize */\n  zRange?: [number, number];\n  /** Granularity of the visualization (higher means more detailed) */\n  resolution?: number;\n  /** Color for the inequality region */\n  color?: string | Color;\n  /** Color for the boundary line/plane */\n  boundaryColor?: string | Color;\n  /** Opacity of the region */\n  opacity?: number;\n  /** Width of the boundary line */\n  boundaryLineWidth?: number;\n  /** Show boundary line/plane */\n  showBoundary?: boolean;\n  /** Optional label for the inequality */\n  label?: {\n    /** Text to display */\n    text: string;\n    /** Position for the label */\n    position: [number, number, number];\n    /** Color for the label text */\n    color?: string | Color;\n    /** Font size of the label text */\n    fontSize?: number;\n  };\n  /** Whether to use the mono font for the labels */\n  useMonoFont?: boolean;\n};\n\n// Performance optimization: Adaptive resolution based on device capabilities\nfunction getAdaptiveResolution(requestedResolution: number): number {\n  // Check device capabilities\n  const isMobile = isMobileDevice();\n  const cores = navigator.hardwareConcurrency || MIN_CORES_FOR_MEDIUM_RES;\n\n  if (isMobile || cores < MIN_CORES_FOR_MEDIUM_RES) {\n    return Math.min(requestedResolution, MAX_RES_MOBILE_LOW_CORE);\n  }\n  if (cores >= MIN_CORES_FOR_HIGH_RES) {\n    return requestedResolution;\n  }\n  return Math.min(requestedResolution, MAX_RES_MEDIUM_CORE);\n}\n\nexport function Inequality({\n  boundaryFunction,\n  is2D = false,\n  boundaryLine2D,\n  xRange = [DEFAULT_RANGE_MIN, DEFAULT_RANGE_MAX],\n  yRange = [DEFAULT_RANGE_MIN, DEFAULT_RANGE_MAX],\n  zRange = [DEFAULT_RANGE_MIN, DEFAULT_RANGE_MAX],\n  resolution = 200,\n  color = COLORS.BLUE,\n  boundaryColor,\n  opacity = 0.1,\n  boundaryLineWidth = 2,\n  showBoundary = true,\n  label,\n  useMonoFont = true,\n}: Props) {\n  const fontPath = useMonoFont ? MONO_FONT_PATH : FONT_PATH;\n  const groupRef = useRef<Group>(null);\n\n  // Adaptive resolution for performance\n  const adaptiveResolution = getAdaptiveResolution(resolution);\n\n  // Create optimized buffer geometry for the inequality region\n  // biome-ignore lint/complexity/noExcessiveCognitiveComplexity: This is a complex function, but it's necessary for the inequality visualization\n  const geometry = useMemo(() => {\n    const geo = new BufferGeometry();\n    const vertices: Float32Array = new Float32Array(\n      adaptiveResolution *\n        adaptiveResolution *\n        VERTICES_PER_CELL *\n        COMPONENTS_PER_VERTEX\n    ); // Pre-allocate\n    const indices: Uint32Array = new Uint32Array(\n      adaptiveResolution * adaptiveResolution * INDICES_PER_CELL\n    ); // Pre-allocate\n    let vertexIndex = 0;\n    let indexOffset = 0;\n\n    // Define the step size based on resolution\n    const xStep = (xRange[1] - xRange[0]) / adaptiveResolution;\n    const yStep = (yRange[1] - yRange[0]) / adaptiveResolution;\n\n    // Helper function to add a quad (two triangles) to the geometry - optimized\n    const addQuad = (p1: Point, p2: Point, p3: Point, p4: Point) => {\n      const index = vertexIndex / COMPONENTS_PER_VERTEX;\n\n      // Add vertices directly to array\n      vertices[vertexIndex++] = p1[0];\n      vertices[vertexIndex++] = p1[1];\n      vertices[vertexIndex++] = p1[2];\n      vertices[vertexIndex++] = p2[0];\n      vertices[vertexIndex++] = p2[1];\n      vertices[vertexIndex++] = p2[2];\n      vertices[vertexIndex++] = p3[0];\n      vertices[vertexIndex++] = p3[1];\n      vertices[vertexIndex++] = p3[2];\n      vertices[vertexIndex++] = p4[0];\n      vertices[vertexIndex++] = p4[1];\n      vertices[vertexIndex++] = p4[2];\n\n      // Add indices for two triangles\n      indices[indexOffset++] = index;\n      indices[indexOffset++] = index + 1;\n      indices[indexOffset++] = index + 2;\n      indices[indexOffset++] = index;\n      indices[indexOffset++] = index + 2;\n      indices[indexOffset++] = index + LAST_VERTEX_OFFSET_IN_QUAD;\n    };\n\n    // Helper function to create all faces of a complete cell - optimized\n    const addCompleteCell = ({\n      x1,\n      y1,\n      x2,\n      y2,\n      z1,\n      z2,\n    }: {\n      x1: number;\n      y1: number;\n      x2: number;\n      y2: number;\n      z1: number;\n      z2: number;\n    }) => {\n      // Only add visible faces for performance (basic culling)\n      // Bottom face (at minimum z)\n      addQuad([x1, y1, z1], [x2, y1, z1], [x2, y2, z1], [x1, y2, z1]);\n\n      // Top face (at maximum z)\n      addQuad([x1, y1, z2], [x1, y2, z2], [x2, y2, z2], [x2, y1, z2]);\n\n      // Side faces - only if on boundary\n      if (Math.abs(x1 - xRange[0]) < xStep) {\n        // Left face\n        addQuad([x1, y1, z1], [x1, y1, z2], [x1, y2, z2], [x1, y2, z1]);\n      }\n      if (Math.abs(x2 - xRange[1]) < xStep) {\n        // Right face\n        addQuad([x2, y1, z1], [x2, y2, z1], [x2, y2, z2], [x2, y1, z2]);\n      }\n      if (Math.abs(y1 - yRange[0]) < yStep) {\n        // Front face\n        addQuad([x1, y1, z1], [x2, y1, z1], [x2, y1, z2], [x1, y1, z2]);\n      }\n      if (Math.abs(y2 - yRange[1]) < yStep) {\n        // Back face\n        addQuad([x1, y2, z1], [x1, y2, z2], [x2, y2, z2], [x2, y2, z1]);\n      }\n    };\n\n    if (is2D && boundaryLine2D) {\n      // Handle 2D inequality (like x + y <= 10) visualized as extruded along z-axis\n      const [a, b, c] = boundaryLine2D;\n\n      // Optimized grid traversal with early termination\n      for (let ix = 0; ix < adaptiveResolution; ix++) {\n        for (let iy = 0; iy < adaptiveResolution; iy++) {\n          const x1 = xRange[0] + ix * xStep;\n          const x2 = xRange[0] + (ix + 1) * xStep;\n          const y1 = yRange[0] + iy * yStep;\n          const y2 = yRange[0] + (iy + 1) * yStep;\n\n          // Quick check using center point for better performance\n          const centerX = (x1 + x2) / 2;\n          const centerY = (y1 + y2) / 2;\n          const centerValue = a * centerX + b * centerY + c;\n\n          // If center is far from boundary, we can make a quick decision\n          const cellDiagonal = Math.sqrt(\n            (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1)\n          );\n          const distanceToLine =\n            Math.abs(centerValue) / Math.sqrt(a * a + b * b);\n\n          if (centerValue <= 0 && distanceToLine > cellDiagonal) {\n            // Fully inside - add cell\n            addCompleteCell({ x1, y1, x2, y2, z1: zRange[0], z2: zRange[1] });\n          } else if (centerValue <= 0 || distanceToLine < cellDiagonal * 2) {\n            // Near boundary - check corners\n            const corner1Satisfies = a * x1 + b * y1 + c <= 0;\n            const corner2Satisfies = a * x2 + b * y1 + c <= 0;\n            const corner3Satisfies = a * x2 + b * y2 + c <= 0;\n            const corner4Satisfies = a * x1 + b * y2 + c <= 0;\n\n            const satisfiedCorners =\n              (corner1Satisfies ? 1 : 0) +\n              (corner2Satisfies ? 1 : 0) +\n              (corner3Satisfies ? 1 : 0) +\n              (corner4Satisfies ? 1 : 0);\n\n            if (\n              satisfiedCorners >= SATISFIED_CORNERS_THRESHOLD_HIGH ||\n              (satisfiedCorners >= SATISFIED_CORNERS_THRESHOLD_LOW &&\n                adaptiveResolution < RESOLUTION_THRESHOLD_FOR_CORNERS)\n            ) {\n              addCompleteCell({ x1, y1, x2, y2, z1: zRange[0], z2: zRange[1] });\n            }\n          }\n        }\n      }\n    } else if (boundaryFunction) {\n      // Handle 3D inequality (like z > f(x,y)) - simplified for performance\n      for (let ix = 0; ix < adaptiveResolution; ix += 2) {\n        // Skip every other cell for performance\n        for (let iy = 0; iy < adaptiveResolution; iy += 2) {\n          const x1 = xRange[0] + ix * xStep;\n          const x2 = xRange[0] + (ix + 2) * xStep;\n          const y1 = yRange[0] + iy * yStep;\n          const y2 = yRange[0] + (iy + 2) * yStep;\n\n          // Sample the center point\n          const centerX = (x1 + x2) / 2;\n          const centerY = (y1 + y2) / 2;\n          const zBoundary = boundaryFunction(centerX, centerY);\n\n          if (zBoundary >= zRange[0] && zBoundary <= zRange[1]) {\n            // Create a quad at the boundary\n            addQuad(\n              [x1, y1, zBoundary],\n              [x2, y1, zBoundary],\n              [x2, y2, zBoundary],\n              [x1, y2, zBoundary]\n            );\n          }\n        }\n      }\n    }\n\n    // Trim arrays to actual size used\n    const finalVertices = new Float32Array(vertices.buffer, 0, vertexIndex);\n    const finalIndices = new Uint32Array(indices.buffer, 0, indexOffset);\n\n    geo.setAttribute(\n      \"position\",\n      new Float32BufferAttribute(finalVertices, COMPONENTS_PER_VERTEX)\n    );\n    geo.setIndex(new BufferAttribute(finalIndices, 1));\n    geo.computeVertexNormals();\n\n    return geo;\n  }, [\n    is2D,\n    boundaryLine2D,\n    boundaryFunction,\n    xRange,\n    yRange,\n    zRange,\n    adaptiveResolution,\n  ]);\n\n  // Material for the inequality region with performance optimizations\n  const material = useMemo(() => {\n    return new MeshBasicMaterial({\n      color: color instanceof Color ? color : new Color(color),\n      transparent: true,\n      opacity,\n      side: DoubleSide,\n      depthWrite: false, // Better transparency handling\n    });\n  }, [color, opacity]);\n\n  // Generate boundary lines for rendering - optimized\n  // biome-ignore lint/complexity/noExcessiveCognitiveComplexity: This is a complex function, but it's necessary for the inequality visualization\n  const boundarySegmentsGeometry = useMemo(() => {\n    if (!((boundaryFunction || boundaryLine2D) && showBoundary)) {\n      return;\n    }\n\n    const vertices: number[] = [];\n    const lineResolution = Math.min(adaptiveResolution, MAX_LINE_RESOLUTION); // Lower resolution for lines\n    const xStep = (xRange[1] - xRange[0]) / lineResolution;\n    const yStep = (yRange[1] - yRange[0]) / lineResolution;\n\n    if (is2D && boundaryLine2D) {\n      // For 2D inequalities, create a vertical boundary plane\n      const [a, b, c] = boundaryLine2D;\n\n      // Create boundary lines more efficiently\n      if (Math.abs(b) > EPSILON) {\n        // Express y as a function of x\n        for (let ix = 0; ix <= lineResolution; ix++) {\n          const x = xRange[0] + ix * xStep;\n          const y = (-a * x - c) / b;\n\n          if (y >= yRange[0] && y <= yRange[1] && ix > 0) {\n            const prevX = xRange[0] + (ix - 1) * xStep;\n            const prevY = (-a * prevX - c) / b;\n            if (prevY >= yRange[0] && prevY <= yRange[1]) {\n              // Bottom edge\n              vertices.push(prevX, prevY, zRange[0], x, y, zRange[0]);\n              // Top edge\n              vertices.push(prevX, prevY, zRange[1], x, y, zRange[1]);\n            }\n          }\n        }\n\n        // Add vertical connectors\n        for (\n          let i = 0;\n          i <= lineResolution;\n          i += Math.floor(lineResolution / VERTICAL_CONNECTOR_DENSITY_FACTOR)\n        ) {\n          const x = xRange[0] + i * xStep;\n          const y = (-a * x - c) / b;\n          if (y >= yRange[0] && y <= yRange[1]) {\n            vertices.push(x, y, zRange[0], x, y, zRange[1]);\n          }\n        }\n      } else if (Math.abs(a) > EPSILON) {\n        // Express x as a function of y\n        for (let iy = 0; iy <= lineResolution; iy++) {\n          const y = yRange[0] + iy * yStep;\n          const x = (-b * y - c) / a;\n\n          if (x >= xRange[0] && x <= xRange[1] && iy > 0) {\n            const prevY = yRange[0] + (iy - 1) * yStep;\n            const prevX = (-b * prevY - c) / a;\n            if (prevX >= xRange[0] && prevX <= xRange[1]) {\n              vertices.push(prevX, prevY, zRange[0], x, y, zRange[0]);\n              vertices.push(prevX, prevY, zRange[1], x, y, zRange[1]);\n            }\n          }\n        }\n      }\n    } else if (boundaryFunction) {\n      // For 3D inequalities - create a wireframe grid\n      const gridStep = Math.floor(lineResolution / 10);\n\n      // Lines along x-axis\n      for (let iy = 0; iy <= lineResolution; iy += gridStep) {\n        const y = yRange[0] + iy * yStep;\n        for (let ix = 1; ix <= lineResolution; ix++) {\n          const x = xRange[0] + ix * xStep;\n          const prevX = xRange[0] + (ix - 1) * xStep;\n          const z = boundaryFunction(x, y);\n          const prevZ = boundaryFunction(prevX, y);\n\n          if (\n            z >= zRange[0] &&\n            z <= zRange[1] &&\n            prevZ >= zRange[0] &&\n            prevZ <= zRange[1]\n          ) {\n            vertices.push(prevX, y, prevZ, x, y, z);\n          }\n        }\n      }\n\n      // Lines along y-axis\n      for (let ix = 0; ix <= lineResolution; ix += gridStep) {\n        const x = xRange[0] + ix * xStep;\n        for (let iy = 1; iy <= lineResolution; iy++) {\n          const y = yRange[0] + iy * yStep;\n          const prevY = yRange[0] + (iy - 1) * yStep;\n          const z = boundaryFunction(x, y);\n          const prevZ = boundaryFunction(x, prevY);\n\n          if (\n            z >= zRange[0] &&\n            z <= zRange[1] &&\n            prevZ >= zRange[0] &&\n            prevZ <= zRange[1]\n          ) {\n            vertices.push(x, prevY, prevZ, x, y, z);\n          }\n        }\n      }\n    }\n\n    if (vertices.length === 0) {\n      return;\n    }\n\n    const geom = new BufferGeometry();\n    geom.setAttribute(\n      \"position\",\n      new Float32BufferAttribute(vertices, COMPONENTS_PER_VERTEX)\n    );\n    return geom;\n  }, [\n    showBoundary,\n    adaptiveResolution,\n    boundaryFunction,\n    boundaryLine2D,\n    is2D,\n    xRange,\n    yRange,\n    zRange,\n  ]);\n\n  // Default boundary color is the same as the region color but more opaque\n  const finalBoundaryColor = boundaryColor || color;\n\n  // Use frustum culling\n  useFrame(() => {\n    if (groupRef.current) {\n      groupRef.current.frustumCulled = true;\n    }\n  });\n\n  return (\n    <group ref={groupRef}>\n      {/* Render the shaded region */}\n      <mesh frustumCulled geometry={geometry} material={material} />\n\n      {/* Render the boundary as one lineSegments for better performance */}\n      {showBoundary && boundarySegmentsGeometry && (\n        <lineSegments frustumCulled geometry={boundarySegmentsGeometry}>\n          <lineBasicMaterial\n            color={finalBoundaryColor}\n            linewidth={boundaryLineWidth}\n          />\n        </lineSegments>\n      )}\n\n      {/* Render label if provided */}\n      {label && (\n        <Text\n          anchorX=\"center\"\n          anchorY=\"middle\"\n          color={label.color || finalBoundaryColor}\n          font={fontPath}\n          fontSize={label.fontSize || DEFAULT_LABEL_FONT_SIZE}\n          frustumCulled\n          position={label.position}\n        >\n          {label.text}\n        </Text>\n      )}\n    </group>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6278, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/subject/high-school/10/mathematics/sequence-series/sequence-concept/animation-table.tsx"],"sourcesContent":["\"use client\";\n\nimport { useIntersection, useMediaQuery } from \"@mantine/hooks\";\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport { PauseIcon, PlayIcon, TimerResetIcon } from \"lucide-react\";\nimport { AnimatePresence, LayoutGroup, motion } from \"motion/react\";\nimport {\n  useCallback,\n  useDeferredValue,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\n\n// Constants for animation and layout\nconst MAX_TABLES_MOBILE = 2;\nconst MAX_TABLES_DESKTOP = 3;\nconst ANIMATION_INTERVAL_MS = 2000;\nconst INITIAL_SIDE_CHAIRS = 2;\nconst STAGGER_DELAY = 0.01;\nconst SPEED_HALF = 0.5;\nconst SPEED_NORMAL = 1;\nconst SPEED_FAST = 1.5;\nconst SPEED_VERY_FAST = 2;\nconst SPEED_VALUES = [SPEED_HALF, SPEED_NORMAL, SPEED_FAST, SPEED_VERY_FAST];\nconst CHAIR_SIZE = 24;\nconst Z_INDEX_TABLE = 10;\nconst Z_INDEX_CHAIR = 20;\n\ntype TableChairsProps = {\n  labels?: {\n    title?: string;\n    table?: string;\n    chair?: string;\n  };\n};\n\ntype TableItem = {\n  id: number;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\ntype ChairItem = {\n  id: number;\n  x: number;\n  y: number;\n  side: \"left\" | \"right\" | \"top\" | \"bottom\";\n};\n\nexport default function TableChairsAnimation({\n  labels = {\n    title: \"Table and Chair Sequence Pattern\",\n    table: \"Table\",\n    chair: \"Chair\",\n  },\n}: TableChairsProps) {\n  const [tableCount, setTableCount] = useState(1);\n  const [speed, setSpeed] = useState(1);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const deferredPlaying = useDeferredValue(isPlaying);\n  const deferredTableCount = useDeferredValue(tableCount);\n\n  const isMobile = useMediaQuery(\"(max-width: 640px)\");\n\n  const { ref, entry } = useIntersection({\n    threshold: 0.1,\n  });\n\n  useEffect(() => {\n    if (entry) {\n      setIsPlaying(entry.isIntersecting);\n    }\n  }, [entry]);\n\n  const maxTables = isMobile ? MAX_TABLES_MOBILE : MAX_TABLES_DESKTOP;\n\n  // Calculate chair count based on the formula U_n = 2n + 2\n  const chairCount = useMemo(\n    () => 2 * deferredTableCount + 2,\n    [deferredTableCount]\n  );\n\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n\n    // Stop playing when maximum table count is reached\n    if (deferredTableCount >= maxTables) {\n      setIsPlaying(false);\n      return;\n    }\n\n    if (deferredPlaying) {\n      interval = setInterval(() => {\n        setTableCount((prev) => {\n          if (prev < maxTables) {\n            return prev + 1;\n          }\n          return prev;\n        });\n      }, ANIMATION_INTERVAL_MS / speed);\n    }\n\n    return () => clearInterval(interval);\n  }, [deferredPlaying, deferredTableCount, maxTables, speed]);\n\n  const resetAnimation = useCallback(() => {\n    setTableCount(1);\n    setIsPlaying(true);\n  }, []);\n\n  const togglePlayPause = useCallback(() => {\n    if (!isPlaying && tableCount >= maxTables) {\n      // If at max table count and trying to play, restart from beginning\n      setTableCount(1);\n      setIsPlaying(true);\n    } else {\n      setIsPlaying(!isPlaying);\n    }\n  }, [isPlaying, tableCount, maxTables]);\n\n  // Constants for sizing and spacing\n  const tableWidth = 100;\n  const tableHeight = 80;\n  const tableSpacing = 4; // Gap between tables\n  const chairOffset = 8; // Distance of chair from table edge\n\n  // Generate arrangement of tables and chairs\n  const arrangement = useMemo(() => {\n    const tables: TableItem[] = [];\n    const chairs: ChairItem[] = [];\n\n    // Calculate total width of all tables\n    const totalWidth = deferredTableCount * tableWidth;\n\n    // For single table\n    if (deferredTableCount === 1) {\n      tables.push({\n        id: 1,\n        x: 0,\n        y: 0,\n        width: tableWidth,\n        height: tableHeight,\n      });\n\n      // Add 4 chairs around the table (positioned at midpoints of each side)\n      chairs.push(\n        {\n          id: 1,\n          x: -CHAIR_SIZE - chairOffset,\n          y: tableHeight / 2 - CHAIR_SIZE / 2,\n          side: \"left\",\n        },\n        {\n          id: 2,\n          x: tableWidth + chairOffset,\n          y: tableHeight / 2 - CHAIR_SIZE / 2,\n          side: \"right\",\n        },\n        {\n          id: 3,\n          x: tableWidth / 2 - CHAIR_SIZE / 2,\n          y: -CHAIR_SIZE - chairOffset,\n          side: \"top\",\n        },\n        {\n          id: 4,\n          x: tableWidth / 2 - CHAIR_SIZE / 2,\n          y: tableHeight + chairOffset,\n          side: \"bottom\",\n        }\n      );\n    } else {\n      // For multiple tables\n      for (let i = 0; i < deferredTableCount; i++) {\n        tables.push({\n          id: i + 1,\n          x: i * (tableWidth + tableSpacing),\n          y: 0,\n          width: tableWidth,\n          height: tableHeight,\n        });\n      }\n\n      // Add chairs on the left side of the leftmost table\n      chairs.push({\n        id: 1,\n        x: -CHAIR_SIZE - chairOffset, // No need to add spacing between tables for the first chair\n        y: tableHeight / 2 - CHAIR_SIZE / 2,\n        side: \"left\",\n      });\n\n      // Add chairs on the right side of the rightmost table\n      chairs.push({\n        id: 2,\n        x: totalWidth + chairOffset + (deferredTableCount - 1) * tableSpacing, // Add spacing between tables\n        y: tableHeight / 2 - CHAIR_SIZE / 2,\n        side: \"right\",\n      });\n\n      // Add chairs on the top of each table\n      for (let i = 0; i < deferredTableCount; i++) {\n        chairs.push({\n          id: INITIAL_SIDE_CHAIRS + 1 + i,\n          x:\n            i * tableWidth + tableWidth / 2 - CHAIR_SIZE / 2 + i * tableSpacing, // Add spacing between tables\n          y: -CHAIR_SIZE - chairOffset,\n          side: \"top\",\n        });\n      }\n\n      // Add chairs on the bottom of each table\n      for (let i = 0; i < deferredTableCount; i++) {\n        chairs.push({\n          id: INITIAL_SIDE_CHAIRS + 1 + deferredTableCount + i,\n          x:\n            i * tableWidth + tableWidth / 2 - CHAIR_SIZE / 2 + i * tableSpacing, // Add spacing between tables\n          y: tableHeight + chairOffset,\n          side: \"bottom\",\n        });\n      }\n    }\n\n    return { tables, chairs };\n  }, [deferredTableCount]);\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{labels.title}</CardTitle>\n        <CardDescription>\n          {deferredTableCount} {labels.table} & {chairCount} {labels.chair}\n        </CardDescription>\n      </CardHeader>\n\n      <CardContent>\n        <div\n          className=\"relative aspect-square w-full overflow-hidden rounded-lg border border-cyan-100 bg-cyan-50 p-4 sm:aspect-video dark:border-cyan-900 dark:bg-cyan-950\"\n          ref={ref}\n        >\n          <div className=\"flex h-full flex-col items-center justify-center gap-8\">\n            {/* Table and chairs visualization */}\n            <div className=\"relative flex w-full items-center justify-center\">\n              <div\n                className=\"relative\"\n                style={{\n                  width:\n                    deferredTableCount * tableWidth +\n                    (deferredTableCount - 1) * tableSpacing,\n                  height: tableHeight,\n                }}\n              >\n                <LayoutGroup>\n                  {/* Tables */}\n                  <AnimatePresence mode=\"popLayout\">\n                    {arrangement.tables.map((table) => (\n                      <motion.div\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"absolute rounded-md bg-teal-300 shadow-sm transition-colors hover:bg-teal-400 dark:bg-teal-500\"\n                        exit={{ opacity: 0, scale: 0 }}\n                        initial={{ opacity: 0, scale: 0 }}\n                        key={`table-${table.id}`}\n                        layout\n                        style={{\n                          left: table.x,\n                          top: table.y,\n                          width: table.width,\n                          height: table.height,\n                          zIndex: Z_INDEX_TABLE,\n                        }}\n                        transition={{\n                          type: \"spring\",\n                          stiffness: 500,\n                          damping: 30,\n                          delay: (table.id - 1) * STAGGER_DELAY, // Stagger effect\n                        }}\n                      />\n                    ))}\n                  </AnimatePresence>\n\n                  {/* Chairs */}\n                  <AnimatePresence mode=\"popLayout\">\n                    {arrangement.chairs.map((chair) => (\n                      <motion.div\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"absolute rounded-full bg-cyan-300 shadow-sm transition-colors hover:bg-cyan-400 dark:bg-cyan-500\"\n                        exit={{ opacity: 0, scale: 0 }}\n                        initial={{ opacity: 0, scale: 0 }}\n                        key={`chair-${chair.id}`}\n                        layout\n                        style={{\n                          left: chair.x,\n                          top: chair.y,\n                          width: CHAIR_SIZE,\n                          height: CHAIR_SIZE,\n                          zIndex: Z_INDEX_CHAIR,\n                        }}\n                        transition={{\n                          type: \"spring\",\n                          stiffness: 500,\n                          damping: 30,\n                          delay: chair.id * STAGGER_DELAY, // Stagger effect\n                        }}\n                      />\n                    ))}\n                  </AnimatePresence>\n                </LayoutGroup>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"flex flex-col gap-4 px-0\">\n        <div className=\"flex w-full flex-col items-center justify-between gap-4 px-6 sm:flex-row\">\n          <div className=\"flex justify-between gap-2\">\n            <Button\n              aria-label=\"Reset\"\n              onClick={resetAnimation}\n              size=\"icon\"\n              variant=\"outline\"\n            >\n              <TimerResetIcon className=\"size-4 shrink-0\" />\n              <span className=\"sr-only\">Reset</span>\n            </Button>\n            <Button\n              aria-label={isPlaying ? \"Pause\" : \"Play\"}\n              onClick={togglePlayPause}\n              size=\"icon\"\n              variant={isPlaying ? \"outline\" : \"default\"}\n            >\n              {isPlaying ? (\n                <PauseIcon className=\"size-4 shrink-0\" />\n              ) : (\n                <PlayIcon className=\"size-4 shrink-0\" />\n              )}\n              <span className=\"sr-only\">{isPlaying ? \"Pause\" : \"Play\"}</span>\n            </Button>\n          </div>\n\n          <div className=\"flex flex-wrap justify-center gap-2\">\n            {SPEED_VALUES.map((speedValue) => (\n              <Button\n                aria-label={`Set speed to ${speedValue}x`}\n                key={speedValue}\n                onClick={() => setSpeed(speedValue)}\n                size=\"sm\"\n                variant={speed === speedValue ? \"default\" : \"outline\"}\n              >\n                {speedValue}x\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"w-full border-t px-6 pt-4\">\n          <div className=\"flex flex-wrap justify-center gap-2\">\n            {Array.from({ length: maxTables }).map((_, i) => (\n              <Button\n                aria-label={`Set table count to ${i + 1}`}\n                key={`table-count-${i + 1}`}\n                onClick={() => {\n                  setTableCount(i + 1);\n                  setIsPlaying(false);\n                }}\n                size=\"sm\"\n                variant={tableCount === i + 1 ? \"default\" : \"outline\"}\n              >\n                {i + 1} {labels.table}\n              </Button>\n            ))}\n          </div>\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6793, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/bar-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport type { ChartConfig } from \"@repo/design-system/components/ui/chart\";\nimport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport {\n  CartesianGrid,\n  Bar as RechartsBar,\n  BarChart as RechartsBarChart,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\ntype Props = {\n  title: string;\n  description: string;\n  data: {\n    name: string;\n    value: number;\n  }[];\n  chartConfig: ChartConfig;\n  yAxisLabel: string;\n};\n\nexport function HistogramChart({\n  title,\n  description,\n  data,\n  chartConfig,\n  yAxisLabel,\n}: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer className=\"aspect-square\" config={chartConfig}>\n          <RechartsBarChart\n            accessibilityLayer\n            barCategoryGap={0}\n            barGap={0}\n            data={data}\n          >\n            <CartesianGrid vertical={false} />\n\n            <XAxis\n              axisLine={false}\n              dataKey=\"name\"\n              tickLine={false}\n              tickMargin={10}\n            />\n            <YAxis\n              axisLine={false}\n              dataKey=\"value\"\n              label={{\n                value: yAxisLabel,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickLine={false}\n              tickMargin={10}\n            />\n            <ChartTooltip\n              content={<ChartTooltipContent indicator=\"line\" />}\n              cursor={false}\n            />\n            <RechartsBar dataKey=\"value\" radius={0} />\n          </RechartsBarChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport function BarChart({\n  title,\n  description,\n  data,\n  chartConfig,\n  yAxisLabel,\n}: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer className=\"aspect-square\" config={chartConfig}>\n          <RechartsBarChart accessibilityLayer data={data}>\n            <CartesianGrid vertical={false} />\n            <XAxis\n              axisLine={false}\n              dataKey=\"name\"\n              tickLine={false}\n              tickMargin={10}\n            />\n            <YAxis\n              axisLine={false}\n              dataKey=\"value\"\n              label={{\n                value: yAxisLabel,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickLine={false}\n              tickMargin={10}\n            />\n            <ChartTooltip\n              content={<ChartTooltipContent indicator=\"line\" />}\n              cursor={false}\n            />\n            <RechartsBar dataKey=\"value\" radius={8} />\n          </RechartsBarChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAQA;AAKA;AAAA;AAAA;AAAA;AAAA;AAfA;;;;;AAkCO,SAAS,eAAe,EAC7B,KAAK,EACL,WAAW,EACX,IAAI,EACJ,WAAW,EACX,UAAU,EACJ;IACN,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,WAAU;oBAAgB,QAAQ;8BAChD,cAAA,8OAAC,gKAAgB;wBACf,kBAAkB;wBAClB,gBAAgB;wBAChB,QAAQ;wBACR,MAAM;;0CAEN,8OAAC,8KAAa;gCAAC,UAAU;;;;;;0CAEzB,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,0KAAY;gCACX,uBAAS,8OAAC,iLAAmB;oCAAC,WAAU;;;;;;gCACxC,QAAQ;;;;;;0CAEV,8OAAC,0JAAW;gCAAC,SAAQ;gCAAQ,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjD;AAEO,SAAS,SAAS,EACvB,KAAK,EACL,WAAW,EACX,IAAI,EACJ,WAAW,EACX,UAAU,EACJ;IACN,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC,4KAAc;oBAAC,WAAU;oBAAgB,QAAQ;8BAChD,cAAA,8OAAC,gKAAgB;wBAAC,kBAAkB;wBAAC,MAAM;;0CACzC,8OAAC,8KAAa;gCAAC,UAAU;;;;;;0CACzB,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,8JAAK;gCACJ,UAAU;gCACV,SAAQ;gCACR,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,OAAO;wCAAE,YAAY;oCAAS;gCAChC;gCACA,UAAU;gCACV,YAAY;;;;;;0CAEd,8OAAC,0KAAY;gCACX,uBAAS,8OAAC,iLAAmB;oCAAC,WAAU;;;;;;gCACxC,QAAQ;;;;;;0CAEV,8OAAC,0JAAW;gCAAC,SAAQ;gCAAQ,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjD","debugId":null}},
    {"offset": {"line": 7044, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/triangle.tsx"],"sourcesContent":["\"use client\";\n\nimport { Instance, Instances, Line, Text } from \"@react-three/drei\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { COLORS } from \"@repo/design-system/lib/color\";\nimport { useTheme } from \"next-themes\";\nimport { useMemo, useRef } from \"react\";\nimport { type Group, MeshBasicMaterial, SphereGeometry, Vector3 } from \"three\";\nimport { FONT_PATH, MONO_FONT_PATH, ORIGIN_COLOR } from \"./_data\";\n\n// Pre-calculate common values\nconst SPHERE_SEGMENTS = 8; // Reduced from 16\nconst ARC_SEGMENTS = 20; // Reduced from 30\n\n// Angle and Quadrant constants\nconst DEGREES_IN_HALF_CIRCLE = 180;\nconst DEGREES_TO_RADIANS = Math.PI / DEGREES_IN_HALF_CIRCLE;\nconst DEGREES_IN_QUADRANT = 90;\nconst QUADRANTS_IN_CIRCLE = 4;\n\n// Sizing and scaling constants\nconst BASE_FONT_SIZE = 0.12;\nconst FONT_SIZE_SCALE_FACTOR = 0.12;\nconst BASE_VERTEX_SIZE = 0.05;\nconst VERTEX_SIZE_SCALE_FACTOR = 0.05;\nconst ARC_RADIUS_SCALE_FACTOR = 0.2;\nconst ANGLE_LABEL_DISTANCE_SCALE_FACTOR = 0.3;\nconst MIN_SCALE_FACTOR = 1;\n\n// Label offset multipliers\nconst LABEL_OFFSET_ADJACENT_Y = 1.5;\nconst LABEL_OFFSET_OPPOSITE_X = 4;\nconst LABEL_OFFSET_HYPOTENUSE_Y = 2;\nconst ANGLE_LABEL_POSITION_ADJUSTMENT = 0.5;\n\n// Quadrant identifiers\nconst Q1 = 1;\nconst Q2 = 2;\nconst Q3 = 3;\nconst Q4 = 4;\n\ntype Props = {\n  /** Angle in degrees */\n  angle?: number;\n  /** Size of the triangle (scale factor) */\n  size?: number;\n  /** Labels for the triangle */\n  labels?: {\n    opposite: string;\n    adjacent: string;\n    hypotenuse: string;\n  };\n  /** Use mono font for the labels */\n  useMonoFont?: boolean;\n  /** Additional props */\n  [key: string]: unknown;\n};\n\n// Singleton geometry instances for reuse\nlet sharedSphereGeometry: SphereGeometry | null = null;\nconst sharedMaterials: Map<string, MeshBasicMaterial> = new Map();\n\nfunction getSharedSphereGeometry() {\n  if (!sharedSphereGeometry) {\n    sharedSphereGeometry = new SphereGeometry(\n      1,\n      SPHERE_SEGMENTS,\n      SPHERE_SEGMENTS\n    );\n  }\n  return sharedSphereGeometry;\n}\n\nfunction getSharedMaterial(color: string) {\n  if (!sharedMaterials.has(color)) {\n    sharedMaterials.set(color, new MeshBasicMaterial({ color }));\n  }\n  const material = sharedMaterials.get(color);\n  if (!material) {\n    throw new Error(`Material not found for color: ${color}`);\n  }\n  return material;\n}\n\nexport function Triangle({\n  angle = 45,\n  size = 1,\n  labels = {\n    opposite: \"Opposite\",\n    adjacent: \"Adjacent\",\n    hypotenuse: \"Hypotenuse\",\n  },\n  useMonoFont = true,\n  ...props\n}: Props) {\n  const { resolvedTheme } = useTheme();\n  const groupRef = useRef<Group>(null);\n\n  // Convert angle to radians and calculate the points\n  const angleInRadians = angle * DEGREES_TO_RADIANS;\n\n  // Identify which quadrant the angle is in\n  const quadrant =\n    (Math.floor(angle / DEGREES_IN_QUADRANT) % QUADRANTS_IN_CIRCLE) + Q1;\n\n  // Create a right triangle with sides of variable length based on the angle\n  const hypotenuse = size; // Scale the hypotenuse by the size parameter\n  const adjacent = Math.cos(angleInRadians) * hypotenuse;\n  const opposite = Math.sin(angleInRadians) * hypotenuse;\n\n  // Font path based on the useMonoFont setting\n  const fontPath = useMonoFont ? MONO_FONT_PATH : FONT_PATH;\n\n  // Scale the font size based on the triangle size\n  const fontSize =\n    BASE_FONT_SIZE * Math.max(MIN_SCALE_FACTOR, size * FONT_SIZE_SCALE_FACTOR);\n\n  // Colors based on theme\n  const baseColor =\n    resolvedTheme === \"dark\" ? ORIGIN_COLOR.LIGHT : ORIGIN_COLOR.DARK;\n\n  // Scale the vertex points based on triangle size\n  const vertexSize =\n    BASE_VERTEX_SIZE *\n    Math.max(MIN_SCALE_FACTOR, size * VERTEX_SIZE_SCALE_FACTOR);\n\n  // Scale the angle arc radius based on triangle size - make it more proportional\n  const arcRadius = ARC_RADIUS_SCALE_FACTOR * Math.sqrt(size);\n  const angleLabelDistance =\n    ANGLE_LABEL_DISTANCE_SCALE_FACTOR * Math.sqrt(size);\n\n  // Memoize triangle side segments\n  const triangleSideLines = useMemo(() => {\n    const origin = new Vector3(0, 0, 0);\n    const adj = new Vector3(adjacent, 0, 0);\n    const opp = new Vector3(adjacent, opposite, 0);\n    return [\n      [origin, adj],\n      [adj, opp],\n      [opp, origin],\n    ];\n  }, [adjacent, opposite]);\n\n  // Memoize the angle arc points with fewer segments for performance\n  const triangleArcPoints = useMemo(() => {\n    const pts: Vector3[] = [];\n    for (let i = 0; i <= ARC_SEGMENTS; i++) {\n      const a = (i / ARC_SEGMENTS) * angleInRadians;\n      pts.push(\n        new Vector3(Math.cos(a) * arcRadius, Math.sin(a) * arcRadius, 0)\n      );\n    }\n    return pts;\n  }, [angleInRadians, arcRadius]);\n\n  // Vertices for instancing with semantic labels\n  const triangleVertices = useMemo(() => {\n    const vertices = triangleSideLines.map((pts) => pts[0]);\n    return [\n      { position: vertices[0], key: \"origin\" },\n      { position: vertices[1], key: \"adjacent\" },\n      { position: vertices[2], key: \"opposite\" },\n    ];\n  }, [triangleSideLines]);\n\n  // Use shared geometry and material\n  const sphereGeo = getSharedSphereGeometry();\n  const sphereMat = getSharedMaterial(baseColor);\n\n  // Determine label positions based on quadrant and angle\n  const labelPositions = useMemo(() => {\n    // Calculate midpoints for labels\n    const adjacentMidpoint = new Vector3(adjacent / 2, 0, 0);\n    const oppositeMidpoint = new Vector3(adjacent, opposite / 2, 0);\n    const hypotenuseMidpoint = new Vector3(adjacent / 2, opposite / 2, 0);\n\n    const adjacentLabelPos = new Vector3();\n    const oppositeLabelPos = new Vector3();\n    const hypotenuseLabelPos = new Vector3();\n\n    // Combined switch statement for all label positions based on quadrant\n    switch (quadrant) {\n      case Q1: {\n        // 0-90 degrees\n        adjacentLabelPos\n          .copy(adjacentMidpoint)\n          .add(new Vector3(0, -fontSize * LABEL_OFFSET_ADJACENT_Y, 0));\n        oppositeLabelPos\n          .copy(oppositeMidpoint)\n          .add(new Vector3(fontSize * LABEL_OFFSET_OPPOSITE_X, 0, 0));\n        hypotenuseLabelPos\n          .copy(hypotenuseMidpoint)\n          .add(new Vector3(0, fontSize * LABEL_OFFSET_HYPOTENUSE_Y, 0));\n        break;\n      }\n\n      case Q2: {\n        // 90-180 degrees\n        adjacentLabelPos\n          .copy(adjacentMidpoint)\n          .add(new Vector3(0, -fontSize * LABEL_OFFSET_ADJACENT_Y, 0));\n        oppositeLabelPos\n          .copy(oppositeMidpoint)\n          .add(new Vector3(-fontSize * LABEL_OFFSET_OPPOSITE_X, 0, 0));\n        hypotenuseLabelPos\n          .copy(hypotenuseMidpoint)\n          .add(new Vector3(0, fontSize * LABEL_OFFSET_HYPOTENUSE_Y, 0));\n        break;\n      }\n\n      case Q3: {\n        // 180-270 degrees\n        adjacentLabelPos\n          .copy(adjacentMidpoint)\n          .add(new Vector3(0, fontSize * LABEL_OFFSET_ADJACENT_Y, 0));\n        oppositeLabelPos\n          .copy(oppositeMidpoint)\n          .add(new Vector3(-fontSize * LABEL_OFFSET_OPPOSITE_X, 0, 0));\n        hypotenuseLabelPos\n          .copy(hypotenuseMidpoint)\n          .add(new Vector3(0, -fontSize * LABEL_OFFSET_HYPOTENUSE_Y, 0));\n        break;\n      }\n\n      case Q4: {\n        // 270-360 degrees\n        adjacentLabelPos\n          .copy(adjacentMidpoint)\n          .add(new Vector3(0, fontSize * LABEL_OFFSET_ADJACENT_Y, 0));\n        oppositeLabelPos\n          .copy(oppositeMidpoint)\n          .add(new Vector3(fontSize * LABEL_OFFSET_OPPOSITE_X, 0, 0));\n        hypotenuseLabelPos\n          .copy(hypotenuseMidpoint)\n          .add(new Vector3(0, -fontSize * LABEL_OFFSET_HYPOTENUSE_Y, 0));\n        break;\n      }\n\n      default:\n        break;\n    }\n\n    return { adjacentLabelPos, oppositeLabelPos, hypotenuseLabelPos };\n  }, [quadrant, adjacent, opposite, fontSize]);\n\n  // Calculate hypotenuse rotation once\n  const hypotenuseLabelRotation = useMemo(() => {\n    switch (quadrant) {\n      case Q1:\n        return Math.atan2(opposite, adjacent);\n      case Q2:\n      case Q3:\n        return Math.atan2(opposite, adjacent) + Math.PI;\n      default:\n        return Math.atan2(opposite, adjacent);\n    }\n  }, [quadrant, opposite, adjacent]);\n\n  // Use frustum culling\n  useFrame(() => {\n    if (groupRef.current) {\n      groupRef.current.frustumCulled = true;\n    }\n  });\n\n  // Line colors and semantic keys for triangle sides\n  const sideConfig = [\n    { color: COLORS.CYAN, key: \"adjacent\" },\n    { color: COLORS.ORANGE, key: \"opposite\" },\n    { color: COLORS.ROSE, key: \"hypotenuse\" },\n  ];\n\n  return (\n    <group ref={groupRef} {...props}>\n      {/* Draw the triangle sides - optimized with single color array access */}\n      {triangleSideLines.map((pts, i) => (\n        <Line\n          color={sideConfig[i].color}\n          frustumCulled\n          key={sideConfig[i].key}\n          lineWidth={2}\n          points={pts}\n        />\n      ))}\n\n      {/* Angle arc */}\n      <Line\n        color={COLORS.VIOLET}\n        frustumCulled\n        lineWidth={2}\n        points={triangleArcPoints}\n      />\n\n      {/* Angle label */}\n      <Text\n        anchorX=\"center\"\n        anchorY=\"middle\"\n        color={COLORS.VIOLET}\n        font={fontPath}\n        fontSize={fontSize}\n        frustumCulled\n        position={[\n          Math.cos(angleInRadians / 2) * angleLabelDistance +\n            (angle > DEGREES_IN_HALF_CIRCLE ? -1 : 1) *\n              fontSize *\n              ANGLE_LABEL_POSITION_ADJUSTMENT,\n          Math.sin(angleInRadians / 2) * angleLabelDistance,\n          0,\n        ]}\n      >\n        {`${angle}Â°`}\n      </Text>\n\n      {/* Side labels */}\n      <Text\n        anchorX=\"center\"\n        color={COLORS.CYAN}\n        font={fontPath}\n        fontSize={fontSize}\n        frustumCulled\n        position={labelPositions.adjacentLabelPos}\n      >\n        {labels.adjacent}\n      </Text>\n\n      <Text\n        anchorY=\"middle\"\n        color={COLORS.ORANGE}\n        font={fontPath}\n        fontSize={fontSize}\n        frustumCulled\n        position={labelPositions.oppositeLabelPos}\n      >\n        {labels.opposite}\n      </Text>\n\n      <Text\n        anchorX=\"center\"\n        anchorY=\"middle\"\n        color={COLORS.ROSE}\n        font={fontPath}\n        fontSize={fontSize}\n        frustumCulled\n        position={labelPositions.hypotenuseLabelPos}\n        rotation={[0, 0, hypotenuseLabelRotation]}\n      >\n        {labels.hypotenuse}\n      </Text>\n\n      {/* Points at vertices - using instanced rendering */}\n      <Instances\n        count={triangleVertices.length}\n        frustumCulled\n        geometry={sphereGeo}\n        material={sphereMat}\n        visible\n      >\n        {triangleVertices.map((vertex) => (\n          <Instance\n            key={vertex.key}\n            position={[vertex.position.x, vertex.position.y, vertex.position.z]}\n            scale={vertexSize}\n          />\n        ))}\n      </Instances>\n    </group>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7413, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/lib/math.ts"],"sourcesContent":["const DEGREES_IN_HALF_CIRCLE = 180;\nconst DEGREES_TO_RADIANS = Math.PI / DEGREES_IN_HALF_CIRCLE;\nconst EPSILON = 1e-10;\n\nexport function getRadians(angle: number) {\n  return angle * DEGREES_TO_RADIANS;\n}\n\nexport function getDegrees(angle: number) {\n  return angle / DEGREES_TO_RADIANS;\n}\n\nexport function getSin(angle: number) {\n  return Math.sin(getRadians(angle));\n}\n\nexport function getCos(angle: number) {\n  return Math.cos(getRadians(angle));\n}\n\n/**\n * Get the tangent of an angle\n * @param angle - The angle in degrees\n * @returns The tangent of the angle or positive infinity if the angle is 90Â° or 270Â°\n */\nexport function getTan(angle: number) {\n  // Check if cos is close to zero to handle tan(90Â°), tan(270Â°), etc.\n  return Math.abs(Math.cos(getRadians(angle))) < EPSILON\n    ? Number.POSITIVE_INFINITY\n    : Math.tan(getRadians(angle));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,yBAAyB;AAC/B,MAAM,qBAAqB,KAAK,EAAE,GAAG;AACrC,MAAM,UAAU;AAET,SAAS,WAAW,KAAa;IACtC,OAAO,QAAQ;AACjB;AAEO,SAAS,WAAW,KAAa;IACtC,OAAO,QAAQ;AACjB;AAEO,SAAS,OAAO,KAAa;IAClC,OAAO,KAAK,GAAG,CAAC,WAAW;AAC7B;AAEO,SAAS,OAAO,KAAa;IAClC,OAAO,KAAK,GAAG,CAAC,WAAW;AAC7B;AAOO,SAAS,OAAO,KAAa;IAClC,oEAAoE;IACpE,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,WAAW,WAAW,UAC3C,OAAO,iBAAiB,GACxB,KAAK,GAAG,CAAC,WAAW;AAC1B","debugId":null}},
    {"offset": {"line": 7448, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/triangle.tsx"],"sourcesContent":["\"use client\";\n\nimport { CoordinateSystem } from \"@repo/design-system/components/three/coordinate-system\";\nimport { Triangle as Triangle3D } from \"@repo/design-system/components/three/triangle\";\nimport { Badge } from \"@repo/design-system/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport { Label as LabelUi } from \"@repo/design-system/components/ui/label\";\nimport { Separator } from \"@repo/design-system/components/ui/separator\";\nimport {\n  getCos,\n  getRadians,\n  getSin,\n  getTan,\n} from \"@repo/design-system/lib/math\";\nimport { MinusIcon, PlusIcon } from \"lucide-react\";\nimport { useTranslations } from \"next-intl\";\nimport type { ReactNode } from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Group,\n  Input,\n  Label,\n  NumberField,\n} from \"react-aria-components\";\n\nconst CAMERA_Z_POSITION = 4;\n\ntype Props = {\n  title: ReactNode;\n  description: ReactNode;\n  angle?: number;\n  size?: number;\n  labels?: {\n    opposite: string;\n    adjacent: string;\n    hypotenuse: string;\n  };\n};\n\nexport function Triangle({\n  title,\n  description,\n  angle = 45,\n  size = 2,\n  labels,\n}: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <Content angle={angle} labels={labels} size={size} />\n    </Card>\n  );\n}\n\nfunction Content({\n  angle,\n  size,\n  labels,\n}: {\n  angle: number;\n  size: number;\n  labels?: Props[\"labels\"];\n}) {\n  const t = useTranslations(\"Common\");\n  const [angleValue, setAngleValue] = useState(angle);\n\n  return (\n    <>\n      <CardContent>\n        <CoordinateSystem\n          cameraPosition={[0, 0, CAMERA_Z_POSITION]}\n          showOrigin={false}\n          showZAxis={false}\n        >\n          <Triangle3D angle={angleValue} labels={labels} size={size} />\n        </CoordinateSystem>\n      </CardContent>\n      <CardFooter className=\"border-t px-0\">\n        <div className=\"flex w-full flex-col gap-4\">\n          <div className=\"flex flex-wrap items-center justify-center gap-2 px-6\">\n            <Badge className=\"font-mono\" variant=\"outline\">\n              Sin ({angleValue}Â°) = {getSin(angleValue).toFixed(2)}\n            </Badge>\n            <Badge className=\"font-mono\" variant=\"outline\">\n              Cos ({angleValue}Â°) = {getCos(angleValue).toFixed(2)}\n            </Badge>\n            <Badge className=\"font-mono\" variant=\"outline\">\n              Tan ({angleValue}Â°) ={\" \"}\n              {Number.isFinite(getTan(angleValue))\n                ? getTan(angleValue).toFixed(2)\n                : t(\"undefined\")}\n            </Badge>\n          </div>\n\n          <Separator />\n\n          <div className=\"mx-auto flex w-full max-w-md flex-col gap-4 px-6\">\n            <div className=\"flex items-center gap-2\">\n              <LabelUi htmlFor=\"angle\">\n                <Badge className=\"font-mono\" variant=\"outline\">\n                  {angleValue}Â°\n                </Badge>\n              </LabelUi>\n              <Badge className=\"font-mono\" variant=\"outline\">\n                {getRadians(angleValue).toFixed(2)} {t(\"radian\")}\n              </Badge>\n            </div>\n\n            <NumberField\n              formatOptions={{\n                localeMatcher: \"best fit\",\n              }}\n              onChange={setAngleValue}\n              value={angleValue}\n            >\n              <Label className=\"sr-only\">Angle</Label>\n              <Group className=\"relative inline-flex h-9 w-full items-center overflow-hidden whitespace-nowrap rounded-md border border-input text-sm shadow-xs outline-none transition-[color,box-shadow] data-focus-within:border-ring data-disabled:opacity-50 data-focus-within:ring-[3px] data-focus-within:ring-ring/50 data-focus-within:has-aria-invalid:border-destructive data-focus-within:has-aria-invalid:ring-destructive/20 dark:data-focus-within:has-aria-invalid:ring-destructive/40\">\n                <Button\n                  className=\"-ms-px flex aspect-square h-[inherit] cursor-pointer items-center justify-center rounded-s-md border border-input bg-background text-muted-foreground/80 text-sm transition-[color,box-shadow] hover:bg-accent hover:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n                  slot=\"decrement\"\n                >\n                  <MinusIcon aria-hidden=\"true\" className=\"size-4\" />\n                </Button>\n                <Input className=\"w-full grow bg-background px-3 py-2 text-center font-mono text-foreground tabular-nums\" />\n                <Button\n                  className=\"-me-px flex aspect-square h-[inherit] cursor-pointer items-center justify-center rounded-e-md border border-input bg-background text-muted-foreground/80 text-sm transition-[color,box-shadow] hover:bg-accent hover:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n                  slot=\"increment\"\n                >\n                  <PlusIcon aria-hidden=\"true\" className=\"size-4\" />\n                </Button>\n              </Group>\n            </NumberField>\n          </div>\n        </div>\n      </CardFooter>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAQA;AACA;AACA;AAMA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAzBA;;;;;;;;;;;;;AAiCA,MAAM,oBAAoB;AAcnB,SAAS,SAAS,EACvB,KAAK,EACL,WAAW,EACX,QAAQ,EAAE,EACV,OAAO,CAAC,EACR,MAAM,EACA;IACN,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC;gBAAQ,OAAO;gBAAO,QAAQ;gBAAQ,MAAM;;;;;;;;;;;;AAGnD;AAEA,SAAS,QAAQ,EACf,KAAK,EACL,IAAI,EACJ,MAAM,EAKP;IACC,MAAM,IAAI,IAAA,yNAAe,EAAC;IAC1B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,qBACE;;0BACE,8OAAC,wKAAW;0BACV,cAAA,8OAAC,gMAAgB;oBACf,gBAAgB;wBAAC;wBAAG;wBAAG;qBAAkB;oBACzC,YAAY;oBACZ,WAAW;8BAEX,cAAA,8OAAC,4KAAU;wBAAC,OAAO;wBAAY,QAAQ;wBAAQ,MAAM;;;;;;;;;;;;;;;;0BAGzD,8OAAC,uKAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,mKAAK;oCAAC,WAAU;oCAAY,SAAQ;;wCAAU;wCACvC;wCAAW;wCAAM,IAAA,qJAAM,EAAC,YAAY,OAAO,CAAC;;;;;;;8CAEpD,8OAAC,mKAAK;oCAAC,WAAU;oCAAY,SAAQ;;wCAAU;wCACvC;wCAAW;wCAAM,IAAA,qJAAM,EAAC,YAAY,OAAO,CAAC;;;;;;;8CAEpD,8OAAC,mKAAK;oCAAC,WAAU;oCAAY,SAAQ;;wCAAU;wCACvC;wCAAW;wCAAK;wCACrB,OAAO,QAAQ,CAAC,IAAA,qJAAM,EAAC,eACpB,IAAA,qJAAM,EAAC,YAAY,OAAO,CAAC,KAC3B,EAAE;;;;;;;;;;;;;sCAIV,8OAAC,2KAAS;;;;;sCAEV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,mKAAO;4CAAC,SAAQ;sDACf,cAAA,8OAAC,mKAAK;gDAAC,WAAU;gDAAY,SAAQ;;oDAClC;oDAAW;;;;;;;;;;;;sDAGhB,8OAAC,mKAAK;4CAAC,WAAU;4CAAY,SAAQ;;gDAClC,IAAA,yJAAU,EAAC,YAAY,OAAO,CAAC;gDAAG;gDAAE,EAAE;;;;;;;;;;;;;8CAI3C,8OAAC,kLAAW;oCACV,eAAe;wCACb,eAAe;oCACjB;oCACA,UAAU;oCACV,OAAO;;sDAEP,8OAAC,sKAAK;4CAAC,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,sKAAK;4CAAC,WAAU;;8DACf,8OAAC,wKAAM;oDACL,WAAU;oDACV,MAAK;8DAEL,cAAA,8OAAC,qNAAS;wDAAC,eAAY;wDAAO,WAAU;;;;;;;;;;;8DAE1C,8OAAC,sKAAK;oDAAC,WAAU;;;;;;8DACjB,8OAAC,wKAAM;oDACL,WAAU;oDACV,MAAK;8DAEL,cAAA,8OAAC,kNAAQ;wDAAC,eAAY;wDAAO,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzD","debugId":null}},
    {"offset": {"line": 7756, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/unit-circle.tsx"],"sourcesContent":["\"use client\";\n\nimport { Line, Text } from \"@react-three/drei\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { COLORS } from \"@repo/design-system/lib/color\";\nimport {\n  getCos,\n  getRadians,\n  getSin,\n  getTan,\n} from \"@repo/design-system/lib/math\";\nimport { useTranslations } from \"next-intl\";\nimport { useTheme } from \"next-themes\";\nimport { useMemo, useRef } from \"react\";\nimport { type Group, MeshBasicMaterial, SphereGeometry, Vector3 } from \"three\";\nimport { FONT_PATH, MONO_FONT_PATH, ORIGIN_COLOR } from \"./_data\";\n\ntype Props = {\n  /** Angle in degrees */\n  angle?: number;\n  /** Show labels for trig functions */\n  showLabels?: boolean;\n  /** Display mode for values */\n  displayMode?: \"decimal\" | \"exact\";\n  /** Precision for decimal values */\n  precision?: number;\n  /** Use mono font for the labels */\n  useMonoFont?: boolean;\n  /** Additional props */\n  [key: string]: unknown;\n};\n\n// Optimized settings for performance\nconst UNIT_CIRCLE_SEGMENTS = 48; // Reduced from 64\nconst UNIT_ARC_SEGMENTS = 16; // Reduced from 24\nconst SPHERE_SEGMENTS = 8; // Low poly sphere\nconst SPHERE_RADIUS = 0.05;\nconst ARC_RADIUS = 0.3;\nconst LABEL_FONT_SIZE = 0.12;\nconst EPSILON = 1e-10;\n\n// Label positioning constants\nconst ANGLE_LABEL_X_FACTOR = 0.5;\nconst ANGLE_LABEL_Y_FACTOR = 0.4;\nconst COS_LABEL_Y_OFFSET = -0.2;\nconst SIN_LABEL_X_OFFSET = 0.2;\nconst TAN_LABEL_POSITION = 1.1;\nconst THREE = 3;\nconst SQRT_3 = Math.sqrt(THREE);\nconst TWO = 2;\nconst FOUR = 4;\nconst ONE = 1;\n\n// Pre-calculate static circle points once\nconst STATIC_CIRCLE_POINTS: Vector3[] = (() => {\n  const pts: Vector3[] = [];\n  for (let i = 0; i <= UNIT_CIRCLE_SEGMENTS; i++) {\n    const a = (i / UNIT_CIRCLE_SEGMENTS) * Math.PI * 2;\n    pts.push(new Vector3(Math.cos(a), Math.sin(a), 0));\n  }\n  return pts;\n})();\n\n// Shared geometry instances\nlet sharedSphereGeometry: SphereGeometry | null = null;\nconst sharedMaterials: Map<string, MeshBasicMaterial> = new Map();\n\nfunction getSharedSphereGeometry() {\n  if (!sharedSphereGeometry) {\n    sharedSphereGeometry = new SphereGeometry(\n      SPHERE_RADIUS,\n      SPHERE_SEGMENTS,\n      SPHERE_SEGMENTS\n    );\n  }\n  return sharedSphereGeometry;\n}\n\nfunction getSharedMaterial(color: string) {\n  if (!sharedMaterials.has(color)) {\n    sharedMaterials.set(color, new MeshBasicMaterial({ color }));\n  }\n  const material = sharedMaterials.get(color);\n  if (!material) {\n    throw new Error(`Material not found for color: ${color}`);\n  }\n  return material;\n}\n\nexport function UnitCircle({\n  angle = 45,\n  showLabels = true,\n  displayMode = \"exact\",\n  precision = 2,\n  useMonoFont = true,\n  ...props\n}: Props) {\n  const t = useTranslations(\"Common\");\n  const { resolvedTheme } = useTheme();\n  const groupRef = useRef<Group>(null);\n\n  const angleInRadians = getRadians(angle);\n  const sin = getSin(angle);\n  const cos = getCos(angle);\n  const tan = getTan(angle);\n\n  // Use precomputed circle outline points (static)\n  const circlePoints = STATIC_CIRCLE_POINTS;\n\n  // Memoize angle arc points with reduced segments\n  const arcPoints = useMemo(() => {\n    const pts: Vector3[] = [];\n    for (let i = 0; i <= UNIT_ARC_SEGMENTS; i++) {\n      const a = (i / UNIT_ARC_SEGMENTS) * angleInRadians;\n      pts.push(\n        new Vector3(Math.cos(a) * ARC_RADIUS, Math.sin(a) * ARC_RADIUS, 0)\n      );\n    }\n    return pts;\n  }, [angleInRadians]);\n\n  // Format values according to display mode - memoize the function\n  const formatValue = useMemo(() => {\n    return (value: number) => {\n      if (!Number.isFinite(value)) {\n        return t(\"undefined\");\n      }\n      if (Math.abs(value) < EPSILON) {\n        return \"0\";\n      }\n\n      if (displayMode === \"decimal\") {\n        return value.toFixed(precision);\n      }\n\n      const absValue = Math.abs(value);\n      const sign = value < 0 ? \"-\" : \"\";\n\n      // Common trig values lookup table for performance\n      const commonValues = [\n        { value: ONE / TWO, display: \"1/2\" },\n        { value: Math.SQRT1_2, display: \"âˆš2/2\" },\n        { value: SQRT_3 / TWO, display: \"âˆš3/2\" },\n        { value: ONE, display: \"1\" },\n        { value: SQRT_3, display: \"âˆš3\" },\n        { value: SQRT_3 / THREE, display: \"âˆš3/3\" },\n        { value: Math.SQRT2, display: \"âˆš2\" },\n        { value: ONE / FOUR, display: \"1/4\" },\n        { value: THREE / FOUR, display: \"3/4\" },\n      ];\n\n      for (const { value: v, display } of commonValues) {\n        if (Math.abs(absValue - v) < EPSILON) {\n          return `${sign}${display}`;\n        }\n      }\n\n      return value.toFixed(precision);\n    };\n  }, [displayMode, precision, t]);\n\n  // Memoize labels\n  const labels = useMemo(\n    () => ({\n      sin: `sin(${angle}Â°) = ${formatValue(sin)}`,\n      cos: `cos(${angle}Â°) = ${formatValue(cos)}`,\n      tan: `tan(${angle}Â°) = ${formatValue(tan)}`,\n    }),\n    [angle, sin, cos, tan, formatValue]\n  );\n\n  const fontPath = useMonoFont ? MONO_FONT_PATH : FONT_PATH;\n\n  // Colors based on theme\n  const circleColor =\n    resolvedTheme === \"dark\" ? ORIGIN_COLOR.LIGHT : ORIGIN_COLOR.DARK;\n\n  // Pre-calculate positions\n  const pointPosition = useMemo(() => new Vector3(cos, sin, 0), [cos, sin]);\n  const origin = useMemo(() => new Vector3(0, 0, 0), []);\n  const cosPoint = useMemo(() => new Vector3(cos, 0, 0), [cos]);\n\n  // Line segments for better performance\n  const lineSegments = useMemo(\n    () => ({\n      radius: [origin, pointPosition],\n      sine: [cosPoint, pointPosition],\n      cosine: [origin, cosPoint],\n    }),\n    [origin, pointPosition, cosPoint]\n  );\n\n  // Use frustum culling\n  useFrame(() => {\n    if (groupRef.current) {\n      groupRef.current.frustumCulled = true;\n    }\n  });\n\n  // Get shared geometry and material\n  const sphereGeometry = getSharedSphereGeometry();\n  const sphereMaterial = getSharedMaterial(circleColor);\n\n  return (\n    <group ref={groupRef} {...props}>\n      {/* Unit Circle (XY plane) */}\n      <group rotation={[0, 0, 0]}>\n        {/* Circle outline */}\n        <Line\n          color={circleColor}\n          frustumCulled\n          lineWidth={2}\n          points={circlePoints}\n        />\n\n        {/* Angle arc */}\n        <Line\n          color={COLORS.VIOLET}\n          frustumCulled\n          lineWidth={2}\n          points={arcPoints}\n        />\n\n        {/* Angle label */}\n        <Text\n          anchorX=\"center\"\n          anchorY=\"middle\"\n          color={COLORS.VIOLET}\n          font={fontPath}\n          fontSize={LABEL_FONT_SIZE}\n          frustumCulled\n          position={[\n            Math.cos(angleInRadians / 2) * ANGLE_LABEL_X_FACTOR,\n            Math.sin(angleInRadians / 2) * ANGLE_LABEL_Y_FACTOR,\n            0,\n          ]}\n          visible={showLabels}\n        >\n          {`${angle}Â°`}\n        </Text>\n\n        {/* Point on circle - using shared geometry */}\n        <mesh\n          frustumCulled\n          geometry={sphereGeometry}\n          material={sphereMaterial}\n          position={pointPosition}\n        />\n\n        {/* Line from origin to point */}\n        <Line\n          color={COLORS.ROSE}\n          frustumCulled\n          lineWidth={2}\n          points={lineSegments.radius}\n        />\n\n        {/* Sine line (vertical) */}\n        <Line\n          color={COLORS.ORANGE}\n          frustumCulled\n          lineWidth={2}\n          points={lineSegments.sine}\n        />\n\n        {/* Cosine line (horizontal) */}\n        <Line\n          color={COLORS.CYAN}\n          frustumCulled\n          lineWidth={2}\n          points={lineSegments.cosine}\n        />\n\n        {/* Trig value labels - only render if visible */}\n        {showLabels && (\n          <>\n            <Text\n              anchorX=\"center\"\n              color={COLORS.CYAN}\n              font={fontPath}\n              fontSize={LABEL_FONT_SIZE}\n              frustumCulled\n              position={[cos / 2, COS_LABEL_Y_OFFSET, 0]}\n            >\n              {labels.cos}\n            </Text>\n            <Text\n              anchorX=\"left\"\n              anchorY=\"middle\"\n              color={COLORS.ORANGE}\n              font={fontPath}\n              fontSize={LABEL_FONT_SIZE}\n              frustumCulled\n              position={[cos + SIN_LABEL_X_OFFSET, sin / 2, 0]}\n            >\n              {labels.sin}\n            </Text>\n            <Text\n              color={COLORS.ROSE}\n              font={fontPath}\n              fontSize={LABEL_FONT_SIZE}\n              frustumCulled\n              position={[TAN_LABEL_POSITION, TAN_LABEL_POSITION, 0]}\n            >\n              {labels.tan}\n            </Text>\n          </>\n        )}\n      </group>\n    </group>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8129, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/unit-circle.tsx"],"sourcesContent":["\"use client\";\n\nimport { CoordinateSystem } from \"@repo/design-system/components/three/coordinate-system\";\nimport { UnitCircle as UnitCircle3D } from \"@repo/design-system/components/three/unit-circle\";\nimport { Badge } from \"@repo/design-system/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport { Label as LabelUi } from \"@repo/design-system/components/ui/label\";\nimport { Separator } from \"@repo/design-system/components/ui/separator\";\nimport {\n  getCos,\n  getRadians,\n  getSin,\n  getTan,\n} from \"@repo/design-system/lib/math\";\nimport { MinusIcon, PlusIcon } from \"lucide-react\";\nimport { useTranslations } from \"next-intl\";\nimport { type ReactNode, useState } from \"react\";\nimport {\n  Button,\n  Group,\n  Input,\n  Label,\n  NumberField,\n} from \"react-aria-components\";\n\nconst CAMERA_Z_POSITION = 4;\n\ntype Props = {\n  title: ReactNode;\n  description: ReactNode;\n  angle?: number;\n};\n\nexport function UnitCircle({ title, description, angle = 45 }: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <Content angle={angle} />\n    </Card>\n  );\n}\n\nfunction Content({ angle }: { angle: number }) {\n  const t = useTranslations(\"Common\");\n  const [angleValue, setAngleValue] = useState(angle);\n\n  return (\n    <>\n      <CardContent>\n        <CoordinateSystem\n          cameraPosition={[0, 0, CAMERA_Z_POSITION]}\n          showOrigin={false}\n          showZAxis={false}\n        >\n          <UnitCircle3D angle={angleValue} />\n        </CoordinateSystem>\n      </CardContent>\n      <CardFooter className=\"border-t px-0\">\n        <div className=\"flex w-full flex-col gap-4\">\n          <div className=\"flex flex-wrap items-center justify-center gap-2 px-6\">\n            <Badge className=\"font-mono\" variant=\"outline\">\n              Sin ({angleValue}Â°) = {getSin(angleValue).toFixed(2)}\n            </Badge>\n            <Badge className=\"font-mono\" variant=\"outline\">\n              Cos ({angleValue}Â°) = {getCos(angleValue).toFixed(2)}\n            </Badge>\n            <Badge className=\"font-mono\" variant=\"outline\">\n              Tan ({angleValue}Â°) ={\" \"}\n              {Number.isFinite(getTan(angleValue))\n                ? getTan(angleValue).toFixed(2)\n                : t(\"undefined\")}\n            </Badge>\n          </div>\n\n          <Separator />\n\n          <div className=\"mx-auto flex w-full max-w-md flex-col gap-4 px-6\">\n            <div className=\"flex items-center gap-2\">\n              <LabelUi htmlFor=\"angle\">\n                <Badge className=\"font-mono\" variant=\"outline\">\n                  {angleValue}Â°\n                </Badge>\n              </LabelUi>\n              <Badge className=\"font-mono\" variant=\"outline\">\n                {getRadians(angleValue).toFixed(2)} {t(\"radian\")}\n              </Badge>\n            </div>\n\n            <NumberField\n              formatOptions={{\n                localeMatcher: \"best fit\",\n              }}\n              onChange={setAngleValue}\n              value={angleValue}\n            >\n              <Label className=\"sr-only\">Angle</Label>\n              <Group className=\"relative inline-flex h-9 w-full items-center overflow-hidden whitespace-nowrap rounded-md border border-input text-sm shadow-xs outline-none transition-[color,box-shadow] data-focus-within:border-ring data-disabled:opacity-50 data-focus-within:ring-[3px] data-focus-within:ring-ring/50 data-focus-within:has-aria-invalid:border-destructive data-focus-within:has-aria-invalid:ring-destructive/20 dark:data-focus-within:has-aria-invalid:ring-destructive/40\">\n                <Button\n                  className=\"-ms-px flex aspect-square h-[inherit] cursor-pointer items-center justify-center rounded-s-md border border-input bg-background text-muted-foreground/80 text-sm transition-[color,box-shadow] hover:bg-accent hover:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n                  slot=\"decrement\"\n                >\n                  <MinusIcon aria-hidden=\"true\" className=\"size-4\" />\n                </Button>\n                <Input className=\"w-full grow bg-background px-3 py-2 text-center font-mono text-foreground tabular-nums\" />\n                <Button\n                  className=\"-me-px flex aspect-square h-[inherit] cursor-pointer items-center justify-center rounded-e-md border border-input bg-background text-muted-foreground/80 text-sm transition-[color,box-shadow] hover:bg-accent hover:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n                  slot=\"increment\"\n                >\n                  <PlusIcon aria-hidden=\"true\" className=\"size-4\" />\n                </Button>\n              </Group>\n            </NumberField>\n          </div>\n        </div>\n      </CardFooter>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAQA;AACA;AACA;AAMA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAxBA;;;;;;;;;;;;;AAgCA,MAAM,oBAAoB;AAQnB,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,EAAS;IAClE,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC;gBAAQ,OAAO;;;;;;;;;;;;AAGtB;AAEA,SAAS,QAAQ,EAAE,KAAK,EAAqB;IAC3C,MAAM,IAAI,IAAA,yNAAe,EAAC;IAC1B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,qBACE;;0BACE,8OAAC,wKAAW;0BACV,cAAA,8OAAC,gMAAgB;oBACf,gBAAgB;wBAAC;wBAAG;wBAAG;qBAAkB;oBACzC,YAAY;oBACZ,WAAW;8BAEX,cAAA,8OAAC,oLAAY;wBAAC,OAAO;;;;;;;;;;;;;;;;0BAGzB,8OAAC,uKAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,mKAAK;oCAAC,WAAU;oCAAY,SAAQ;;wCAAU;wCACvC;wCAAW;wCAAM,IAAA,qJAAM,EAAC,YAAY,OAAO,CAAC;;;;;;;8CAEpD,8OAAC,mKAAK;oCAAC,WAAU;oCAAY,SAAQ;;wCAAU;wCACvC;wCAAW;wCAAM,IAAA,qJAAM,EAAC,YAAY,OAAO,CAAC;;;;;;;8CAEpD,8OAAC,mKAAK;oCAAC,WAAU;oCAAY,SAAQ;;wCAAU;wCACvC;wCAAW;wCAAK;wCACrB,OAAO,QAAQ,CAAC,IAAA,qJAAM,EAAC,eACpB,IAAA,qJAAM,EAAC,YAAY,OAAO,CAAC,KAC3B,EAAE;;;;;;;;;;;;;sCAIV,8OAAC,2KAAS;;;;;sCAEV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,mKAAO;4CAAC,SAAQ;sDACf,cAAA,8OAAC,mKAAK;gDAAC,WAAU;gDAAY,SAAQ;;oDAClC;oDAAW;;;;;;;;;;;;sDAGhB,8OAAC,mKAAK;4CAAC,WAAU;4CAAY,SAAQ;;gDAClC,IAAA,yJAAU,EAAC,YAAY,OAAO,CAAC;gDAAG;gDAAE,EAAE;;;;;;;;;;;;;8CAI3C,8OAAC,kLAAW;oCACV,eAAe;wCACb,eAAe;oCACjB;oCACA,UAAU;oCACV,OAAO;;sDAEP,8OAAC,sKAAK;4CAAC,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,sKAAK;4CAAC,WAAU;;8DACf,8OAAC,wKAAM;oDACL,WAAU;oDACV,MAAK;8DAEL,cAAA,8OAAC,qNAAS;wDAAC,eAAY;wDAAO,WAAU;;;;;;;;;;;8DAE1C,8OAAC,sKAAK;oDAAC,WAAU;;;;;;8DACjB,8OAAC,wKAAM;oDACL,WAAU;oDACV,MAAK;8DAEL,cAAA,8OAAC,kNAAQ;wDAAC,eAAY;wDAAO,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzD","debugId":null}},
    {"offset": {"line": 8433, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/arrow-helper.tsx"],"sourcesContent":["\"use client\";\n\nimport { Line, Text } from \"@react-three/drei\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { COLORS } from \"@repo/design-system/lib/color\";\nimport { useMemo, useRef } from \"react\";\nimport {\n  Color,\n  ConeGeometry,\n  type Group,\n  MeshBasicMaterial,\n  Quaternion,\n  Vector3,\n} from \"three\";\nimport { FONT_PATH, MONO_FONT_PATH } from \"./_data\";\n\nconst ARROW_SEGMENTS = 16;\nconst ARROW_SEGMENT_OFFSET = 0.2;\n\n// Shared geometry and material caches\nconst coneGeometryCache = new Map<string, ConeGeometry>();\nconst materialCache = new Map<string, MeshBasicMaterial>();\n\nfunction getSharedConeGeometry(size: number): ConeGeometry {\n  const key = `cone-${size}`;\n  if (!coneGeometryCache.has(key)) {\n    // Reduced segments from 32 to 16 for better performance\n    coneGeometryCache.set(\n      key,\n      new ConeGeometry(size / 2, size, ARROW_SEGMENTS, 1)\n    );\n  }\n  const geometry = coneGeometryCache.get(key);\n  if (!geometry) {\n    throw new Error(`Cone geometry not found for size: ${size}`);\n  }\n  return geometry;\n}\n\nfunction getSharedMaterial(color: string | Color): MeshBasicMaterial {\n  const colorKey = color instanceof Color ? color.getHexString() : color;\n  if (!materialCache.has(colorKey)) {\n    materialCache.set(\n      colorKey,\n      new MeshBasicMaterial({\n        color: color instanceof Color ? color : new Color(color),\n      })\n    );\n  }\n  const material = materialCache.get(colorKey);\n  if (!material) {\n    throw new Error(`Material not found for color: ${colorKey}`);\n  }\n  return material;\n}\n\ntype Props = {\n  /** Starting point of the vector [x, y, z] */\n  from?: [number, number, number];\n  /** End point of the vector [x, y, z] */\n  to: [number, number, number];\n  /** Color of the vector */\n  color?: string | Color;\n  /** Width of the vector line */\n  lineWidth?: number;\n  /** Show arrowhead */\n  showArrow?: boolean;\n  /** Size of the arrowhead */\n  arrowSize?: number;\n  /** Label for the vector */\n  label?: string;\n  /** Position of the label */\n  labelPosition?: \"start\" | \"middle\" | \"end\";\n  /** Use mono font for the label */\n  useMonoFont?: boolean;\n  /** Additional props */\n  [key: string]: unknown;\n};\n\nexport function ArrowHelper({\n  from = [0, 0, 0],\n  to,\n  color = COLORS.YELLOW,\n  lineWidth = 2,\n  showArrow = true,\n  arrowSize = 0.5,\n  label,\n  labelPosition = \"end\",\n  useMonoFont = true,\n  ...props\n}: Props) {\n  const groupRef = useRef<Group>(null);\n\n  // Memoize vector calculations\n  const vectors = useMemo(() => {\n    const fromVec = new Vector3(...from);\n    const toVec = new Vector3(...to);\n    const direction = new Vector3().subVectors(toVec, fromVec).normalize();\n    const length = fromVec.distanceTo(toVec);\n    return { fromVec, toVec, direction, length };\n  }, [from, to]);\n\n  // Memoize label position calculation\n  const labelPos = useMemo(() => {\n    const midPoint = new Vector3().addVectors(\n      vectors.fromVec,\n      new Vector3().copy(vectors.direction).multiplyScalar(vectors.length / 2)\n    );\n    const endPoint = new Vector3().copy(vectors.toVec);\n\n    switch (labelPosition) {\n      case \"start\":\n        return vectors.fromVec.clone();\n      case \"middle\":\n        return midPoint;\n      default:\n        // Add slight offset for end position\n        return endPoint\n          .clone()\n          .add(\n            new Vector3(\n              ARROW_SEGMENT_OFFSET,\n              ARROW_SEGMENT_OFFSET,\n              ARROW_SEGMENT_OFFSET\n            )\n          );\n    }\n  }, [vectors, labelPosition]);\n\n  // Use shared geometry and material\n  const coneGeometry = useMemo(\n    () => (showArrow ? getSharedConeGeometry(arrowSize) : null),\n    [showArrow, arrowSize]\n  );\n\n  const material = useMemo(\n    () => (showArrow ? getSharedMaterial(color) : null),\n    [showArrow, color]\n  );\n\n  // Define the shaft points - from the start point to just before the cone\n  const shaftPoints = useMemo(\n    () => [\n      vectors.fromVec,\n      new Vector3(\n        vectors.toVec.x - vectors.direction.x * arrowSize,\n        vectors.toVec.y - vectors.direction.y * arrowSize,\n        vectors.toVec.z - vectors.direction.z * arrowSize\n      ),\n    ],\n    [vectors, arrowSize]\n  );\n\n  // Memoize cone position and quaternion\n  const coneTransform = useMemo(() => {\n    if (!showArrow) {\n      return null;\n    }\n\n    const position = new Vector3(\n      vectors.toVec.x - (vectors.direction.x * arrowSize) / 2,\n      vectors.toVec.y - (vectors.direction.y * arrowSize) / 2,\n      vectors.toVec.z - (vectors.direction.z * arrowSize) / 2\n    );\n\n    const quaternion = new Quaternion().setFromUnitVectors(\n      new Vector3(0, 1, 0),\n      vectors.direction\n    );\n\n    return { position, quaternion };\n  }, [showArrow, vectors, arrowSize]);\n\n  // Memoize font path\n  const fontPath = useMemo(\n    () => (useMonoFont ? MONO_FONT_PATH : FONT_PATH),\n    [useMonoFont]\n  );\n\n  // Enable frustum culling for the entire group\n  useFrame(() => {\n    if (groupRef.current) {\n      groupRef.current.frustumCulled = true;\n    }\n  });\n\n  return (\n    <group ref={groupRef} {...props}>\n      {/* Shaft of the arrow */}\n      <Line\n        color={color}\n        frustumCulled\n        lineWidth={lineWidth}\n        points={shaftPoints}\n      />\n\n      {/* Cone arrowhead with optimized segments */}\n      {showArrow && coneGeometry && material && coneTransform && (\n        <mesh\n          frustumCulled\n          geometry={coneGeometry}\n          material={material}\n          position={coneTransform.position}\n          quaternion={coneTransform.quaternion}\n        />\n      )}\n\n      {/* Label text */}\n      <Text\n        anchorX=\"left\"\n        color={color instanceof Color ? color.getStyle() : color}\n        font={fontPath}\n        fontSize={0.5}\n        frustumCulled\n        position={labelPos}\n        visible={Boolean(label)}\n      >\n        {label}\n      </Text>\n    </group>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8615, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/three/vector.tsx"],"sourcesContent":["\"use client\";\n\nimport type * as Three from \"three\";\nimport { ArrowHelper } from \"./arrow-helper\";\n\ntype VectorProps = {\n  /** Starting point of the vector [x, y, z] */\n  from?: [number, number, number];\n  /** End point of the vector [x, y, z] */\n  to: [number, number, number];\n  /** Color of the vector */\n  color?: string | Three.Color;\n  /** Width of the vector line */\n  lineWidth?: number;\n  /** Show arrowhead */\n  showArrow?: boolean;\n  /** Size of the arrowhead */\n  arrowSize?: number;\n  /** Label for the vector */\n  label?: string;\n  /** Position of the label */\n  labelPosition?: \"start\" | \"middle\" | \"end\";\n  /** Use mono font for the label */\n  useMonoFont?: boolean;\n  /** Additional props */\n  [key: string]: unknown;\n};\n\nexport function Vector(props: VectorProps) {\n  return <ArrowHelper {...props} />;\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AA4BO,SAAS,OAAO,KAAkB;IACvC,qBAAO,8OAAC,sLAAW;QAAE,GAAG,KAAK;;;;;;AAC/B","debugId":null}},
    {"offset": {"line": 8637, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/vector-chart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n} from \"@repo/design-system/components/ui/chart\";\nimport { Fragment, type ReactNode, useMemo } from \"react\";\nimport { CartesianGrid, Line, LineChart, XAxis, YAxis } from \"recharts\";\n\ntype Vector = {\n  /**\n   * Unique identifier for the vector\n   */\n  id: string;\n  /**\n   * Name of the vector\n   */\n  name: string;\n  /**\n   * Color of the vector\n   */\n  color?: string;\n  /**\n   * Points of the vector\n   */\n  points: {\n    x: number;\n    y: number;\n  }[];\n  /**\n   * Direction of the vector arrow\n   */\n  direction?: \"forward\" | \"backward\" | \"both\" | \"none\";\n  /**\n   * Type of the vector\n   * @default \"monotone\"\n   */\n  type?: \"monotone\" | \"step\" | \"linear\";\n};\n\ntype Props = {\n  /**\n   * Title of the chart\n   */\n  title: ReactNode;\n  /**\n   * Description of the chart\n   */\n  description: ReactNode;\n  /**\n   * Vectors to display in the chart\n   */\n  vectors: Vector[];\n  /**\n   * Labels for the x and y axes\n   */\n  labels?: {\n    /**\n     * Label for the x axis\n     * @default \"x\"\n     */\n    xAxis: string;\n    /**\n     * Label for the y axis\n     * @default \"y\"\n     */\n    yAxis: string;\n  };\n};\n\nexport function VectorChart({\n  title,\n  description,\n  vectors,\n  labels = { xAxis: \"x\", yAxis: \"y\" },\n}: Props) {\n  // Transform the vectors data for the chart\n  const data = useMemo(() => {\n    // Find all unique x values from all vectors\n    const allXValues = new Set<number>();\n    for (const vector of vectors) {\n      for (const point of vector.points) {\n        allXValues.add(point.x);\n      }\n    }\n\n    // Sort the x values\n    const sortedXValues = [...allXValues].sort((a, b) => a - b);\n\n    // Create data points for each x value\n    return sortedXValues.map((x) => {\n      const dataPoint: Record<string, number | null> = { x };\n\n      // Add the y value for each vector at this x point if it exists\n      for (const vector of vectors) {\n        const point = vector.points.find((p) => p.x === x);\n        dataPoint[vector.id] = point?.y ?? null;\n      }\n\n      return dataPoint;\n    });\n  }, [vectors]);\n\n  // Create chart config with colors for each vector\n  const chartConfig = useMemo(() => {\n    const config: ChartConfig = {};\n\n    vectors.forEach((vector, index) => {\n      config[vector.id] = {\n        label: vector.name,\n        color: vector.color || `var(--chart-${index + 1})`,\n      };\n    });\n\n    return config;\n  }, [vectors]);\n\n  // Process vectors to determine which points need arrow markers\n  const processedVectors = useMemo(() => {\n    return vectors.map((vector) => {\n      // Need at least 2 points to determine direction\n      if (vector.points.length < 2) {\n        return {\n          ...vector,\n          startPoint: null,\n          endPoint: null,\n          arrowAtEnd: false,\n          arrowAtStart: false,\n        };\n      }\n\n      const direction = vector.direction || \"forward\";\n\n      // Determine which points get the arrow markers based on direction\n      if (direction === \"forward\") {\n        // Arrow at the last point (default)\n        return {\n          ...vector,\n          startPoint: vector.points[0],\n          endPoint: vector.points.at(-1),\n          arrowAtEnd: true,\n          arrowAtStart: false,\n        };\n      }\n\n      if (direction === \"both\") {\n        // Arrows at both ends\n        return {\n          ...vector,\n          startPoint: vector.points[0],\n          endPoint: vector.points.at(-1),\n          arrowAtEnd: true,\n          arrowAtStart: true,\n        };\n      }\n\n      if (direction === \"none\") {\n        // No arrows at any end\n        return {\n          ...vector,\n          startPoint: vector.points[0],\n          endPoint: vector.points.at(-1),\n          arrowAtEnd: false,\n          arrowAtStart: false,\n        };\n      }\n\n      // Arrow at the first point (backward direction)\n      return {\n        ...vector,\n        startPoint: vector.points.at(-1),\n        endPoint: vector.points[0],\n        arrowAtEnd: false,\n        arrowAtStart: true,\n      };\n    });\n  }, [vectors]);\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <LineChart accessibilityLayer data={data}>\n            <CartesianGrid />\n            <defs>\n              {/* Vector arrows for both directions */}\n              {processedVectors.map((vector, index) => {\n                const color = vector.color || `var(--chart-${index + 1})`;\n                return (\n                  <Fragment key={`arrows-${vector.id}`}>\n                    {/* Forward arrow marker (end of line) */}\n                    <marker\n                      id={`arrow-end-${vector.id}`}\n                      markerHeight=\"8\"\n                      markerWidth=\"8\"\n                      orient=\"auto\"\n                      refX=\"10\"\n                      refY=\"5\"\n                      viewBox=\"0 0 10 10\"\n                    >\n                      <path d=\"M 0 0 L 10 5 L 0 10 Z\" fill={color} />\n                    </marker>\n                    {/* Backward arrow marker (start of line) */}\n                    <marker\n                      id={`arrow-start-${vector.id}`}\n                      markerHeight=\"8\"\n                      markerWidth=\"8\"\n                      orient=\"auto-start-reverse\"\n                      refX=\"10\"\n                      refY=\"5\"\n                      viewBox=\"0 0 10 10\"\n                    >\n                      <path d=\"M 0 0 L 10 5 L 0 10 Z\" fill={color} />\n                    </marker>\n                  </Fragment>\n                );\n              })}\n            </defs>\n            <XAxis\n              dataKey=\"x\"\n              tickFormatter={(value) => {\n                if (typeof value === \"number\") {\n                  return Number.isInteger(value)\n                    ? value.toString()\n                    : value.toFixed(2);\n                }\n                return value;\n              }}\n              tickMargin={8}\n            />\n            <YAxis\n              label={{\n                value: labels.yAxis,\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickFormatter={(value) => {\n                if (typeof value === \"number\") {\n                  return Number.isInteger(value)\n                    ? value.toString()\n                    : value.toFixed(2);\n                }\n                return value;\n              }}\n              tickMargin={8}\n            />\n\n            <ChartTooltip\n              content={({ active, payload }) => {\n                if (active && payload && payload.length) {\n                  const xValue = payload[0]?.payload.x;\n\n                  return (\n                    <div className=\"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\">\n                      {payload.map((entry) => {\n                        if (entry.value === null) {\n                          return null;\n                        }\n\n                        const vectorName = entry.name;\n                        const yValue = entry.value;\n                        const color = entry.color;\n\n                        return (\n                          <div\n                            className=\"flex items-center gap-2\"\n                            key={`tooltip-${entry.name}-${entry.value}`}\n                          >\n                            <div\n                              className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                              style={{ backgroundColor: color }}\n                            />\n                            <span className=\"font-medium\">{vectorName}</span>\n                            <span className=\"ml-auto font-mono tracking-tight\">\n                              ({xValue}, {yValue})\n                            </span>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  );\n                }\n                return null;\n              }}\n            />\n\n            {processedVectors.map((vector, index) => {\n              const color = vector.color || `var(--chart-${index + 1})`;\n\n              // Set marker properties based on direction\n              const markerProps: Record<string, string> = {};\n\n              if (vector.arrowAtEnd) {\n                markerProps.markerEnd = `url(#arrow-end-${vector.id})`;\n              }\n\n              if (vector.arrowAtStart) {\n                markerProps.markerStart = `url(#arrow-start-${vector.id})`;\n              }\n\n              return (\n                <Line\n                  connectNulls\n                  dataKey={vector.id}\n                  dot\n                  key={vector.id}\n                  name={vector.name}\n                  stroke={color}\n                  strokeWidth={2}\n                  style={{\n                    stroke: color,\n                    ...markerProps,\n                  }}\n                  type={vector.type || \"monotone\"}\n                />\n              );\n            })}\n\n            <ChartLegend\n              content={<ChartLegendContent verticalAlign=\"bottom\" />}\n            />\n          </LineChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9024, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/subject/high-school/11/mathematics/function-composition-inverse-function/function-and-non-function/diagram.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport type React from \"react\";\nimport { useMemo } from \"react\";\n\nconst SVG_PADDING = 20;\nconst ELLIPSE_RX = 50;\nconst ELLIPSE_RY = 90;\nconst ELLIPSE_GAP = 100;\nconst TEXT_PADDING = 15;\nconst LINE_OFFSET = 0.3;\nconst SLOT_CENTER_OFFSET = 0.5;\n\ntype DiagramProps = {\n  title: string;\n  description: string;\n  children: React.ReactNode;\n};\n\nexport function Diagram({ title, description, children }: DiagramProps) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>{children}</CardContent>\n    </Card>\n  );\n}\n\ntype Element = {\n  id: string;\n  label: string;\n};\n\ntype Mapping = {\n  from: string; // Corresponds to Element id in domain\n  to: string; // Corresponds to Element id in codomain\n};\n\ntype RelationVisualizerProps = {\n  domain: Element[];\n  codomain: Element[];\n  mappings: Mapping[];\n  domainLabel?: string;\n  codomainLabel?: string;\n};\n\n// --- SVG Configuration ---\nconst svgWidth = 2 * ELLIPSE_RX * 2 + ELLIPSE_GAP + 2 * SVG_PADDING;\nconst svgHeight = 2 * ELLIPSE_RY + 2 * SVG_PADDING;\n\n// Center X coordinates for the ellipses\nconst domainEllipseCx = SVG_PADDING + ELLIPSE_RX;\nconst codomainEllipseCx = domainEllipseCx + 2 * ELLIPSE_RX + ELLIPSE_GAP;\nconst ellipseCy = SVG_PADDING + ELLIPSE_RY; // Y center for both ellipses\n\n// Calculate X coordinate for text within ellipses\nconst domainTextX = domainEllipseCx;\nconst codomainTextX = codomainEllipseCx;\n\n// Helper to calculate Text Y position dynamically within an ellipse\nconst calculateTextY = (\n  index: number,\n  total: number,\n  ry: number,\n  cy: number\n): number => {\n  // Calculate the effective height available for text\n  const textHeightArea = ry * 2 - TEXT_PADDING * 2;\n  // Calculate the height of each slot\n  const slotHeight = textHeightArea / total;\n  // Calculate the center Y of the slot, offset by top padding and ellipse center\n  return cy - ry + TEXT_PADDING + slotHeight * (index + SLOT_CENTER_OFFSET);\n};\n\nexport function RelationVisualizer({\n  domain,\n  codomain,\n  mappings,\n  domainLabel = \"X\",\n  codomainLabel = \"Y\",\n}: RelationVisualizerProps) {\n  // Calculate Text Y coordinates dynamically for domain and codomain\n  const elementCoords = useMemo(() => {\n    const coords: Record<string, { x: number; y: number }> = {};\n    // Domain elements\n    domain.forEach((el, index) => {\n      coords[el.id] = {\n        x: domainTextX,\n        y: calculateTextY(index, domain.length, ELLIPSE_RY, ellipseCy),\n      };\n    });\n    // Codomain elements\n    codomain.forEach((el, index) => {\n      coords[el.id] = {\n        x: codomainTextX,\n        y: calculateTextY(index, codomain.length, ELLIPSE_RY, ellipseCy),\n      };\n    });\n    return coords;\n  }, [domain, codomain]);\n\n  return (\n    <div className=\"flex justify-center py-4\">\n      <svg\n        aria-labelledby=\"svgTitle\" // Make SVG responsive\n        height={svgHeight} // Fixed height based on ellipse Ry\n        preserveAspectRatio=\"xMidYMid meet\"\n        viewBox={`0 0 ${svgWidth} ${svgHeight}`}\n        width=\"100%\"\n      >\n        <title id=\"svgTitle\">Arrow diagram of relation between sets</title>\n        <defs>\n          <marker\n            id=\"arrowhead-visualizer\" // Unique ID for this component's marker\n            markerHeight=\"6\" // Use viewBox for scaling\n            markerWidth=\"8\"\n            orient=\"auto-start-reverse\"\n            refX=\"7\" // Adjust refX so the tip is at the coordinate, line stops just before\n            refY=\"3\"\n            viewBox=\"0 0 8 6\" // Orients correctly\n          >\n            {/* Use foreground color */}\n            <polygon className=\"fill-foreground/80\" points=\"0 0, 8 3, 0 6\" />\n          </marker>\n        </defs>\n\n        {/* Domain Ellipse and Label */}\n        <text\n          className=\"fill-foreground font-semibold text-sm\"\n          textAnchor=\"middle\" // Position label above ellipse\n          x={domainEllipseCx}\n          y={SVG_PADDING - 10}\n        >\n          {domainLabel}\n        </text>\n        <ellipse\n          className=\"fill-muted stroke-border\"\n          cx={domainEllipseCx}\n          cy={ellipseCy}\n          rx={ELLIPSE_RX}\n          ry={ELLIPSE_RY}\n          strokeWidth=\"1\"\n        />\n\n        {/* Codomain Ellipse and Label */}\n        <text\n          className=\"fill-foreground font-semibold text-sm\"\n          textAnchor=\"middle\" // Position label above ellipse\n          x={codomainEllipseCx}\n          y={SVG_PADDING - 10}\n        >\n          {codomainLabel}\n        </text>\n        <ellipse\n          className=\"fill-muted stroke-border\"\n          cx={codomainEllipseCx}\n          cy={ellipseCy}\n          rx={ELLIPSE_RX}\n          ry={ELLIPSE_RY}\n          strokeWidth=\"1\"\n        />\n\n        {/* Domain Elements (Text) */}\n        {domain.map((el) => (\n          <text\n            className=\"fill-foreground font-medium text-sm\"\n            dominantBaseline=\"middle\"\n            key={`domain-${el.id}`}\n            textAnchor=\"middle\"\n            x={elementCoords[el.id]?.x}\n            y={elementCoords[el.id]?.y}\n          >\n            {el.label}\n          </text>\n        ))}\n\n        {/* Codomain Elements (Text) */}\n        {codomain.map((el) => (\n          <text\n            className=\"fill-foreground font-medium text-sm\"\n            dominantBaseline=\"middle\"\n            key={`codomain-${el.id}`}\n            textAnchor=\"middle\"\n            x={elementCoords[el.id]?.x}\n            y={elementCoords[el.id]?.y}\n          >\n            {el.label}\n          </text>\n        ))}\n\n        {/* Mappings (Arrows/Lines) */}\n        {mappings.map((mapping, index) => {\n          const startCoords = elementCoords[mapping.from];\n          const endCoords = elementCoords[mapping.to];\n\n          // Check if coordinates exist before drawing\n          if (!(startCoords && endCoords)) {\n            return null;\n          }\n\n          // Calculate start/end points for the line, slightly offset from text center\n          const lineStartX = startCoords.x + ELLIPSE_RX * LINE_OFFSET; // Start near edge of domain ellipse\n          const lineEndX = endCoords.x - ELLIPSE_RX * LINE_OFFSET; // End near edge of codomain ellipse\n\n          return (\n            <line\n              className=\"stroke-foreground/50\"\n              key={`mapping-${mapping.from}-${mapping.to}-${index}`}\n              markerEnd=\"url(#arrowhead-visualizer)\"\n              strokeWidth=\"1.5\" // Adjusted end point for marker\n              x1={lineStartX}\n              x2={lineEndX}\n              y1={startCoords.y}\n              y2={endCoords.y}\n            />\n          );\n        })}\n      </svg>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAQA;AAVA;;;;AAYA,MAAM,cAAc;AACpB,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB,MAAM,cAAc;AACpB,MAAM,eAAe;AACrB,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAQpB,SAAS,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAgB;IACpE,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BAAE;;;;;;;;;;;;AAGpB;AAoBA,4BAA4B;AAC5B,MAAM,WAAW,IAAI,aAAa,IAAI,cAAc,IAAI;AACxD,MAAM,YAAY,IAAI,aAAa,IAAI;AAEvC,wCAAwC;AACxC,MAAM,kBAAkB,cAAc;AACtC,MAAM,oBAAoB,kBAAkB,IAAI,aAAa;AAC7D,MAAM,YAAY,cAAc,YAAY,6BAA6B;AAEzE,kDAAkD;AAClD,MAAM,cAAc;AACpB,MAAM,gBAAgB;AAEtB,oEAAoE;AACpE,MAAM,iBAAiB,CACrB,OACA,OACA,IACA;IAEA,oDAAoD;IACpD,MAAM,iBAAiB,KAAK,IAAI,eAAe;IAC/C,oCAAoC;IACpC,MAAM,aAAa,iBAAiB;IACpC,+EAA+E;IAC/E,OAAO,KAAK,KAAK,eAAe,aAAa,CAAC,QAAQ,kBAAkB;AAC1E;AAEO,SAAS,mBAAmB,EACjC,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,cAAc,GAAG,EACjB,gBAAgB,GAAG,EACK;IACxB,mEAAmE;IACnE,MAAM,gBAAgB,IAAA,gNAAO,EAAC;QAC5B,MAAM,SAAmD,CAAC;QAC1D,kBAAkB;QAClB,OAAO,OAAO,CAAC,CAAC,IAAI;YAClB,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG;gBACd,GAAG;gBACH,GAAG,eAAe,OAAO,OAAO,MAAM,EAAE,YAAY;YACtD;QACF;QACA,oBAAoB;QACpB,SAAS,OAAO,CAAC,CAAC,IAAI;YACpB,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG;gBACd,GAAG;gBACH,GAAG,eAAe,OAAO,SAAS,MAAM,EAAE,YAAY;YACxD;QACF;QACA,OAAO;IACT,GAAG;QAAC;QAAQ;KAAS;IAErB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,mBAAgB;YAChB,QAAQ;YACR,qBAAoB;YACpB,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,WAAW;YACvC,OAAM;;8BAEN,8OAAC;oBAAM,IAAG;8BAAW;;;;;;8BACrB,8OAAC;8BACC,cAAA,8OAAC;wBACC,IAAG;wBACH,cAAa;wBACb,aAAY;wBACZ,QAAO;wBACP,MAAK;wBACL,MAAK;wBACL,SAAQ;kCAGR,cAAA,8OAAC;4BAAQ,WAAU;4BAAqB,QAAO;;;;;;;;;;;;;;;;8BAKnD,8OAAC;oBACC,WAAU;oBACV,YAAW;oBACX,GAAG;oBACH,GAAG,cAAc;8BAEhB;;;;;;8BAEH,8OAAC;oBACC,WAAU;oBACV,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,aAAY;;;;;;8BAId,8OAAC;oBACC,WAAU;oBACV,YAAW;oBACX,GAAG;oBACH,GAAG,cAAc;8BAEhB;;;;;;8BAEH,8OAAC;oBACC,WAAU;oBACV,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,aAAY;;;;;;gBAIb,OAAO,GAAG,CAAC,CAAC,mBACX,8OAAC;wBACC,WAAU;wBACV,kBAAiB;wBAEjB,YAAW;wBACX,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC,EAAE;wBACzB,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC,EAAE;kCAExB,GAAG,KAAK;uBALJ,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;;;;;gBAUzB,SAAS,GAAG,CAAC,CAAC,mBACb,8OAAC;wBACC,WAAU;wBACV,kBAAiB;wBAEjB,YAAW;wBACX,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC,EAAE;wBACzB,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC,EAAE;kCAExB,GAAG,KAAK;uBALJ,CAAC,SAAS,EAAE,GAAG,EAAE,EAAE;;;;;gBAU3B,SAAS,GAAG,CAAC,CAAC,SAAS;oBACtB,MAAM,cAAc,aAAa,CAAC,QAAQ,IAAI,CAAC;oBAC/C,MAAM,YAAY,aAAa,CAAC,QAAQ,EAAE,CAAC;oBAE3C,4CAA4C;oBAC5C,IAAI,CAAC,CAAC,eAAe,SAAS,GAAG;wBAC/B,OAAO;oBACT;oBAEA,4EAA4E;oBAC5E,MAAM,aAAa,YAAY,CAAC,GAAG,aAAa,aAAa,oCAAoC;oBACjG,MAAM,WAAW,UAAU,CAAC,GAAG,aAAa,aAAa,oCAAoC;oBAE7F,qBACE,8OAAC;wBACC,WAAU;wBAEV,WAAU;wBACV,aAAY;wBACZ,IAAI;wBACJ,IAAI;wBACJ,IAAI,YAAY,CAAC;wBACjB,IAAI,UAAU,CAAC;uBANV,CAAC,QAAQ,EAAE,QAAQ,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,OAAO;;;;;gBAS3D;;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 9279, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/subject/high-school/11/mathematics/function-composition-inverse-function/function-concept/analogy.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button as UiButton } from \"@repo/design-system/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  ArrowDownIcon,\n  ArrowRightIcon,\n  MinusIcon,\n  PlusIcon,\n} from \"lucide-react\";\nimport { useMemo, useState } from \"react\";\nimport {\n  Button,\n  Group,\n  Input,\n  Label,\n  NumberField,\n} from \"react-aria-components\";\nimport { InlineMath } from \"react-katex\";\n\nconst DEFAULT_INPUT = 5;\n\ntype Props = {\n  title: string;\n  description: string;\n};\n\nexport function FunctionAnalogy({ title, description }: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <Machine />\n    </Card>\n  );\n}\n\nfunction Machine() {\n  const [input, setInput] = useState<number>(DEFAULT_INPUT);\n\n  const output = useMemo(() => {\n    // y = 2x + 1\n    return 2 * input + 1;\n  }, [input]);\n\n  return (\n    <>\n      <CardContent>\n        <div className=\"flex flex-col items-center justify-center gap-8 py-8 sm:flex-row\">\n          <UiButton className=\"pointer-events-none\" variant=\"default\">\n            <InlineMath math={`x = ${input}`} />\n          </UiButton>\n\n          <ArrowRightIcon className=\"hidden size-4 sm:block\" />\n          <ArrowDownIcon className=\"block size-4 sm:hidden\" />\n\n          <div className=\"flex items-center justify-center rounded-md bg-accent p-8 text-accent-foreground shadow-xs\">\n            <InlineMath math=\"f(x) = 2x + 1\" />\n          </div>\n\n          <ArrowDownIcon className=\"block size-4 sm:hidden\" />\n          <ArrowRightIcon className=\"hidden size-4 sm:block\" />\n\n          <UiButton className=\"pointer-events-none\" variant=\"secondary\">\n            <InlineMath math={`f(x) = ${output}`} />\n          </UiButton>\n        </div>\n      </CardContent>\n      <CardFooter className=\"justify-center border-t\">\n        <NumberField\n          formatOptions={{\n            localeMatcher: \"best fit\",\n          }}\n          onChange={setInput}\n          value={input}\n        >\n          <Label className=\"sr-only\">Machine function</Label>\n          <Group className=\"relative inline-flex h-9 w-full items-center overflow-hidden whitespace-nowrap rounded-md border border-input text-sm shadow-xs outline-none transition-[color,box-shadow] data-focus-within:border-ring data-disabled:opacity-50 data-focus-within:ring-[3px] data-focus-within:ring-ring/50 data-focus-within:has-aria-invalid:border-destructive data-focus-within:has-aria-invalid:ring-destructive/20 dark:data-focus-within:has-aria-invalid:ring-destructive/40\">\n            <Button\n              className=\"-ms-px flex aspect-square h-[inherit] cursor-pointer items-center justify-center rounded-s-md border border-input bg-background text-muted-foreground/80 text-sm transition-[color,box-shadow] hover:bg-accent hover:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n              slot=\"decrement\"\n            >\n              <MinusIcon aria-hidden=\"true\" className=\"size-4\" />\n            </Button>\n            <Input className=\"w-full grow bg-background px-3 py-2 text-center font-mono text-foreground tabular-nums\" />\n            <Button\n              className=\"-me-px flex aspect-square h-[inherit] cursor-pointer items-center justify-center rounded-e-md border border-input bg-background text-muted-foreground/80 text-sm transition-[color,box-shadow] hover:bg-accent hover:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n              slot=\"increment\"\n            >\n              <PlusIcon aria-hidden=\"true\" className=\"size-4\" />\n            </Button>\n          </Group>\n        </NumberField>\n      </CardFooter>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAQA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AAzBA;;;;;;;;AA2BA,MAAM,gBAAgB;AAOf,SAAS,gBAAgB,EAAE,KAAK,EAAE,WAAW,EAAS;IAC3D,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC;;;;;;;;;;;AAGP;AAEA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS;IAE3C,MAAM,SAAS,IAAA,gNAAO,EAAC;QACrB,aAAa;QACb,OAAO,IAAI,QAAQ;IACrB,GAAG;QAAC;KAAM;IAEV,qBACE;;0BACE,8OAAC,wKAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qKAAQ;4BAAC,WAAU;4BAAsB,SAAQ;sCAChD,cAAA,8OAAC,sKAAU;gCAAC,MAAM,CAAC,IAAI,EAAE,OAAO;;;;;;;;;;;sCAGlC,8OAAC,wOAAc;4BAAC,WAAU;;;;;;sCAC1B,8OAAC,qOAAa;4BAAC,WAAU;;;;;;sCAEzB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,sKAAU;gCAAC,MAAK;;;;;;;;;;;sCAGnB,8OAAC,qOAAa;4BAAC,WAAU;;;;;;sCACzB,8OAAC,wOAAc;4BAAC,WAAU;;;;;;sCAE1B,8OAAC,qKAAQ;4BAAC,WAAU;4BAAsB,SAAQ;sCAChD,cAAA,8OAAC,sKAAU;gCAAC,MAAM,CAAC,OAAO,EAAE,QAAQ;;;;;;;;;;;;;;;;;;;;;;0BAI1C,8OAAC,uKAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,kLAAW;oBACV,eAAe;wBACb,eAAe;oBACjB;oBACA,UAAU;oBACV,OAAO;;sCAEP,8OAAC,sKAAK;4BAAC,WAAU;sCAAU;;;;;;sCAC3B,8OAAC,sKAAK;4BAAC,WAAU;;8CACf,8OAAC,wKAAM;oCACL,WAAU;oCACV,MAAK;8CAEL,cAAA,8OAAC,qNAAS;wCAAC,eAAY;wCAAO,WAAU;;;;;;;;;;;8CAE1C,8OAAC,sKAAK;oCAAC,WAAU;;;;;;8CACjB,8OAAC,wKAAM;oCACL,WAAU;oCACV,MAAK;8CAEL,cAAA,8OAAC,kNAAQ;wCAAC,eAAY;wCAAO,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrD","debugId":null}},
    {"offset": {"line": 9523, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/contents/subject/high-school/11/mathematics/function-composition-inverse-function/inverse-function/illustration.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@repo/design-system/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport { ArrowDownIcon, ArrowRightIcon } from \"lucide-react\";\nimport type { ReactNode } from \"react\";\n\ntype Props = {\n  title: ReactNode;\n  description: ReactNode;\n  machineLabel: string;\n  content: {\n    input: string;\n    output: string;\n  };\n};\n\nexport function FunctionIllustration({\n  title,\n  description,\n  machineLabel,\n  content,\n}: Props) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex flex-col items-center justify-center gap-8 py-8 sm:flex-row\">\n          <Button className=\"pointer-events-none\">{content.input}</Button>\n\n          <ArrowRightIcon className=\"hidden size-4 sm:block\" />\n          <ArrowDownIcon className=\"block size-4 sm:hidden\" />\n\n          <div className=\"flex items-center justify-center rounded-md bg-accent p-8 text-accent-foreground\">\n            {machineLabel}\n          </div>\n\n          <ArrowDownIcon className=\"block size-4 sm:hidden\" />\n          <ArrowRightIcon className=\"hidden size-4 sm:block\" />\n\n          <Button className=\"pointer-events-none\" variant=\"destructive\">\n            {content.output}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AAAA;AAVA;;;;;AAuBO,SAAS,qBAAqB,EACnC,KAAK,EACL,WAAW,EACX,YAAY,EACZ,OAAO,EACD;IACN,qBACE,8OAAC,iKAAI;;0BACH,8OAAC,uKAAU;;kCACT,8OAAC,sKAAS;kCAAE;;;;;;kCACZ,8OAAC,4KAAe;kCAAE;;;;;;;;;;;;0BAEpB,8OAAC,wKAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qKAAM;4BAAC,WAAU;sCAAuB,QAAQ,KAAK;;;;;;sCAEtD,8OAAC,wOAAc;4BAAC,WAAU;;;;;;sCAC1B,8OAAC,qOAAa;4BAAC,WAAU;;;;;;sCAEzB,8OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAGH,8OAAC,qOAAa;4BAAC,WAAU;;;;;;sCACzB,8OAAC,wOAAc;4BAAC,WAAU;;;;;;sCAE1B,8OAAC,qKAAM;4BAAC,WAAU;4BAAsB,SAAQ;sCAC7C,QAAQ,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAM3B","debugId":null}},
    {"offset": {"line": 9641, "column": 0}, "map": {"version":3,"sources":["file:///D:/github/nakafa.com-main/packages/design-system/components/contents/scatter-diagram.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@repo/design-system/components/ui/card\";\nimport {\n  type ChartConfig,\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@repo/design-system/components/ui/chart\";\nimport type { ReactNode } from \"react\";\nimport {\n  CartesianGrid,\n  ComposedChart,\n  Line,\n  ReferenceLine,\n  Scatter,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\ntype Point = { x: number; y: number };\n\ntype Dataset = {\n  name: string;\n  color: string;\n  points: Point[];\n};\n\ntype RegressionLineStyle = {\n  color?: string;\n  strokeDasharray?: string;\n};\n\ntype Props = {\n  title: ReactNode;\n  description: ReactNode;\n  xAxisLabel?: string;\n  yAxisLabel?: string;\n  xAxisDomain?: \"min-max\";\n  datasets: Dataset[];\n  calculateRegressionLine?: boolean;\n  regressionLineStyle?: RegressionLineStyle;\n  showResiduals?: boolean;\n};\n\nexport function ScatterDiagram({\n  title,\n  description,\n  xAxisLabel,\n  yAxisLabel,\n  xAxisDomain,\n  datasets,\n  calculateRegressionLine,\n  regressionLineStyle,\n  showResiduals,\n}: Props) {\n  const chartConfig = datasets.reduce<ChartConfig>(\n    (acc, dataset) => {\n      acc[dataset.name] = {\n        label: dataset.name,\n        color: dataset.color,\n      };\n      return acc;\n    },\n    {\n      x: { label: xAxisLabel || \"X\" },\n      y: { label: yAxisLabel || \"Y\" },\n    }\n  );\n\n  let regressionLineData: { x: number; y: number }[] | undefined;\n  let regressionParams: { m: number; b: number } | null = null;\n\n  if (calculateRegressionLine) {\n    const allPoints = datasets.flatMap((d) => d.points);\n    regressionParams = calculateLeastSquares(allPoints);\n\n    if (regressionParams && allPoints.length > 0) {\n      const xValues = allPoints.map((p) => p.x);\n      const xMin = Math.min(...xValues);\n      const xMax = Math.max(...xValues);\n      const { m, b } = regressionParams;\n      regressionLineData = [\n        { x: xMin, y: m * xMin + b },\n        { x: xMax, y: m * xMax + b },\n      ];\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>{description}</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <ChartContainer config={chartConfig}>\n          <ComposedChart accessibilityLayer>\n            <CartesianGrid vertical={false} />\n            <XAxis\n              dataKey=\"x\"\n              domain={\n                xAxisDomain === \"min-max\" ? [\"dataMin\", \"dataMax\"] : undefined\n              }\n              label={{\n                value: xAxisLabel || \"X\",\n                position: \"bottom\",\n                offset: 10,\n                style: { textAnchor: \"middle\" },\n              }}\n              tickFormatter={(value) => value.toString()}\n              tickMargin={8}\n              type=\"number\"\n            />\n            <YAxis\n              dataKey=\"y\"\n              label={{\n                value: yAxisLabel || \"Y\",\n                angle: -90,\n                position: \"insideLeft\",\n                style: { textAnchor: \"middle\" },\n              }}\n              tickMargin={8}\n              type=\"number\"\n            />\n            <ChartTooltip content={<ChartTooltipContent hideLabel={true} />} />\n            {datasets.map((dataset) => (\n              <Scatter\n                data={dataset.points}\n                fill={dataset.color}\n                key={dataset.name}\n                name={dataset.name}\n              />\n            ))}\n            {regressionLineData && calculateRegressionLine && (\n              <Line\n                activeDot={false}\n                data={regressionLineData}\n                dataKey=\"y\"\n                dot={false}\n                stroke={regressionLineStyle?.color || \"var(--chart-5)\"}\n                strokeDasharray={regressionLineStyle?.strokeDasharray}\n                strokeWidth={2}\n                type=\"linear\"\n              />\n            )}\n            {showResiduals &&\n              regressionParams &&\n              datasets.flatMap((dataset) =>\n                dataset.points.map((point, index) => {\n                  const yPredicted =\n                    regressionParams.m * point.x + regressionParams.b;\n                  return (\n                    <ReferenceLine\n                      ifOverflow=\"visible\"\n                      key={`${dataset.name}-residual-${index}`}\n                      segment={[\n                        { x: point.x, y: point.y },\n                        { x: point.x, y: yPredicted },\n                      ]}\n                      stroke={dataset.color}\n                      strokeDasharray=\"2 2\"\n                    />\n                  );\n                })\n              )}\n            <ChartLegend content={<ChartLegendContent className=\"mt-6\" />} />\n          </ComposedChart>\n        </ChartContainer>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction calculateLeastSquares(\n  points: Point[]\n): { m: number; b: number } | null {\n  const n = points.length;\n  if (n < 2) {\n    return null;\n  }\n\n  let sumX = 0;\n  let sumY = 0;\n  let sumXy = 0;\n  let sumX2 = 0;\n\n  for (const p of points) {\n    sumX += p.x;\n    sumY += p.y;\n    sumXy += p.x * p.y;\n    sumX2 += p.x * p.x;\n  }\n\n  const denominator = n * sumX2 - sumX * sumX;\n  if (denominator === 0) {\n    return null;\n  }\n\n  const m = (n * sumXy - sumX * sumY) / denominator;\n  const b = (sumY - m * sumX) / n;\n\n  return { m, b };\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}